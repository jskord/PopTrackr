YUI.add("q-Message",function(n){var a=n.namespace("IXL"),i=require("ixl/content/text/Paragraph"),o=a.React.getReactInstance(),r=require("ixl/content/util/audio/generate-audio-info"),e=require("ixl/content/util/audio/TEXT_REGEX"),s=e.REGEX_WORDISH,c=e.REGEX_PRONOUNCEABLE,u=require("ixl/content/util/audio/AudioSystemNumberConstants"),l=n.Array,d=(n.Lang,n.Node,["GCFillInWithNumberPadBridge"]);function h(e){return e.test("span.txt")?-1===e.get("text").indexOf(" "):e.test("div, input")}a.Message=n.Base.create("message",a.Component,[],{get:function(e){if("text"!==e)return a.Component.prototype.get.call(this,e);return a.ObjectUtils.getText(this)},getSVGText:function(){var e=this.get("pieces"),t="";return n.Array.each(e,function(e){t+=a.ObjectUtils.getSVGText(e)}),t},render:function(){var i=this._parentNode,n=i.get("children").size(),o=[];function e(){var e=o[0];if(h(e)&&1<o.length&&h(o[1])){var t=i.appendChild('<div class="bundle"/>');for(t.appendChild(e),o.splice(0,1);0<o.length&&h(o[0]);)t.appendChild(o[0]),o.splice(0,1);if(e.hasClass("tbo")){var n=e.get("children");0<n.size()&&(t.insertBefore(n.item(n.size()-1),e),i.insertBefore(e,t),e.appendChild(t))}}else e.appendTo(i),o.splice(0,1)}for(l.each(this.get("pieces"),function(e){e._parentNode=i,e.render(),i.get("children").each(function(e,t){n<=t&&(e.remove(!1),o.push(e))})});0!==o.length;)e()},getNumChildComponents:function(){return this.get("pieces").length},getChildComponent:function(e){return this.get("pieces")[e]},setChildComponent:function(e,t){this.get("pieces")[e]=t},getAudioText:function(e,t){var n=this.get("context").audioSystemNumber===u.QG3AudioSolution||void 0!==t&&t?c:s;if(l.find(this.get("pieces"),function(e){var t=e.get("text");return t&&t.match&&t.match(n)})){for(var i,o="",r=0;r<this.getNumChildComponents();r++)i=this.getChildComponent(r).getAudioText(e,!0),this.getChildComponent(r)instanceof a.QMVariable&&"a"===i&&(i="ay"),o+=i;if(this.get("context").audioSystemNumber===u.QG3AudioSolution||o.match(c))return o}return""},toUText:function(){return{semantics:{Message:1},text:this.get("pieces").map(function(e){return e&&e.toUText?e.toUText():e&&e.toReact?e.toReact():e})}},toReact:function(){for(var e=!0,t=this.get("pieces").slice(0),n=0;n<t.length;n++)d.includes(t[n].get("objectType"))&&(e=!1);return o.createElement(i,{uText:this.toUText(),context:this.get("context"),clickContentToPlay:e,audioInfo:r.fromYUIObject(this)})},hasReactAudio:!0})},"@VERSION@",{requires:["base","node","array-extras","global-React","q-Component","q-HTMLUtils","q-ObjectUtils","q-QMVariable","q-css-Bundle","yui-gallery-nodelist-extras","ixl_content_text_Paragraph"]});
YUI.add("q-Semanticked",function(t){var e=t.namespace("IXL"),n=require("ixl/content/text/Paragraph"),o=(require("ixl/content/components/semantic/StylizerFactory"),require("ixl/content/util/audio/generate-audio-info")),r=e.React.getReactInstance(),c=require("ixl/content/util/ReactAudioWrapper");e.Semanticked=t.Base.create("semanticked",e.Component,[],{initializer:function(){this.get("semanticTag").initialize&&this.get("semanticTag").initialize(this.get("content"))},render:function(){this.get("semanticTag").draw(this._parentNode,this.get("content"))},toUText:function(){var t={},e=this.get("semanticTag");e.stylizer?t[e.objectType]=e.stylizer:t[e.objectType]=1;var a=this.get("content");return"audioWrapper"===this.get("content").name&&(a=this.get("content").get("content")),a&&a.toUText?a=a.toUText():a&&a.toReact&&(a=a.toReact()),{semantics:t,text:a}},toReact:function(){var t=r.createElement(n,{uText:this.toUText(),clickContentToPlay:!0,audioInfo:o.fromYUIObject(this),inline:!0});if("audioWrapper"!==this.get("content").name)return t;var e,a=this.get("content").render(),i=a.one(".practice-audio-button");return this.get("content").get("context")&&(e=this.get("content").get("context").generatorCode),r.createElement(c,{audioId:a.getAttribute("data-practice-audio-id"),wrapperId:a.getAttribute("id"),buttonId:i.getAttribute("id"),hideButton:!0,audioText:i.getAttribute("data-practice-audio-text"),audioPaths:i.getAttribute("data-practice-audio-paths"),audioLanguage:i.getAttribute("data-practice-audio-language"),audioCountry:i.getAttribute("data-practice-audio-country"),audioGradeLevel:i.getAttribute("data-practice-audio-grade-level"),timestamp:i.getAttribute("data-practice-audio-timestamp"),content:t,generatorCode:e})},getAudioText:function(t){return this.get("semanticTag")._applyToAudioText(e.Semanticked.superclass.getAudioText.apply(this,[t]))}})},"@VERSION@",{requires:["base","node","array-extras","global-React","q-Component","ixl_content_text_Paragraph","ixl_content_components_semantic_StylizerFactory","ixl_content_util_ReactAudioWrapper"]});
YUI.add("q-SemanticTag",function(e){var a=e.namespace("IXL");a.SemanticTag=function(){},e.extend(a.SemanticTag,Object,{draw:function(a,e){var n=a.appendChild("<div/>");e._parentNode=n,e.render();var t=n.get("children"),i=!t.isEmpty();t.each(function(e){this._apply(e),a.appendChild(e)},this),i?(n.remove(!0),e._parentNode=a):this._apply(n)},_apply:function(e){},_applyToAudioText:function(e){return e},stylizer:null})},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-ImportantTag",function(t){var o=t.namespace("IXL"),n=require("ixl/content/components/semantic/StylizerFactory");o.ImportantTag=function(t){this.importantColor=new o.ColorSetting(t,t.color,1,o.ColorUtils.NORMAL_TEXT,.75);var r=this;this.stylizer=n.createStylizer(function(t){if(r.importantColor.color){var o=t.style?t.style:{};o.color=r.importantColor.toHexString(),t.style=o}})},t.extend(o.ImportantTag,o.SemanticTag,{_apply:function(t){t.addClass("important"),this.importantColor.color&&t.setStyle("color",this.importantColor.toHexString())}})},"@VERSION@",{requires:["base","node","array-extras","q-SemanticTag","q-css-Important","ixl_content_components_semantic_StylizerFactory"]});
YUI.add('lang/q-QMPoint', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['audio_text'] = '{x_coordinate} comma {y_coordinate}';
  IXL.Intl.addModule('q-QMPoint', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add('lang/q-QMExponent', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['measureConversions.inches'] = 'inches';
  text['measureConversions.centimeters'] = 'centimeters';
  text['audio_text'] = '{base} to the {exponent}';
  text['measureConversions.yards'] = 'yards';
  text['measureConversions.meters'] = 'meters';
  text['audio_text.square'] = 'square {unit}';
  text['audio_text.cubic'] = 'cubic {unit}';
  text['measureConversions.miles'] = 'miles';
  text['measureConversions.kilometers'] = 'kilometers';
  text['measureConversions.millimeters'] = 'millimeters';
  text['measureConversions.feet'] = 'feet';
  IXL.Intl.addModule('q-QMExponent', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add("q-QMTrigFunction",function(e){var t=e.namespace("IXL");t.QMTrigFunction=e.Base.create("trigFunction",t.Component,[],{render:function(){var e=this._parentNode,n=this.get("children")[0],r=this.get("symbol"),a=e.appendChild('<div class="expression trigFunction"/>');r._parentNode=a,r.render();var s=a.appendChild('<div class="args"/>');n instanceof t.QMParentheses&&s.addClass("containsParens"),n._parentNode=s,n.render()}})},"@VERSION@",{requires:["base","node","array-extras","q-Component","q-QMParentheses","q-css-TrigFunctionSymbol"]});
YUI.add("q-QMExponent",function(e){var d=e.namespace("IXL"),t=require("ixl/content/expression/scripted/Scripted"),n=d.React.getReactInstance(),p=require("ixl/content/util/join-classes"),x=require("ixl/content/util/is-mobile-device"),s=d.Intl.getModule("q-QMExponent"),u=require("ixl/content/util/ClassNameUtils"),g="displayExplanation",m="hideExplanation",c={"⁰":0,"¹":1,"²":2,"³":3,"⁴":4,"⁵":5,"⁶":6,"⁷":7,"⁸":8,"⁹":9},a={m:"meters",ft:"feet",mi:"miles",cm:"centimeters",mm:"millimeters",in:"inches",km:"kilometers",yd:"yards"};d.QMExponent=e.Base.create("exponent",d.Component,[d.DOMAttachAware],{render:function(){var e,t,n=this._parentNode,i=p({expression:!0,wholeExp:!0,mobile:x,"sympad-nested-exponent":this.isNested}),s=n.appendChild('<div class="'+i+'"/>'),a=this.get("children")[0],o=this.get("children")[1];if(s.ancestor(".yui3-sympadfiwidget")&&o.pieces&&1===o.pieces.length&&"exponent"===o.pieces[0].name&&(o.pieces[0].isNested=!0),a instanceof d.QMTrigFunction){e=s.appendChild('<div class="expression exponent"/>'),o._parentNode=e,o.render(),t=s.appendChild('<div class="expression base"/>'),a._parentNode=t,a.render();var r=s.one("> .exponent"),l=s.one("> .base > .expression");r&&l&&l.insert(r,1)}else t=s.appendChild('<div class="expression base"/>'),a._parentNode=t,(e=s.appendChild('<div class="expression exponent"/>')).addClass("ixl-exponent"),"plainText"===o.name&&c.hasOwnProperty(o.text)?e.addClass("plainCharExponent"):this.inDocDo(function(){t.hasChildNodes()||t.appendChild('<div class="exponent-fake-base">1</span>'),s.hasClass("sympad-nested-exponent")||d.QMExponent.alignBaseAndExponent(s,t,e)}),a.render(),o._parentNode=e,o.render();t.one("> .variable")&&t.addClass("isVariable")},toReact:function(){return n.createElement(t,{baseExpression:d.React.reactify(this.get("children")[0]),rightSuperscript:d.React.reactify(this.get("children")[1]),noRightMarginOnBase:this.get("noSpaceBetweenBaseAndExponent")})},getNumChildComponents:function(){return 0},getChildComponent:function(e){throw new Error("QMExponent has no accessible child components.")},setChildComponent:function(e,t){throw new Error("QMExponent has no accessible child components.")},getAudioText:function(e){var t=this.get("children")[0].text,n=this.get("children")[1].nonRepeatingPart,i=parseInt(n,10);if(null===t||null===n||null===i||isNaN(i))return s.getText("audio_text",{base:this.get("children")[0].getAudioText(e),exponent:this.get("children")[1].getAudioText(e)});if((2===i||3===i)&&a.hasOwnProperty(t)){if(2===i)return s.getText("audio_text.square",{unit:s.getText("measureConversions."+a[t])});if(3===i)return s.getText("audio_text.cubic",{unit:s.getText("measureConversions."+a[t])})}return s.getText("audio_text",{base:this.get("children")[0].getAudioText(e),exponent:this.get("children")[1].getAudioText(e)})}},{alignBaseAndExponent:function(e,t,n){var i=t.ancestor(".cell.explanation");if(i){u.addClass(i,g);var s=i.ancestor(".cell.entireRight");s||u.removeClass(i,m)}var a=t.get("region"),o=n.get("region"),r=a.height,l=o.height,d=l-r+Math.max(r/2,r-4*l/5),p=Math.floor(d),c=o.top-a.top+p,h=parseInt(n.getStyle("bottom"),10);h=isNaN(h)?0:h,e.setStyle("height",x?r+4:r),n.setStyle("bottom",h+c),e.setStyle("paddingTop",p),i&&(u.removeClass(i,g),s||u.addClass(i,m))}})},"@VERSION@",{requires:["base","node","array-extras","global-React","q-Component","q-DOMAttachAware","q-QMTrigFunction","q-css-QMExponent","q-css-Expression","ixl_content_expression_scripted_Scripted","util-Intl"]});
YUI.add("q-BlankAITInput",function(n){var a=n.namespace("IXL");a.BlankAITInput=a.ComponentSimple.create("blankAITInput",{render:function(){var n=this._parentNode.appendChild("<div/>");n.addClass("blankAITInput").addClass("aitContentBox"),n.set("disabled","disabled")}})},"@VERSION@",{requires:["base","node","array-extras","q-ComponentSimple","q-css-BlankAITInput"]});
YUI.add("q-QMRoot",function(r){var s=r.namespace("IXL");function p(n,a){n&&a&&a._parentNode&&this.inDocDo(function(){var e=n.get("region").height;e<5&&(e=22),a._parentNode.setStyle("bottom",e/3+1+"px")})}s.QMRoot=r.Base.create("root",s.Component,[s.DOMAttachAware],{render:function(){var e=this._parentNode,n=this.get("children"),a=n[0],t=n[1],d=e.appendChild('<div class="expression root"/>');this.get("isSquareRoot")||(t._parentNode=d.appendChild('<div class="radical-index"/>'),t.render());var i=d.appendChild('<div class="radicand"/>'),o=this.get("symbol");(o._parentNode=i.appendChild('<div class="radical"/>'),o.render(),!a||a instanceof s.BlankAITInput)?(i.appendChild('<span class="hiddenRadicand expression number"/>').appendChild("0"),r.bind(p,this)(d,t)):(a._parentNode=i,a.render(),a._parentNode.get("children").isEmpty()&&a._parentNode.addClass("empty"),this.get("isSquareRoot")||a._parentNode.one(".vFrac")||a._parentNode.one(".qm-limit")||r.bind(p,this)(d,t))}})},"@VERSION@",{requires:["base","node","array-extras","q-Component","q-DOMAttachAware","q-BlankAITInput","q-css-Expression","q-css-QMRoot"]});
YUI.add("q-QMAbsoluteValue",function(n){var o=n.namespace("IXL"),i=function(e){n.Lang.isUndefined(e.get("content"))?e.set("drawLarge",!0):i(e.get("content"))},r=function(e){n.Lang.isUndefined(e.get("content"))?e.set("drawLarge",!1):r(e.get("content"))};o.QMAbsoluteValue=o.ComponentSimple.create("absoluteValue",{render:function(){var e,n=this._parentNode.appendChild('<div class="expression absVal"/>'),t=this.get("children")[0];e=t,0<o.ObjectUtils.find(e,function(e){return e instanceof o.QMVerticalFraction||e instanceof o.QMExponent||e instanceof o.QMRoot||e instanceof o.QMParentheses}).length?i(this.get("absValSymbol")):r(this.get("absValSymbol"));var a=this.get("absValSymbol");a._parentNode=n,a.render();var s=n.appendChild('<div style="display: inline-block;" />');t._parentNode=s,t.render(),a.render()}})},"@VERSION@",{requires:["base","node","array-extras","q-ComponentSimple","q-ObjectUtils","q-QMVerticalFraction","q-QMExponent","q-QMParentheses","q-QMRoot","q-css-QMAbsoluteValue","q-css-Expression"]});
YUI.add("q-QMAbsoluteValueSymbol",function(e){var a=e.namespace("IXL");a.QMAbsoluteValueSymbol=e.Base.create("absoluteValueSymbol",a.Component,[a.DOMAttachAware],{render:function(){var e=this._parentNode;if(!0===this.get("drawLarge")){var a=e.appendChild('<div class="bigAbsValBar"/>'),t=a.appendChild("<span>i</span>");t.addClass("hidden"),this._drawLargeBar(a,t)}else{e.appendChild('<span class="smallAbsValBar"/>').appendChild("|")}},_drawLargeBar:function(s,l){this.inDocDo(function(){var e,a,t=(e=s.siblings(),a=0,e&&0<e.size()&&(a=e.reduce(0,function(e,a){return e=Math.max(a.get("region").height,e)})),a);0<t?(l.setStyle("lineHeight",t+"px"),s.setStyle("height",t),s.setStyle("borderRightColor",s.getStyle("color"))):s.appendChild("<span>|</span>")})}})},"@VERSION@",{requires:["base","node","array-extras","q-Component","q-DOMAttachAware","q-css-QMAbsoluteValueSymbol","yui-gallery-nodelist-extras2"]});
YUI.add("q-QMAlmostEqualsSymbol",function(a){var s=a.namespace("IXL");s.QMAlmostEqualsSymbol=a.Base.create("almostEqualsSymbol",s.Component,[],{render:function(){this._parentNode.appendChild('<span class="almostEqualsSymbol">&#8776;</span>')}})},"@VERSION@",{requires:["base","node","array-extras","q-Component"]});
YUI.add("q-CloseBrace",function(e){var s=e.namespace("IXL");s.CloseBrace=function(){s.CloseBrace.superclass.constructor.apply(this,arguments)},s.CloseBrace.NAME="closeBrace",e.extend(s.CloseBrace,e.Shape,{_draw:function(){var e=this.get("width"),s=this.get("height"),a=s/2;this.clear(),this.moveTo(0,.5),this.curveTo(e,0,0,a+.5,e,a+.5),this.curveTo(0,a+.5,e,s+.5,0,s+.5),this.end()}},{ATTRS:e.Shape.ATTRS})},"@VERSION@",{requires:["base","node","array-extras","graphics"]});
YUI.add("q-QMCloseBraceSymbol",function(e){var s=e.namespace("IXL");s.QMCloseBraceSymbol=e.Base.create("closeBraceSymbol",s.ExpressionGroupingSymbols,[],{shape:s.CloseBrace,smallSymbol:"}",smallSymbolClass:"smallBrace",bigSymbolClass:"bigBrace"})},"@VERSION@",{requires:["base","node","array-extras","q-ExpressionGroupingSymbols","q-CloseBrace"]});
YUI.add("q-BracketSymbols",function(s){var e=s.namespace("IXL");e.BracketSymbols=s.Base.create("bracketSymbols",e.ExpressionGroupingSymbols,[e.DOMAttachAware],{_drawLarge:function(s,e,a){s.addClass(this.symbolClass);var r=s.appendChild('<div class="'+this.bigSymbolClass+'">');r.setStyle("height",e+"px"),r.setStyle("borderColor",r.getStyle("color")),r.setStyle("color","")}})},"@VERSION@",{requires:["base","node","array-extras","q-ExpressionGroupingSymbols","q-DOMAttachAware","q-css-BracketSymbols"]});
YUI.add("q-QMCloseBracketSymbol",function(a){var l=a.namespace("IXL");l.QMCloseBracketSymbol=a.Base.create("closeBracketSymbol",l.BracketSymbols,[],{symbolClass:"closeBracketSymbol",bigSymbolClass:"closeBigBracket",smallSymbolClass:"smallBracket",smallSymbol:"]"})},"@VERSION@",{requires:["base","node","array-extras","q-BracketSymbols"]});
YUI.add("q-QMInfinitySymbol",function(n){var i=n.namespace("IXL");i.QMInfinitySymbol=i.ComponentSimple.create("InfinitySymbol",{render:function(){this._parentNode.appendChild('<span class="infinitySymbol"/>').setHTML("&infin;")}})},"@VERSION@",{requires:["base","node","array-extras","q-ComponentSimple","q-css-QMInfinitySymbol"]});
YUI.add("q-QMMathMLConcatenation",function(n){var e=n.namespace("IXL");e.QMMathMLConcatenation=n.Base.create("typicalMathMLParent",e.Component,[],{render:function(){this.get("children").forEach(function(n){n._parentNode=this._parentNode,n.render()},this)},getNumChildComponents:function(){return this.get("children").length},getChildComponent:function(n){return this.get("children")[n]}})},"@VERSION@",{requires:["base","node","array-extras","q-Component"]});
YUI.add("q-OpenBrace",function(e){var a=e.namespace("IXL");a.OpenBrace=function(){a.OpenBrace.superclass.constructor.apply(this,arguments)},a.OpenBrace.NAME="openBrace",e.extend(a.OpenBrace,e.Shape,{_draw:function(){var e=this.get("width"),a=this.get("height"),r=a/2;this.clear(),this.moveTo(e,.5),this.curveTo(0,0,e,r+.5,0,r+.5),this.curveTo(e,r+.5,0,a+.5,e,a+.5),this.end()}},{ATTRS:e.Shape.ATTRS})},"@VERSION@",{requires:["base","node","array-extras","graphics"]});
YUI.add("q-QMOpenBraceSymbol",function(e){var a=e.namespace("IXL");a.QMOpenBraceSymbol=e.Base.create("openBraceSymbol",a.ExpressionGroupingSymbols,[],{shape:a.OpenBrace,smallSymbol:"{",smallSymbolClass:"smallBrace",bigSymbolClass:"bigBrace"})},"@VERSION@",{requires:["base","node","array-extras","q-ExpressionGroupingSymbols","q-OpenBrace"]});
YUI.add("q-QMOpenBracketSymbol",function(a){var e=a.namespace("IXL");e.QMOpenBracketSymbol=a.Base.create("openBracketSymbol",e.BracketSymbols,[],{symbolClass:"openBracketSymbol",bigSymbolClass:"openBigBracket",smallSymbolClass:"smallBracket",smallSymbol:"["})},"@VERSION@",{requires:["base","node","array-extras","q-BracketSymbols"]});
YUI.add("q-SquareRoot",function(e){var t=e.namespace("IXL");t.SquareRoot=function(){t.SquareRoot.superclass.constructor.apply(this,arguments)},t.SquareRoot.NAME="squareRoot",e.extend(t.SquareRoot,e.Shape,{_draw:function(){var e=1-this.get("radicalHeight"),t=this.get("height"),a=this.get("width"),i=Math.round(e*t)+.5;this.clear(),this.moveTo(0,1*i),this.lineTo(3,1*i),this.lineTo(6,1*t),this.lineTo(10,.5),this.lineTo(a,.5),this.end()}},{ATTRS:e.mix({radicalHeight:{value:.333333}},e.Shape.ATTRS)})},"@VERSION@",{requires:["base","node","array-extras","graphics"]});
YUI.add("q-QMRootSymbol",function(e){var d=e.namespace("IXL"),o=require("ixl/content/util/responsive-design-listener"),p=require("ixl/content/util/ClassNameUtils"),u="displayExplanation",g="hideExplanation",i=(e.Array,e.Graphic),v=e.Node;function n(e,t){var i=v.one(e.get("node")),o=i.ancestor(".expression.root"),n=t.ancestor(".cell.explanation"),r=t.ancestor(".row.hasExplanation");if(n){p.addClass(n,u);var s=n.ancestor(".cell.entireRight");s||r||p.removeClass(n,g)}if(o){var a=d.HTMLUtils.findStrokeFor(i);e.set("stroke",a);var h,l=o.get("region"),c=l.height;c<5&&(c=22),h=c<25?-1:-4,e.set("height",c+h),e.set("width",l.width)}n&&(p.removeClass(n,u),s||r||p.addClass(n,g))}d.QMRootSymbol=e.Base.create("rootSymbol",d.Component,[d.DOMAttachAware],{initializer:function(){this.responsiveListener=null,this.graphic=null},destructor:function(){null!==this.responsiveListener&&this.responsiveListener.remove()},drawWithoutContainer:function(e){this.graphic=new i({render:e});var t=this.graphic.addShape({type:d.SquareRoot,stroke:{weight:"700"===e.getStyle("fontWeight")?2:1,color:e.getStyle("color")},width:1,height:1});this.inDocDo(function(){n(t,e)}),setTimeout(function(){n(t,e)}.bind(this),1e3)},render:function(){this.inDocDo(function(){null===this.responsiveListener&&(this.responsiveListener=o(i))}.bind(this));var e=this._parentNode,t=e.appendChild('<div class="rootSymbol"/>');this.drawWithoutContainer(t);var i=function(){this.graphic.removeAllShapes(),n(this.graphic.addShape({type:d.SquareRoot,stroke:{weight:"700"===e.getStyle("fontWeight")?2:1,color:e.getStyle("color")},width:1,height:1}),e)}.bind(this)}})},"@VERSION@",{requires:["base","node","array-extras","array-invoke","graphics","q-Component","q-DOMAttachAware","q-SquareRoot","q-HTMLUtils","q-css-QMRootSymbol"]});
YUI.add("q-QMTypicalMathMLLeaf",function(e){var t=e.namespace("IXL"),n={mo:"binaryOperator",mn:"number",mi:"variable",mtext:"unit"};t.QMTypicalMathMLLeaf=e.Base.create("typicalMathMLLeaf",t.Component,[],{render:function(){var e=this.get("textContent");e&&"∘"===e.trim()&&(e="°");var t=this._parentNode.appendChild('<div class="expression"/>'),a=n[this.get("nodeName")];a&&(t.addClass(a),"variable"===a&&1<e.trim().length&&t.addClass("multiLettered")),t.set("textContent",e)},getNumChildComponents:function(){return 0}})},"@VERSION@",{requires:["base","node","array-extras","q-Component"]});
YUI.add("q-MathMLRenderer",function(a){var i=a.namespace("IXL");function r(e){var n,t=[];for(n=0;n<e.length;n++)t.push(e[n]);return t}function o(e){if(e.children)return r(e.children);for(var n=[],t=e.firstElementChild;t;)n.push(t),t=t.nextElementSibling;return e.firstElementChild||a.UA.iosapp?n:!e.childNodes||e.childNodes[0]&&"#text"===e.childNodes[0].nodeName?[]:r(e.childNodes)}function s(e){return void 0===e.textContent?e.text:e.textContent}i.MathMLRenderer=a.Base.create("mathMLRenderer",i.Component,[],{createWebFontLeaf:function(e){return null},_createLeaf:function(e,n){var t=s(e),r=t.trim(),o=this.createWebFontLeaf(r);if(o)return o;if("∞"===r)return i.Component.newInstance(this,i.QMInfinitySymbol,{});if("≈"===r)return i.Component.newInstance(this,i.QMAlmostEqualsSymbol,{});var a={textContent:t,nodeName:e.nodeName};return i.Component.newInstance(this,i.QMTypicalMathMLLeaf,a)},_createFraction:function(e,n){if(2!==n.length)throw new Error("mfrac node did not have two children.  We don't know how to render this.");var t={children:[n[0],n[1]],fracLine:i.Component.newInstance(this,i.QMFractionLine,{})};return i.Component.newInstance(this,i.QMVerticalFraction,t)},_createFenced:function(e,n){if(1!==n.length)throw new Error("mfenced node did not have one child.  We don't know how to render this.");var t,r=e.getAttribute("open");return"["===r?(t={children:[n[0]],openParen:i.Component.newInstance(this,i.QMOpenBracketSymbol,{}),closeParen:i.Component.newInstance(this,i.QMCloseBracketSymbol,{})},i.Component.newInstance(this,i.QMParentheses,t)):"|"===r?(t={children:[n[0]],absValSymbol:i.Component.newInstance(this,i.QMAbsoluteValueSymbol,{})},i.Component.newInstance(this,i.QMAbsoluteValue,t)):(t="{"===r?{children:[n[0]],openParen:i.Component.newInstance(this,i.QMOpenBraceSymbol,{}),closeParen:i.Component.newInstance(this,i.QMCloseBraceSymbol,{})}:{children:[n[0]],openParen:i.Component.newInstance(this,i.QMOpenParenSymbol,{}),closeParen:i.Component.newInstance(this,i.QMCloseParenSymbol,{})},i.Component.newInstance(this,i.QMParentheses,t))},_createConcatenation:function(e,n){return i.Component.newInstance(this,i.QMMathMLConcatenation,{children:n})},_createExponent:function(e,n){if(2!==n.length)throw new Error("msup node did not have two children.  We don't know how to render this.");var t=n[1].get("children")&&n[1].get("children")[0];if(t&&t.get("textContent")&&"∘"===t.get("textContent").trim())return this._createConcatenation(e,n);var r={children:[n[0],n[1]]};return i.Component.newInstance(this,i.QMExponent,r)},_createSubscript:function(e,n){if(2!==n.length)throw new Error("msub node did not have two children.  We don't know how to render this.");var t={drawAs:n[0],subscript:n[1]};return i.Component.newInstance(this,i.QMVariable,t)},_createSqrt:function(e,n){var t={children:[this._createConcatenation(null,n)],isSquareRoot:!0,symbol:i.Component.newInstance(this,i.QMRootSymbol,{})};return i.Component.newInstance(this,i.QMRoot,t)},_createRoot:function(e,n){if(2!==n.length)throw new Error("mroot node did not have two children.  We don't know how to render this.");var t={children:[n[0],n[1]],isSquareRoot:!1,symbol:i.Component.newInstance(this,i.QMRootSymbol,{})};return i.Component.newInstance(this,i.QMRoot,t)},_getComponentConverter:function(e){switch(e){case"math":return this._createConcatenation;case"mo":case"mi":case"mn":return this._createLeaf;case"mfrac":return this._createFraction;case"mfenced":return this._createFenced;case"mrow":return this._createConcatenation;case"mtext":return this._createLeaf;case"msup":return this._createExponent;case"msub":return this._createSubscript;case"msqrt":return this._createSqrt;case"mroot":return this._createRoot;default:throw new Error("Unrecognized MathML node type: "+e)}},_growTreeRecursive:function(e){var n=e.nodeName,t=o(e).map(function(e){return this._growTreeRecursive(e)}.bind(this)),r=a.bind(this._getComponentConverter(n),this);if(r)return r(e,t)},getRenderedExpression:function(e){var n=a.XML.parse(e).getElementsByTagName("math")[0],t=a.Node.create('<div class="mathMLContainer"/>'),r=this._growTreeRecursive(n);(r._parentNode=t).setData("origCfg",r.__origCfg__),r.render();var o=a.Node.create('<div class="secretMathML">c</div>');return t.appendChild(o),t}},{isGuessedMathML:function(e){var n=a.XML.parse(e).getElementsByTagName("math")[0];if(!n)return!0;var t=o(n);return 0!==t.length&&(1!==t.length||"mo"!==t[0].nodeName||"?"!==s(t[0]).trim())}})},"@VERSION@",{requires:["base","node","array-extras","datatype-xml","node","q-QMFractionLine","q-QMOpenParenSymbol","q-QMParentheses","q-QMCloseParenSymbol","q-Component","q-QMOpenBracketSymbol","q-QMCloseBracketSymbol","q-QMAbsoluteValueSymbol","q-QMAbsoluteValue","q-QMOpenBraceSymbol","q-QMCloseBraceSymbol","q-QMInfinitySymbol","q-QMAlmostEqualsSymbol","q-QMTypicalMathMLLeaf","q-QMMathMLConcatenation","q-QMVerticalFraction","q-QMExponent","q-QMVariable","q-QMRootSymbol","q-QMRoot","q-css-Expression","q-css-QMVerticalFraction","q-css-QMParentheses","q-css-QMMathMLRenderer"]});
YUI.add("q-FillInUtils",function(f){var g=f.namespace("IXL"),a=require("ixl/content/util/YUA"),p=require("ixl/content/util/get-available-screen-dimensions"),v=require("ixl/content/util/browser-resize-listener"),d=require("ixl/content/util/get-document"),b=f.Lang;function A(t){return t&&0<=t.indexOf("http://www.w3.org/1998/Math/MathML")}function h(t){return 8===t||46===t}function u(){var t,e,i,n=f.config.doc,r=n.activeElement;if(r&&f.one(r).test("input")){if(r.selectionStart||0===r.selectionStart)return{node:f.one(r),start:r.selectionStart,end:r.selectionEnd};if(n.selection)return(e=(t=n.selection.createRange()).text)?(i=r.value.indexOf(e),{node:f.one(r),start:i,end:i+e.length}):(t.moveStart("character",-r.value.length),i=t.text.length,{node:f.one(r),start:i,end:i})}}var t=function(){};t.prototype={renderFI:function(t,i,e){var n,r=this.get("sizer"),s=this.get("answerToShow"),o=this.get("availableToResizeWidth"),l=this,a=f.UA.ios&&!f.UA.iosapp,u=b.isString(s)&&A(s);o&&this.inDocDo(function(){d(),null===this.browserResize&&(this.browserResize=v(d))}.bind(this));var d=function(){var t=p();o&&t.width-50<this.fiWidth&&n.setStyle("width",t.width-50+"px")}.bind(this);if(u){(n=t.appendChild("<div >")).addClass(g.FillIn.CSSCLS),n.addClass("containsMathML"),this.inDocDo(function(){l.fiWidth||(l.fiWidth=g.FillInUtils.computeFillInWidth(l,s,r,t,n.get("region").width)),n.setStyle("width",l.fiWidth+"px")});var h=g.Component.newInstance(this,g.MathMLRenderer,{}).getRenderedExpression(s);n.appendChild(h)}else{var c=e;b.isString(s)&&(c=!1),n=t.appendChild('<input type="'+(c?"number":"text")+'" class="'+g.FillIn.CSSCLS+'"/>'),i&&n.on("textInput",function(t){var e=t.currentTarget.get("value");e.length===i&&t.currentTarget.set("value",e.substr(1,i-1))}),b.isString(s)&&n.set("value",s)}return this.get("context").isInteractive||(8===f.UA.ie||9===f.UA.ie?(n.setAttribute("readonly","readonly"),n.addClass("disabled")):n.setAttribute("disabled","disabled")),this.borderColor&&this.borderColor.color&&n.setStyle("borderColor",this.borderColor.toHexString()),this.fiWidth?n.setStyle("width",this.fiWidth):u||this.inDocDo(function(){l.fiWidth||(l.fiWidth=g.FillInUtils.computeFillInWidth(l,s,r,t)),n.setStyle("width",l.fiWidth+"px")}),!s&&a&&(n.setAttribute("autocapitalize","off"),n.setAttribute("autocorrect","off"),this.get("expectsNumeric")&&n.setAttribute("type","number"),n.once("keydown",function(){n.setAttribute("type","text")})),this.get("enableSpellCheck")||n.setAttribute("spellcheck","false"),this.get("maxLength")&&n.setAttribute("maxLength",this.get("maxLength")),l.fi=n},toggleInteractiveState:function(t){this.fi&&this.fi._node&&this.fi.toggleClass("disabled",!t)}},g.FillInUtils={oneCharCycleFocus:function(a,u,d){a.setAttribute("maxlength",1),a.on("keydown",function(t){var e,i,n,r=t.keyCode,s=d.item(0===u?d.size()-1:u-1),o=d.item(u===d.size()-1?0:u+1);if(h(r))t.preventDefault(),""===a.get("value")?(s.set("value",""),s.focus()):a.set("value","");else if(!(65<=(n=e=r)&&n<=90||48<=(i=e)&&i<=57||96<=i&&i<=105)||t.altKey||t.ctrlKey)37===r?(t.preventDefault(),s.focus()):39===r&&(t.preventDefault(),o.focus());else{var l=String.fromCharCode(r);l=t.shiftKey?l.toUpperCase():l.toLowerCase(),t.preventDefault(),a.set("value",l),o.focus()}}),a.on("keyup",function(t){h(t.keyCode)&&t.preventDefault()})},getSelectionRange:u,inputContainsMathMLKeyString:A,getSplitValue:function(){var t,e,i=u();if(i){t=i.start,e=i.end;var n=i.node.get("value");return[n.substring(0,t),t===e?"":n.substring(t,e),n.substring(e)]}return["","",""]},insertAtCursor:function(t){if("string"==typeof t){var e=u();if(e){var i=e.node,n=e.start,r=e.end,s=i.get("value"),o=s.substring(0,n),l=s.substring(r);i.set("value",o+t+l),i.focus(n+t.length)}}},deleteAtCursor:function(){var t=u();if(t){var e=t.node,i=t.start,n=t.end,r=e.get("value"),s=r.substring(0,i),o=r.substring(n);i!==n?e.set("value",s+""+o):e.set("value",s.substring(0,s.length-1)+o),e.focus(i+s.length)}},autoFocus:function(){var t=document.querySelectorAll("input[type=text],input[type=number],.fillIn,.symPadFIArea .proxy-input");0<t.length&&t[0].focus()},computeFillInWidth:function(t,e,i,n,r){if(!e&&!i&&!r)return g.FillInUtils.DEFAULT_WIDTH;var s=r||this.computeRenderedWidth(e,n),o=this.computeRenderedWidth(i,n),l=Math.max(s,o)+2;return a.edge&&(l+=2),Math.min(l,g.FillInUtils.MAX_FILLIN_WIDTH)},computeRenderedWidth:function(t,e){var i,n,r;return t?(n=e.appendChild('<div class="fiDummyDiv" style="display:inline-block; white-space: pre;"/>'),f.Lang.isString(t)?(n.set("text",t),i=n.get("region").width):t.html?(i=(r=f.Node.create(t.html))&&r.getStyle&&r.getStyle("width")?parseInt(r.getStyle("width"),10):0,r.destroy()):(t._parentNode=n,t.render(),i=n.get("region").width),n.remove(!0),i):0},Renderer:t,replaceFIWithSymPadFI:function(){return 4<=f.UA.iosapp||f.UA.androidapp},getOverflowDetectionSVG:function(t,e,i){var n=d().createElementNS(SVG_NAMESPACE,"svg");n.setAttribute("class","fi-overflow-svg"),n.setAttribute("width",i+"px"),n.setAttribute("height",e+"px");var r=t-i+"px";Object.assign(n.style,{position:"absolute",top:"0px",left:r});var s=d().createElementNS(SVG_NAMESPACE,"rect");s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("width",i+"px"),s.setAttribute("height",e+"px"),Object.assign(s.style,{stroke:"black",strokeWidth:1,fill:"#EDEAEA"}),n.appendChild(s);for(var o=3*e/4,l=1;l<4;l++){var a=d().createElementNS(SVG_NAMESPACE,"rect"),u=l*i/4;a.setAttribute("x",u),a.setAttribute("y",o),a.setAttribute("width","2"),a.setAttribute("height","2"),n.appendChild(a)}return n},DEFAULT_WIDTH:50,MAX_FILLIN_WIDTH:550}},"@VERSION@",{requires:["base","node","array-extras","event-valuechange","q-DOMAttachAware","q-MathMLRenderer","yui-gallery-focus-position","ixl_content_util_YUA"]});
YUI.add("q-SymPadCSS",function(S){S.namespace("IXL").SymPadCSS={SYMPAD_CONTENT_CSSCLS:"yui3-sympadfiwidget-content",AIT_INPUT_CSSCLS:"aitInput"}},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-SymPadUtils",function(l){var h=l.namespace("IXL"),c=require("ixl/content/util/get-available-screen-dimensions"),g=require("ixl/content/util/browser-resize-listener");function e(t){return l.Lang.isString(t)?function(t){if(!l.Lang.isString(t))return t;for(var e=/^&nbsp;/;e.test(t);)t=t.replace(e,"");return t}(function(t){if(!l.Lang.isString(t))return t;for(var e=/&nbsp;$/;e.test(t);)t=t.replace(e,"");return t}(t)):t}function i(t){return l.Lang.trim(e(t))}var u=function(t){if(t instanceof h.Message){var e=h.ObjectUtils.getText(t);if(h.FillInUtils.inputContainsMathMLKeyString(e))return e}return null},p=function(e,t){var i=this.get("answerToShow");if(!this.get("context").isInteractive&&i){var n=t(i);if(n){e.addClass("symPadAnswerArea");var r=e.appendChild("<div >");r.addClass("fillIn"),r.addClass("containsMathML");var s,a=this,d=this.get("sizer");return this.inDocDo(function(){r.setStyle("width","");var t=h.FillInUtils.computeFillInWidth(a,i,d,e,r.get("region").width);r.setStyle("width",t+"px")}),s=this.get("mathMLRenderer")?this.get("mathMLRenderer"):h.Component.newInstance(this,h.MathMLRenderer,{}),r.appendChild(s.getRenderedExpression(n)),!0}}return!1},t=function(){};t.prototype={renderFI:function(e,t){this._fiWidget=e;this.get("keyboardData");var i=this.get("answerToShow"),n=t.appendChild('<div class="symPadFIArea"/>'),r=n.appendChild("<div class='symPadFIAreaRow'></div>"),s=this.get("sizer");this.get("maxNumNests");n.addClass("no-audio-on-click");var a=this.get("availableToResizeWidth");a&&this.inDocDo(function(){d(),null===this.browserResize&&(this.browserResize=g(d))}.bind(this));var d=function(){var t=c();a&&t.width-50<this.fiWidth&&e.get("boundingBox").setStyle("width",t.width-50+"px")}.bind(this);if((l.UA.androidapp||l.UA.iosapp)&&r.appendChild('<div class="secret2">c</div>'),l.UA.androidapp&&l.UA.compareVersions(l.UA.android,"4.22")<=0&&n.setStyle("verticalAlign","middle"),e.set("disabled",!this.get("context").isInteractive),l.bind(p,this,r,u)())return e.set("disabledMathMLAnswer",!0),n;if(e.render(r),this.fiWidth)e.get("boundingBox").setStyle("width",this.fiWidth+"px"),(l.UA.androidapp||l.UA.iosapp)&&(e.get("boundingBox").setStyle("maxWidth",this.fiWidth+"px"),e.get("boundingBox").setStyle("minWidth",this.fiWidth+"px"));else{var o=this;this.inDocDo(function(){o.fiWidth||(o.fiWidth=h.FillInUtils.computeFillInWidth(o,i,s,t)),e.get("boundingBox").setStyle("width",o.fiWidth+"px"),(l.UA.androidapp||l.UA.iosapp)&&(e.get("boundingBox").setStyle("maxWidth",o.fiWidth+"px"),e.get("boundingBox").setStyle("minWidth",o.fiWidth+"px"))})}return n},renderSymPad:function(n,r){n.set("disabled",!this.get("isInteractive")),n.set("visible",!1),n.render(r.appendChild('<div class="symPadArea"/>')),this.inDocDo(function(){var t=r.ancestor(".section");if(t){n.set("visible",!0);var e=n.get("boundingBox").get("region").height+5;n.set("visible",!1);var i=parseInt(t.getStyle("paddingBottom"),10);t.setStyle("paddingBottom",i<e?e:i)}})},toggleInteractiveState:function(t,e){this._fiWidget&&this._fiWidget.toggleInteractiveState(t,e)}};h.SymPadUtils={},h.SymPadUtils.isContentWhitespace=function(t){var e=t.getHTML();return!(0<t.get("children").size())&&""===i(e)},h.SymPadUtils.trimWhitespaceAndNbsp=i,h.SymPadUtils.classNameArrayToSelector=function(t){var e="";return l.Array.each(t,function(t){""!==t&&(e+=""===e?"."+t:", ."+t)}),e},h.SymPadUtils.inDoc=function(t){return t._node&&t.inDoc()},h.SymPadUtils.getFirstContentIndex=function(t,e){var i,n,r=e;if(!t)return-1;for(e||(r=h.SymPadUtils.NON_CONTENT_CSS),i=t.get("children"),n=0;n<i.size();n++)if(!i.item(n).test(r))return n;return-1},h.SymPadUtils.getLastContentIndex=function(t,e){var i,n,r=e;if(!t)return-1;for(e||(r=h.SymPadUtils.NON_CONTENT_CSS),n=(i=t.get("children")).size()-1;0<=n;n--)if(!i.item(n).test(r))return n;return-1},h.SymPadUtils.NON_CONTENT_CSS=".secret, .hidden, #symPadCursor",h.SymPadUtils.Renderer=t,h.SymPadUtils.filterButtonInfo=function(t,e){var i=t.get("argsForEventHandler");return{name:t.name,argsForEventHandler:i,enabled:e,display:t.get("display"),displayURL:t.get("displayURL")}},h.SymPadUtils.extractText=function t(e){if("QMMessage"===e.objectType){for(var i="",n=0;n<e.pieces.length;n++)i+=t(e.pieces[n]);return i}if("QMPlainText"===e.objectType)return e.text;throw new Error("Unrecognized component")},h.SymPadUtils.renderDisabledMathMLAnswer=p,h.SymPadUtils.KeyboardUpdateDirective={UPDATE_KEYBOARD:"update keyboard",LOAD_NEW_KEYBOARD:"load new keyboard",UPDATE_KEYBOARD_AND_DO_NOT_FIRE_LEGACY_EVENTS:"update keyboard and do not fire legacy events"}},"@VERSION@",{requires:["base","node","array-extras","q-SymPadCSS","q-FillInUtils","q-Message","q-ObjectUtils","q-MathMLRenderer"]});
YUI.add("q-EmptyNodeTracker",function(e){var d=e.namespace("IXL");function t(e){t.superclass.constructor.apply(this,arguments)}t.NAME="emptyNodeTracker",t.NS="emptyNodeTracker",t.ATTRS={whitelist:{value:"",validator:e.Lang.isString}},e.extend(t,e.Plugin.Base,{initializer:function(e){var o,t=(o=this.get("whitelist"),function(){var e,t,i,s,r=this.get("host"),a=r.get("children"),n=!0;for(t=0;t<a.size();t++)if(e=a.item(t),s=d.SymPadUtils.isContentWhitespace(e),i=""===o||e.test(o),!s&&!i){n=!1;break}n?r.addClass("empty"):r.removeClass("empty")});this.verifier=t,this.afterHostMethod("_insert",t,this),this.afterHostMethod("removeChild",t,this)}}),d.EmptyNodeTracker=t},"@VERSION@",{requires:["base","node","array-extras","plugin","q-SymPadUtils"]});
YUI.add("q-LineSymbol",function(i){var e=i.namespace("IXL");e.LineSymbol=function(i){e.LineSymbol.superclass.constructor.apply(this,arguments)},e.LineSymbol.NAME="lineSymbol",i.extend(e.LineSymbol,i.Shape,{_draw:function(){this.clear();var i=this.get("width"),e=this.get("height"),n=e/2;this.moveTo(3,0),this.lineTo(0,n),this.lineTo(3,e),this.lineTo(0,n),this.lineTo(i,n),this.lineTo(i-3,0),this.lineTo(i,n),this.lineTo(i-3,e),this.end()}},{ATTRS:i.Shape.ATTRS})},"@VERSION@",{requires:["base","node","array-extras","graphics"]});
YUI.add("q-RaySymbol",function(a){var e=a.namespace("IXL");e.RaySymbol=function(a){e.RaySymbol.superclass.constructor.apply(this,arguments)},e.RaySymbol.NAME="raySymbol",a.extend(e.RaySymbol,a.Shape,{_draw:function(){this.clear();var a=this.get("width"),e=this.get("height"),i=e/2;this.moveTo(0,i),this.lineTo(a,i),this.lineTo(a-3,0),this.lineTo(a,i),this.lineTo(a-3,e),this.end()}},{ATTRS:a.Shape.ATTRS})},"@VERSION@",{requires:["base","node","array-extras","graphics"]});
YUI.add("q-SymbolResizer",function(e){var s=e.namespace("IXL");function t(e){t.superclass.constructor.apply(this,arguments)}function i(){var e=this._symbol,s=this.get("host").get("region").width;e.set("width",20<s?s:20)}t.NAME="symbolResizer",t.NS="symbolResizer",e.extend(t,e.Plugin.Base,{initializer:function(e){this._symbol=e.symbol,this.resize=i,this.afterHostMethod("_insert",i,this),this.afterHostMethod("removeChild",i,this)}}),s.SymbolResizer=t},"@VERSION@",{requires:["base","node","array-extras","plugin"]});
YUI.add("q-AITUtils",function(t){var e=t.namespace("IXL"),l=t.Do.Halt,a=(t.Node,e.SymPadUtils.inDoc);function f(t,e){if(t&&e){var n=e.next();n?n.ancestor().insertBefore(t,n):e.ancestor().appendChild(t)}}function u(t){return!!t&&t.test(".secret")}function h(t,e){for(var n,o,r=t.get("children"),i=1/0,s=0;s<r.size();s++)n=r.item(s).get("region"),Math.abs(n.left-e)<i&&(o=r.item(s),i=Math.abs(n.left-e)),Math.abs(n.right-e)<i&&(o=r.item(s).next(),i=Math.abs(n.right-e));return u(o)?o.next():o}function d(t,e){var n;t&&(0===(n=t.get("children").filter(".hidden, .secret")).size()?t.insert(e,0):f(e,n.item(n.size()-1)))}function n(t,e,n){2===t.length?this.adjacentSelectors=[void 0,t[1],void 0,t[0]]:4===t.length&&(this.adjacentSelectors=t),this.leftIsPorous=e,this.rightIsPorous=n}function o(t,e,n,o,r,i,s,c,a,u){this.host=t,this.boundingSelector=e,this.contentEntryFromLeftSelector=r,this.contentEntryFromRightSelector=i,this.contentSelectors=n,this.contentAdjacencies=o,this.leftBoundaryIsPorous=s,this.rightBoundaryIsPorous=c,this.EXIT_LEFT=1,this.EXIT_RIGHT=0,this.qMType=a,this.parsedNodeMessage=u}function g(t){var e=t.host._caret,n=e.next(),o=t.boundingSelector;return!!a(e)&&(n&&n.test(o))}function p(t){var e=t.host._caret,n=e.previous(),o=t.boundingSelector;return!!a(e)&&(n&&n.test(o))}function S(t){var e,n=t.host._caret,o=t.contentSelectors,r=n.ancestor(),i=n.previous();if(a(n)&&r.test(".aitInput")&&(e=n.ancestor(".aitBlock")).test(t.boundingSelector))for(var s,c=0;c<o.length;c++)if(s=o[c],r===e.one(s)&&(!i||i.test(".secret")))return s}function I(t){var e,n=t.host._caret,o=t.contentSelectors,r=n.ancestor(),i=n.next();if(a(n)&&r.test(".aitInput")&&(e=n.ancestor(".aitBlock")).test(t.boundingSelector))for(var s,c=0;c<o.length;c++)if(s=o[c],r===e.one(s)&&!i)return s}function i(t){var e,n,o,r,i,s,c=t.host._caret,a=t.boundingSelector;if(g(t))return n=c.next(),o=n,s=(r=t).host._caret,r.hasInputs()?(i=o.one(r.contentEntryFromLeftSelector))&&d(i,s):f(s,o),new l;var u=I(t);return u?(n=c.ancestor(a),t.exitsRight(u)?(f(c,n),new l):(e=n.one(t.getSelectorToRight(u)))?(d(e,c),new l):void 0):void 0}function s(t){var e,n,o,r,i,s=t.host._caret,c=t.boundingSelector;if(p(t))return n=s.previous(),o=n,i=(r=t).host._caret,r.hasInputs()?o.one(r.contentEntryFromRightSelector).appendChild(i):o.ancestor().insertBefore(i,o),new l;var a=S(t);return a?(n=s.ancestor(c),t.exitsLeft(a)?(n.ancestor().insertBefore(s,n),new l):(e=n.one(t.getSelectorToLeft(a)))?(e.appendChild(s),new l):void 0):void 0}function c(t,e){e&&(e.addClass("selection"),t.remove(!1))}function T(t){var e,n,o,r;if(!t)return!1;for(e=!1,o=t.previous();o;){if(o.test(".openParen")){e=!0;break}o=o.previous()}for(n=!1,r=t.next();r;){if(r.test(".closeParen")){n=!0;break}r=r.next()}return e&&n}n.prototype.getAboveSelector=function(){return this.adjacentSelectors[0]},n.prototype.getBelowSelector=function(){return this.adjacentSelectors[2]},n.prototype.getLeftSelector=function(){return this.adjacentSelectors[3]},n.prototype.getRightSelector=function(){return this.adjacentSelectors[1]},n.prototype.isLeftPorous=function(){return this.leftIsPorous},n.prototype.isRightPorous=function(){return this.rightIsPorous},o.prototype.exitsRight=function(t){return 0===this.getSelectorToRight(t)},o.prototype.exitsLeft=function(t){return 1===this.getSelectorToLeft(t)},o.prototype.hasInputs=function(){return this.contentSelectors&&0<this.contentSelectors.length},o.prototype.getSelectorToLeft=function(t){if(t&&this.contentAdjacencies[t])return this.contentAdjacencies[t].getLeftSelector()},o.prototype.getSelectorToRight=function(t){if(t&&this.contentAdjacencies[t])return this.contentAdjacencies[t].getRightSelector()},o.prototype.getSelectorAbove=function(t){if(t&&this.contentAdjacencies[t])return this.contentAdjacencies[t].getAboveSelector()},o.prototype.getSelectorBelow=function(t){if(t&&this.contentAdjacencies[t])return this.contentAdjacencies[t].getBelowSelector()},e.AITUtils={},e.AITUtils.attachAfter=f,e.AITUtils.makeHandleRightArrow=function(e){return function(t){return i(e)}},e.AITUtils.makeHandleLeftArrow=function(e){return function(t){return s(e)}},e.AITUtils.makeHandleBackspace=function(i){return function(t){var e=i.host._caret,n=e.previous(),o=i.boundingSelector;if(p(i)&&!i.rightBoundaryIsPorous)return c(e,n),new l;var r=S(i);return r?i.contentAdjacencies[r].isLeftPorous()?s(i):(c(e,e.ancestor(o)),new l):void 0}},e.AITUtils.makeParseNode=function(t){var r=t.qMType,i=t.parsedNodeMessage,s=t.boundingSelector,c=t.contentSelectors;return function(t){if(t.test(s)){for(var e,n=[],o=0;o<c.length;o++)e=c[o],t.one(e).ancestor(),T(t.one(e))?n.push({objectType:"QMParentheses",children:[this._parseNode(t.one(e))]}):n.push(this._parseNode(t.one(e)));return new l(i,{objectType:r,children:n})}if(u(t))return new l}},e.AITUtils.AITMetadata=o,e.AITUtils.AITContentAdjacency=n,e.AITUtils.makeHandleDelete=function(r){return function(){var t=r.host._caret,e=t.next(),n=r.boundingSelector;if(g(r)&&!r.leftBoundaryIsPorous)return c(t,e),new l;var o=I(r);return o?r.contentAdjacencies[o].isRightPorous()?i(r):(c(t,t.ancestor(n)),new l):void 0}},e.AITUtils.findApproximateInsertionPoint=h,e.AITUtils.insertAsFirstContentNode=d,e.AITUtils.moveCaretToSimilarXLocation=function(t,e,n){var o,r,i,s,c,a;c=t,a=(s=e).get("region"),o=(c.get("region").left-a.left)/s.get("region").width,(i=h(n,(r=n.get("region")).left+o*r.width))?n.insertBefore(t,i):n.appendChild(t)},e.AITUtils.isInRegion=function(t,e,n){var o=n.get("region");return o.top<=e&&e<=o.bottom&&o.left<=t&&t<=o.right},e.AITUtils.isInOrNearRegion=function(t,e,n){var o=n.get("region");return o.top-10<=e&&e<=o.bottom+10&&o.left-10<=t&&t<=o.right+10},e.AITUtils.isSecretNode=u,e.AITUtils.hasSurroundingParens=T,e.AITUtils.makeGetAITInfo=function(e){return function(t){if(t)return t.test("."+e.aitName+".aitBlock")?new l("Found the right AIT.",e):void 0}},e.AITUtils.inDoc=a,e.AITUtils.EXIT_LEFT=1,e.AITUtils.EXIT_RIGHT=0},"@VERSION@",{requires:["base","node","array-extras","graphics","plugin","q-HTMLUtils","q-LineSymbol","q-RaySymbol","q-SquareRoot","q-SymbolResizer","q-EmptyNodeTracker","q-SymPadUtils"]});
YUI.add("q-SymbolRecolorer",function(s){var e=s.namespace("IXL");function o(e){o.superclass.constructor.apply(this,arguments)}function r(){var e=this._symbols;(s.Array.each(e,function(e){var o=s.one(e.get("node")).getStyle("color"),r=e.get("stroke");r.color=o,e.set("stroke",r)}),e&&0<e.length)&&e[0].get("graphic")._redraw()}o.NAME="symbolRecolorer",o.NS="symbolRecolorer",s.extend(o,s.Plugin.Base,{initializer:function(e){this._symbols=e.symbols,this.afterHostMethod("addClass",r,this),this.afterHostMethod("removeClass",r,this)}}),e.SymbolRecolorer=o},"@VERSION@",{requires:["base","node","array-extras","array-invoke","plugin"]});
YUI.add("q-BlankAITInputParserPlugin",function(n){var t=n.namespace("IXL"),e=n.Do.Halt,a=t.AITUtils.isSecretNode;function s(n){if(n)return n.test(".aitContentBox.empty")?new e("We parsed an empty ait content box",{objectType:"QMBlankAITInput"}):a(n)?new e:void 0}function r(){r.superclass.constructor.apply(this,arguments)}r.NAME="blankAITInputParserPlugin",r.NS="blankAITInputParserPlugin",n.extend(r,n.Plugin.Base,{initializer:function(n){var t=this.get("host");this.beforeHostMethod("_parseAitInputNode",s,t)}}),t.BlankAITInputParserPlugin=r},"@VERSION@",{requires:["base","node","array-extras","event","plugin","q-Component","q-DOMAttachAware","q-EmptyNodeTracker","q-SymbolRecolorer","q-AITUtils","q-BlankAITInput","q-css-QMExponent","q-css-ExponentAIT","q-css-AitInput","q-css-BlankAITInput"]});
YUI.add("q-DynamicFIPlugin",function(t){var e=t.namespace("IXL");function i(t){i.superclass.constructor.apply(this,arguments)}function o(t,e){var i=t.get("region").width+4;return i<e?e:i}i.NAME="dynamicFIPlugin",i.NS="resizer",t.extend(i,t.Plugin.Base,{initializer:function(t){var e,i,n,s=this.get("host"),l=s.ancestor().appendChild("<pre/>"),a=t.minWidth||6;l.set("text",s.get("value")),(e=l)&&(e.setStyle("display","inline-block"),e.setStyle("visibility","hidden"),e.setStyle("position","absolute")),n=l,(i=s)&&n&&(n.setStyle("fontFamily",i.getStyle("fontFamily")),n.setStyle("fontSize",i.getStyle("fontSize")),n.setStyle("fontStyle",i.getStyle("fontStyle")),n.setStyle("textTransform",i.getStyle("textTransform")),n.setStyle("letterSpacing",i.getStyle("letterSpacing"))),s.setStyle("width",o(l,a)),this.onHostEvent("valuechange",function(t){l.set("text",t.newVal),s.setStyle("width",o(l,a))}),this.afterHostMethod("set",function(t,e){"value"===t&&(l.set("text",e),s.setStyle("width",o(l,a)))}),this._dummy=l},destructor:function(){this._dummy&&this._dummy.remove(!0)}}),e.DynamicFIPlugin=i},"@VERSION@",{requires:["base","node","array-extras","event-valuechange","plugin"]});
YUI.add("q-GraphicsDrawer",function(e){var b=e.namespace("IXL"),N=e.Graphic;function f(e){return e.ancestor(".proof")?17:22}function q(e){q.superclass.constructor.apply(this,arguments)}q.NAME="radicalResizer",q.NS="radicalResizer",e.extend(q,e.Plugin.Base,{initializer:function(e){this._symbol=e.symbol,this.afterHostMethod("_insert",this.resize,this),this.afterHostMethod("removeChild",this.resize,this)}}),q.prototype.resize=function(){var e=this._symbol,t=this.get("host"),r=t.ancestor(".radicand").get("region"),i=r.width,o=r.height-1,a=f(t);e.set("width",20<i?i:20),e.set("height",a<o?o:a)},b.GraphicsDrawer={renderShape:function(e){return e.test(".lineNameSymbol")?(r=(t=e).ancestor(".lineName").one(".lineNameName"),i=r.get("region").width,o=new N({render:t}),a=20<i?i:20,s=o.addShape({type:b.LineSymbol,stroke:{weight:1,color:t.getStyle("color"),opacity:1},height:5,width:a}),o.addShape({type:"rect",height:5,width:a,stroke:{opacity:0}}),r.plug(b.SymbolResizer,{symbol:s}),o):e.test(".rayNameSymbol")?(h=(n=e).ancestor(".rayName").one(".rayNameName"),d=h.get("region").width,l=new N({render:n}),c=20<d?d:20,y=l.addShape({type:b.RaySymbol,stroke:{weight:1,color:n.getStyle("color"),opacity:1},height:5,width:c}),l.addShape({type:"rect",height:5,width:c,stroke:{opacity:0}}),h.plug(b.SymbolResizer,{symbol:y}),l):e.test(".radical")?(m=(p=e).ancestor(".root").one(".radicand"),g=m.get("region").width,S=new N({render:p}),u=S.addShape({type:b.SquareRoot,stroke:b.HTMLUtils.findStrokeFor(p),width:g<20?20:g,height:f(p)}),(w=m.one(".radicandContent")).plug(q,{symbol:u}),w.plug(b.EmptyNodeTracker,{whitelist:".secret, #symPadCursor"}),S):null;var t,r,i,o,a,s,n,h,d,l,c,y,p,m,g,S,u,w}}},"@VERSION@",{requires:["base","node","array-extras","graphics","plugin","q-HTMLUtils","q-LineSymbol","q-RaySymbol","q-SquareRoot","q-SymbolResizer","q-EmptyNodeTracker"]});
YUI.add("q-NodeBlinker",function(i){var n=i.namespace("IXL");function e(){this.hasClass("blink-on")?(this.removeClass("blink-on"),this.addClass("blink-off")):(this.removeClass("blink-off"),this.addClass("blink-on"))}function s(n){s.superclass.constructor.apply(this,arguments)}s.NAME="nodeBlinker",s.NS="nodeBlinker",i.extend(s,i.Plugin.Base,{initializer:function(n){var s=this.get("host");s.addClass("blink-on"),this._action=i.later(530,s,e,[],!0)},destructor:function(){var n=this.get("host");this._action.cancel(),this._action=null,n.removeClass("blink-on"),n.removeClass("blink-off")}}),n.NodeBlinker=s},"@VERSION@",{requires:["base","node","array-extras","plugin","yui-later","q-css-NodeBlinker"]});
