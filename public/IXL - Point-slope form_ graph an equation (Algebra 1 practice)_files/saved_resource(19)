YUI.add("q-DelayedRendering",function(a){var e=a.namespace("IXL"),r={};window.addEventListener("delayedRendering:processStarted",function(e){var t=e.detail.uniqueId,i=e.detail.context;n.waitFor(i,new a.Promise(function(e,n){r[i.__qStamp__+"_-_"+t]=e}))}),window.addEventListener("delayedRendering:processFinished",function(e){var n=e.detail.uniqueId,t=e.detail.context;r[t.__qStamp__+"_-_"+n]()});var i={};function t(e,n){var t=i[e];t||(t=i[e]=[]),t.push(n)}function n(e){}n.whenReady=function(e){if(e){var n=e.__qStamp__,t=i[n];return delete i[n],a.batch.apply(this,t)}return new a.Promise(function(e,n){e()})},n.prototype.waitFor=function(e){t(this.__qStamp__||this.get("context").__qStamp__,e)},n.waitFor=function(e,n){t(e.__qStamp__,n)},e.DelayedRendering=n},"@VERSION@",{requires:["base","node","array-extras","promise"]});
YUI.add("q-ObjectUtils",function(p){var o=p.namespace("IXL"),y=p.Lang,b=p.Array,h="__origCfg__",j="object"==typeof Node?function(e){return e instanceof Node}:function(e){return e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},v="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName};function i(e,n){if(y.isArray(e)){if(y.isFunction(n)){var t=b.find(e,n);return t?b.indexOf(e,t):-1}return b.indexOf(e,n)}var r;if(p.Lang.isFunction(e.getAttrs)&&-1!==(r=i(e.getAttrs(),n)))return r;if(y.isFunction(n)){for(r in e)if(n.call(n,e[r]))return r}else for(r in e)if(n===e[r])return r;return-1}function T(e,n){return-1!==i(e,n)}function x(n,t,e,r,i,o,c,u){var f,s,a=y.isArray(n),g=!a&&y.isObject(n,!0);if((a||g)&&(!(j(n)||v(n)||n instanceof p.Node)&&!T(o,n)&&!T(a?u:c,n)&&(g&&(y.isNull(r)||o.length>=r)&&(f=t(n,e),s=y.isObject(f)),a?u.push(n):s&&f.processRepeats||c.push(n),(y.isNull(i)||!(o.length>i))&&(!s||!1!==f.processChildren)))){if(o.push(n),a)b.each(n,l);else for(var d in y.isFunction(n.getAttrs)&&p.each(n.getAttrs(),l),h in n&&l(n[h]),n)"prototypes"!==d&&"events"!==d&&"context"!==d&&"_"!==d.charAt(0)&&l(n[d]);o.pop()}function l(e){x(e,t,n,r,i,o,c,u)}}function r(e,n,t,r,i){y.isUndefined(t)&&(t=null),y.isUndefined(r)&&(r=null),y.isUndefined(i)&&(i=null),x(e,n,t,r,i,[],[],[])}o.ObjectUtils={find:function(e,n){var t=[];return r(e,function(e){n(e)&&t.push(e)}),t},stackString:function(e){for(var n="?",t=0;t<e.length-1;t++)n+=".",n+=i(e[t],e[t+1]);return n},searchMatch:function(e,n){return y.isFunction(e)?e.call(e,n):n===e},indexOf:i,contains:T,process:r,processHelper:x,qStringify:function(e){return JSON.stringify(e,function(e,n){return"_"===e.charAt(0)?void 0:n})},getText:function(e){if(p.Lang.isFunction(e.get)){var n=e.get("pieces");if(!p.Lang.isUndefined(n)){var t="";return p.Array.each(n,function(e){t+=o.ObjectUtils.getText(e)}),t}var r=e.get("text");if(!p.Lang.isUndefined(r))return r;var i=e.get("content");if(!p.Lang.isUndefined(i))return o.ObjectUtils.getText(i)}return""},getSVGText:function(e){return p.Lang.isFunction(e.getSVGText)?e.getSVGText():""},getObjectType:function(e){var n=null;return e.objectType?n=e.objectType:e.get&&(n=e.get("objectType")),n}}},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-Q",function(q){var O=q.namespace("IXL"),e=q.Object,n=q.Lang;e.hasKey,n.isObject;function k(e,n){var t=e.length,l=t+n;for(e.length=l;t<l;t++)e[t]={element:null,parent:null,key:null,pos:null,gcs:null};return l}var A=[];k(A,100);var a=q.config.groups.qgen.modules,f=q.config.groups.qela.modules,C=Object.prototype.toString,u=Array.prototype.push,r=O.findTypes=function(e){for(var n=[],t={},l=[e];l.length;){var o=l.pop();if("object"==typeof o&&null!==o)if("[object Array]"!==C.call(o)){var r=o.objectType;if(r){if(!(r in t)){var s="q-"+r;t[r]=s in a?(n.push(s),!0):"qela-"+r in f&&(n.push("qela-"+r),!0)}for(var i in o)o.hasOwnProperty(i)&&l.push(o[i])}}else u.apply(l,o)}return[n,t]};O.revive=function(t,l){if(t){var e=r(t),n=e[0],o=e[1];q.use(n,function(e){var n=function(e,n){var t,l,o,r,s,i,a,f={cfg:e},u=A,c=u.length,p=0;u[0].element=e,u[0].parent=f,u[0].key="cfg",u[0].pos=null,u[0].gcs=null;var g=[],y=[],h=q.guid("q"),v={};do{if(s=(o=u[p]).element,null===o.pos)if(o.pos=p,"[object Array]"===C.call(s))for(t=0,l=s.length;t<l;t++)"object"==typeof(i=s[t])&&null!==i&&(++p===c&&(c=k(u,50)),(r=u[p]).element=i,r.parent=s,r.key=t,r.pos=null);else if(!v[s.refId])for(t in(a=s.objectType)&&!0===n[a]&&O[a].prototype.needsGCs&&(o.gcs=y,y=[]),s)s.hasOwnProperty(t)&&"object"==typeof(i=s[t])&&null!==i&&(++p===c&&(c=k(u,50)),(r=u[p]).element=i,r.parent=s,r.key=t,r.pos=null);if(o.pos===p){if((a=s.objectType)&&!0===n[a]){var d=s.refId,b=void 0!==d,j=b?v[d]:null;if(j)j.isGC&&y.push(j);else{if(s.__qStamp__=h,"function"!=typeof(j=new O[a](s)).setAttrs)for(var m in s)j[m]=s[m];j.needsGCs?(j.gcs=y,y=o.gcs):j.needsAllGCs&&(j.gcs=g),j.isGC&&(y.push(j),g.push(j)),b&&(v[d]=j)}o.parent[o.key]=j}p--}}while(0<=p);return f.cfg}(t,o);l(n)})}else l()},function(){var t=0,l=[],o=!1;function r(e){if(!o||e)if(0!==l.length){o=!0;var n=l.shift();try{q.io("/actions/qg/log",{method:"POST",on:{success:function(){r(!0)},failure:function(){o=!1}},data:{id:t,msg:JSON.stringify(n)}})}catch(e){}t++}else o=!1}O.log=function(e){q.later(0,this,function(){l.length<1e4&&(l.push(e),q.later(0,this,r))})}}()},"@VERSION@",{requires:["base","node","array-extras","io","q-ObjectUtils"]});
YUI.add("q-DOMAfterAttached",function(t){var e=t.namespace("IXL"),a={};function r(t){var e,r,n;e=t.__qStamp__,r=this,(n=a[e])||(n=a[e]=[]),n.push(r)}r.register=function(t,e){var r=t.__qStamp__,n=a[r];0<(n?n.length:0)&&n[0].onceAfterAttached(t,e),delete a[r]},r.prototype.onceAfterAttached=function(){throw new Error("When using DOMAfterAttached as a class extension, you must provide your own onceAfterAttached() function.")},e.DOMAfterAttached=r},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-DOMAttachAware",function(n){var t=n.namespace("IXL"),_={};function e(t,a){var n=_[t];n||(n=_[t]=[]),n.push(a)}function a(t){}a.attached=function(t){for(var a=t.__qStamp__,n=_[a],e=n?n.length:0;e--;)n[e]();delete _[a]},a.prototype.inDocDo=function(t){e(this.__qStamp__||this.get("context").__qStamp__,t)},a.inDocDo=function(t,a){e(t.__qStamp__,n.bind(a,t))},t.DOMAttachAware=a},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-AudioButtonVerticalAlignTileComponents",function(e){var t=function(e,t,o){var i=t.getY(),r=t.getDOMNode().offsetHeight,a=e.one(o);if(a){var n=a.getY(),p=a.getDOMNode().offsetHeight,l=parseInt(t.getStyle("margin-top"),10)+n-i+(p-r)/2;t.setStyle("margin-top",l+"px")}};e.namespace("IXL").AudioButtonVerticalAlignTileComponents={ComponentLists:[{components:{GCTileMultipleChoice:".practice-audio-wrapper",GCTileMultipleSelect:".practice-audio-wrapper",GCTextTileMultipleChoice:".practice-audio-wrapper",GCTextTileMultipleSelect:".practice-audio-wrapper",GCImageTileMultipleChoice:".practice-audio-wrapper",GCImageTileMultipleSelect:".practice-audio-wrapper",GCCompositeTileMultipleChoice:".practice-audio-wrapper",GCCompositeTileMultipleSelect:".practice-audio-wrapper",dragAndDropSorting:".dropArea",matchWordsToImages:".draggableExpressionContainer .practice-audio-wrapper",orderItems:".order-items-item",dragAndDropTextMatching:".ddItemContainer",richTextLines:".rich-text-line",GCSelectLetters:".select-letters-word",QMLongText:".practice-audio-wrapper",QMSimpleDialogue:".audio-button-align",GCLetterMatchingWithImages:".image-container",dragAndDropVennDiagram:".practice-audio-wrapper"},buttonSelector:".practice-audio-button",adjustButtonFn:t},{components:{fillInMultipleChoiceTile:".SelectableTile",DCFillInMultipleChoiceTiles:".SelectableTile"},buttonSelector:".practice-audio-multipart-button",adjustButtonFn:t},{components:{selectWords:".select-words-chunk",GCSelectWordsBridge:".select-words-chunk"},buttonSelector:".practice-audio-button",adjustButtonFn:function(e,t,o){var i=t.getDOMNode().offsetHeight,r=e.one(o);if(r){var a=(parseInt(getComputedStyle(r.getDOMNode()).getPropertyValue("line-height"),10)-i)/2;t.setStyle("margin-top",a+"px")}}},{components:{fillInPrompt:".cloze-fragment"},buttonSelector:".practice-audio-button",adjustButtonFn:function(e,t,o){var i=t.getDOMNode().offsetHeight,r=e.one(o);if(r){var a=r.getDOMNode().getBoundingClientRect(),n=e.getDOMNode().getBoundingClientRect().top,p=(a.bottom-a.top)/2+a.top-n-i/2;0<p&&t.setStyle("margin-top",p+"px")}}},{components:{verticalOrderItems:".vertical-order-items-item"},buttonSelector:".practice-audio-button",adjustButtonFn:function(e,t,o){var i=t.getY(),r=t.getDOMNode().offsetHeight;if(this._wrapper.one(o)){var a,n=e.one(o).getY();e.all(o).each(function(e){var t=e.getDOMNode().offsetHeight;a=a?Math.min(a,t):t});var p=parseInt(t.getStyle("margin-top"),10)+n-i+(a-r)/2;t.setStyle("margin-top",p+"px")}}},{components:{enclosedTextArea:".enclosedTextArea"},buttonSelector:".practice-audio-button",adjustButtonFn:function(e,t,o){var i=e.one(o);if(i){var r=parseInt(i.getStyle("padding-top"),10);t.setStyle("margin-top",r+"px")}}},{components:{retypeText:".retype-text-static-text"},buttonSelector:".practice-audio-button",adjustButtonFn:function(e,t,o){var i=e.one(o);if(i){var r=parseInt(i.getStyle("padding-top"),10)+parseInt(i.getStyle("border-top-width"),10);t.setStyle("margin-top",r+"px")}}}],LongerTimeout:{GCTileMultipleChoice:520,GCTileMultipleSelect:520}}},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-AudioHTMLUtils",function(l){var n=l.namespace("IXL"),r=require("ixl/external/CSSColorParser"),s=require("ixl/content/util/audio-localized-text"),d=[16777215],u=.05,c=27,p=21,g="/qgen_res/general/audio_buttons/",b={BLUE:{STATIC:"audio_btn_blue_svg.svg",ANIMATE:"audio_btn_blue_animate_svg.svg",LOADING:"audio_btn_blue_loading_svg.svg"},WHITE:{STATIC:"audio_btn_white_svg.svg",ANIMATE:"audio_btn_white_animate_svg.svg",LOADING:"audio_btn_white_loading_svg.svg"}};function t(t,a){var e=a||"BLUE",i=g+b[e].STATIC,o=g+b[e].ANIMATE,n=g+b[e].LOADING,r=Snap(c,p).attr("class","practice-audio-button-svg"),d=Snap(c,p).attr("class","practice-audio-button-animate-svg"),u=Snap(c,p).attr("class","practice-audio-button-loading-svg");"BLUE"===e&&(i="/media/1/qgen_res/general/audio_buttons/"+b[e].STATIC),Snap.load(i,h(t),r),Snap.load(o,h(t),d),Snap.load(n,h(t),u),t.appendChild(r.node),t.appendChild(d.node),t.appendChild(u.node),t.setAttribute("tabIndex","0"),t.setAttribute("aria-label",s.getText("audio_button_label")),t.setAttribute("role","button")}function h(a){return function(t){a.isSmallAudioButton&&t.node.firstElementChild&&(t.node.firstElementChild.setAttribute("width",22),t.node.firstElementChild.setAttribute("height",16)),this.append(t)}}function v(a){a.addClass("white-button"),a.all("svg").each(function(t){a.removeChild(t)}),t(a,"WHITE")}n.AudioHTMLUtils={createButtonHtml:function(t,a,e,i,o,n,r,d){var u=l.UA.mobileapp?"practice-audio-button no-hover":"practice-audio-button",s='<div id="practice-audio-button-{id}" class="{classNames}" '+(n?'data-practice-audio-paths="{audioPaths}" ':'data-practice-audio-text="{audioText}" data-practice-audio-language="{languageCode}" data-practice-audio-country="{countryCode}" '+(r?'data-practice-generator-code="{generatorCode}" ':'""'))+'data-practice-audio-grade-level="{gradeLevel}" data-practice-audio-timestamp="{timestamp}"> </div>';return l.Lang.sub(s,{id:t,classNames:u,audioText:a,languageCode:e,countryCode:i,gradeLevel:o,audioPaths:n?this.formatAudioPathsForHTML(n):null,generatorCode:r,timestamp:d})},formatAudioPathsForHTML:function(t){return encodeURI(JSON.stringify(t))},createWrapperHtml:function(t,a,e,i){return l.Lang.sub('<div class="{classes}" data-practice-audio-id="{id}">{html}</div>',{classes:(i?"fake-audio-wrapper":"practice-audio-wrapper")+(t?" practice-audio-wrapper-first":""),id:a,html:e||""})},loadAndRenderAudioButtonSVGs:t,stylizeAudioButtons:function(t){t&&0<=t.length&&t.forEach(function(t){var a,e=null!==t.one(".txt, .rich-text")?t.one(".txt, .rich-text"):t,i=r.parseCSSColor(e.getStyle("color"));if(i){var o=n.ColorUtils.fromRGB(i[0],i[1],i[2]);a=o,d.some(function(t){return n.ColorUtils.colorDistance(a,t)<u})&&t.all(".practice-audio-button").each(v)}})}}},"@VERSION@",{requires:["base","node","array-extras","global-Snap"]});
YUI.add("q-ComponentSimple",function(e){var r=e.namespace("IXL");e.Array,e.Lang,e.Object;function t(t){e.stamp(this),this.name=this.constructor.NAME,this.__origCfg__=t,this.initializer.apply(this,arguments),this.__origCfg__.initialized=!0}t.NAME="componentSimple",t.create=function(t,n,i){function o(t){o.superclass.constructor.apply(this,arguments)}return e.extend(o,r.ComponentSimple,n,i),o.NAME=t,o},(t.prototype={destroy:function(){return this.destructor.apply(this,arguments),this.__origCfg__.destroyed=!0,this},destructor:function(){},render:function(t){throw new Error("render() is not implemented.")},get:function(t){return this.__origCfg__[t]},set:function(t,n){this.__origCfg__[t]=n},initializer:function(){},toString:function(){return this.name+"["+e.stamp(this,!0)+"]"},getNumChildComponents:function(){return this.__origCfg__.hasOwnProperty("content")?1:0},getChildComponent:function(t){var n=this.__origCfg__;if(!n.hasOwnProperty("content"))throw new Error(this+" did not implement getChildComponent(i)");if(0===t)return n.content;throw new Error("Index "+t+" in "+this+" is out of bounds.")},setChildComponent:function(t,n){var i=this.__origCfg__;if(!i.hasOwnProperty("content"))throw new Error(this+" did not implement setChildComponent(i, m)");if(0!==t)throw new Error("Index "+t+" in "+this+" is out of bounds.");i.content=n},getAudioText:function(t){for(var n="",i=0;i<this.getNumChildComponents();i++)n+=this.getChildComponent(i).getAudioText(t);return n}}).constructor=t,r.ComponentSimple=t},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-AudioWrapper",function(u){var s=u.namespace("IXL"),e=s.React.getReactInstance(),i=require("ixl/content/util/ReactAudioWrapper"),a=!(!u.UA.ios&&!u.UA.android),t=s.AudioButtonVerticalAlignTileComponents,r=t.ComponentLists,d=t.LongerTimeout;s.AudioWrapper=u.Base.create("audioWrapper",s.ComponentSimple,[s.DOMAttachAware],{render:function(){var t,e=this._parentNode,i=this.get("audioId"),o=this.get("renderButton"),n=this.get("hiddenButton");if(t=e?e.appendChild(s.AudioHTMLUtils.createWrapperHtml(o,i)):u.Node.create(s.AudioHTMLUtils.createWrapperHtml(o,i)),this._wrapper=t,o){var a=s.AudioHTMLUtils.createButtonHtml(i,this._getText(),this._getLanguageCode(),this._getCountryCode(),this._getGradeLevel(),this._getAudioPaths(),this._getGeneratorCode(),this._getTimestamp());t.appendChild(a),n&&t.one(".practice-audio-button").hide()}var r=t.one(".practice-audio-button");if(this._button=r,this.addWrapperAndButtonClassNames(t,r),this.get("content")){e&&e.ancestor(".qTable")?this.get("content")._parentNode=t.appendChild('<div class="audio-cell-wrapper"/>'):e&&e.ancestor(".dragAndDropVennDiagramContainer")&&e.ancestor(".warningBoxContainer")?this.get("content")._parentNode=t.appendChild('<div class="audio-cell-wrapper" />'):(this.get("content")._parentNode=t,"clozeView"===this.get("content").name&&this.get("content").set("container",t));var d=this.getContentName();!n&&r&&(s.AudioHTMLUtils.loadAndRenderAudioButtonSVGs(r),r.setAttribute("audio-button-contents",d),this.repositionAudioIcon()),t.setAttribute("audio-wrapper-contents",d),(this.get("content").audioWrapperComponent=this).get("content").render(),r&&"Html"===d&&!t.one(".practice-audio-button")&&n&&t.one("*").insert(r,"before")}return t},addWrapperAndButtonClassNames:function(t,e){this.useSmallAudioButton&&t.addClass("is-small-audio-button"),e&&this.useSmallAudioButton&&(e.isSmallAudioButton=!0),this.get("hiddenButton")&&t.addClass("practice-audio-multipart-element"),this.get("content")&&(!0!==this.get("content").isMultipartContainer&&!0!==this.get("content").isEnclosedTextContainer||(t.addClass("practice-audio-multipart-wrapper"),e&&e.addClass("practice-audio-multipart-button")),void 0!==this.get("content").audioOrdering&&t.setAttribute("practice-audio-ordering",this._getAudioOrdering()))},getContentName:function(){var t,e=this.get("content");return e.get&&(t=e.get("objectType")),t||(t=this.get("content").name),t},repositionAudioIcon:function(){var t=this.get("content"),e=t.name&&"gcReactBridge"!==t.name&&"qmReactBridge"!==t.name?t.name:t.get("objectType"),i=10;a&&-1<Object.keys(d).indexOf(e)&&(i=d[e]);for(var o=0;o<r.length;o++){var n=r[o];if(-1<Object.keys(n.components).indexOf(e)){this.inDocDo(u.bind(this._repositionAudioButtonRelativeToComponent,this,n.buttonSelector,n.components[e],i,n.adjustButtonFn));break}}},_repositionAudioButtonRelativeToComponent:function(t,e,i,o){var n=this._wrapper.one(t);n&&(n.setStyle("visibility","hidden"),setTimeout(function(){n.setStyle("visibility","visible"),o.call(this,this._wrapper,n,e)}.bind(this),i))},updateAudioText:function(t){t=t?t.replace(/["]+/g,""):this._getText(),this._button&&this._button.setAttribute("data-practice-audio-text",t)},updateAudioOrdering:function(t){null==t&&(t=this._getAudioOrdering()),this._wrapper.setAttribute("practice-audio-ordering",t)},updateAudioLocation:function(t){null!=t?this._wrapper.setAttribute("practice-audio-location",t):this._wrapper.removeAttribute("practice-audio-location")},getAudioInfo:function(){var t=this.get("audioId"),e="practice-audio-button-"+t,i=this._getAudioPaths();i=i?s.AudioHTMLUtils.formatAudioPathsForHTML(i):null;var o=u.Node.create(s.AudioHTMLUtils.createWrapperHtml(this.get("renderButton"),t));if(this.get("renderButton")){var n=s.AudioHTMLUtils.createButtonHtml(t,this._getText(),this._getLanguageCode(),this._getCountryCode(),this._getGradeLevel(),this._getAudioPaths(),this._getGeneratorCode(),this._getTimestamp());o.appendChild(n)}var a=o.one(".practice-audio-button");return this.addWrapperAndButtonClassNames(o,a),{audioId:t,wrapperId:o.generateID(),buttonId:e,renderButton:this.get("renderButton"),hideButton:this.get("hiddenButton")||!1,audioText:this._getText(),audioPaths:i,audioLanguage:this._getLanguageCode(),audioCountry:this._getCountryCode(),audioGradeLevel:this._getGradeLevel(),audioOrdering:o.get("practice-audio-ordering"),generatorCode:this._getGeneratorCode(),timestamp:this._getTimestamp(),wrapperClass:o.get("className"),buttonClass:a&&a.get("className"),contentName:a&&a.get("contentName")}},_getText:function(){var t=this.get("content"),e="CORRECT_ANSWER"===this.get("context")._section,i="STUDENTS_ANSWER"===this.get("context")._section;if(!t&&void 0!==this.get("audioOptionsOverride"))return this.get("audioOptionsOverride").audioText;if(!t)return"";if(t.get("audioOptions")&&t.get("audioOptions").audioText)return t.get("audioOptions").audioText;try{return t.getAudioText(e||i).replace(/["]+/g,"")}catch(t){return""}},_getAudioPaths:function(){return this.get("content")||void 0===this.get("audioOptionsOverride")?this.get("content")&&this.get("content").get("audioOptions")&&this.get("content").get("audioOptions").audioPaths?this.get("content").get("audioOptions").audioPaths:"":this.get("audioOptionsOverride").audioPaths},_getLanguageCode:function(){return this.get("context").languageCode},_getCountryCode:function(){return this.get("context").countryCode},_getGradeLevel:function(){return this.get("context").gradeLevel},_getAudioOrdering:function(){return this.get("content").audioOrdering},_getGeneratorCode:function(){return this.get("context").generatorCode},_getTimestamp:function(){return this.get("context").timestamp},toReact:function(){var t=this.getAudioInfo();return e.createElement(i,{audioId:t.audioId,wrapperId:t.wrapperId,buttonId:t.buttonId,hideButton:t.hideButton,audioText:t.audioText,audioPaths:t.audioPaths,audioLanguage:t.audioLanguage,audioCountry:t.audioCountry,audioGradeLevel:t.audioGradeLevel,audioOrdering:t.audioOrdering,generatorCode:t.generatorCode,timestamp:t.timestamp,wrapperClass:t.wrapperClass,buttonClass:t.buttonClass,content:this.get("content").toReact(),contentName:t.contentName,useSmallAudioButton:this.useSmallAudioButton})}})},"@VERSION@",{requires:["base","node","array-extras","global-React","q-AudioButtonVerticalAlignTileComponents","q-ComponentSimple","q-AudioHTMLUtils","q-DOMAttachAware","ixl_content_util_ReactAudioWrapper"]});
YUI.add("q-CSSClassNames",function(e){var a=e.namespace("IXL");a.CSSClassNames=a.ComponentSimple.create("CSSClassNames",{render:function(){var e=this._parentNode.appendChild('<div class="'+this.get("classNames").join(" ")+'"/>'),a=this.get("content");a._parentNode=e,a.render()}})},"@VERSION@",{requires:["base","node","array-extras","q-ComponentSimple"]});
YUI.add("q-ContextAware",function(t){var e=t.namespace("IXL"),n={};function r(t){var e=t.__qStamp__;this.addAttr("context",{getter:function(){return n[e]||{destroyed:!0}},readOnly:!0}),this.getStampedName=function(t){return t+e}}r.bindContext=function(t){n[t.__qStamp__]=t},r.destroyContext=function(t){t&&delete n[t.__qStamp__]},r.getContextFor=function(t){return n[t.__qStamp__]},e.ContextAware=r},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-Component",function(n){var r=n.namespace("IXL"),s=n.Array,a=n.Lang,h=n.Object;r.Component=n.Base.create("Component",n.BaseCore,[r.ContextAware],{render:function(){throw new Error("render() is not implemented.")},initializer:function(t){this.__origCfg__=t,this._newComponentsCreated=[]},destructor:function(){this._newComponentsCreated.forEach(function(t){t.destroy&&t.destroy()})},get:function(t){return this._state.data.hasOwnProperty(t)?this._getAttr(t):this.__origCfg__[t]},toJavaObject:function(){var t=this.__origCfg__,o={};return n.Object.each(t,function(t,n){var e=this.get(n);o[n]=function e(n){if(n instanceof r.Component)return n.toJavaObject();if(a.isObject(n)){var o={};return h.each(n,function(t,n){o[n]=e(t)}),o}if(a.isArray(n)){var i=[];return s.each(n,function(t){i.push(e(n))}),i}return n}(e)},this),o},getNumChildComponents:function(){return this.get("content")?1:0},getChildComponent:function(t){if(!this.get("content"))throw new Error(this+" did not implement getChildComponent(i)");if(0===t)return this.get("content");throw new Error("Index "+t+" in "+this+" is out of bounds.")},setChildComponent:function(t,n){if(!this.get("content"))throw new Error(this+" did not implement setChildComponent(i, m)");if(0!==t)throw new Error("Index "+t+" in "+this+" is out of bounds.");this.set("content",n)},getAudioText:function(t){if(this.get("audioOptions")&&"DISABLE"===this.get("audioOptions").configuration.name)return"";for(var n="",e=0;e<this.getNumChildComponents();e++)this.getChildComponent(e).get("audioOptions")&&"DISABLE"===this.getChildComponent(e).get("audioOptions").configuration.name||(n+=this.getChildComponent(e).getAudioText(t));return n},getDOMNode:function(){if(this._parentNode&&this._parentNode.one("*"))return this._parentNode.one("*").getDOMNode()}},{newInstance:function(t,n,e){e.__qStamp__=t.__origCfg__.__qStamp__;var o=new n(e);return t._newComponentsCreated||(t._newComponentsCreated=[]),t._newComponentsCreated.push(o),o}})},"@VERSION@",{requires:["base","node","array-extras","q-ContextAware"]});
YUI.add("q-GC",function(t){var i=t.namespace("IXL"),n=require("ixl/content/util/fillIn/FillInNavigationController"),o=require("ixl/content/util/CustomEventFactory"),s=require("ixl/content/util/has-class"),l=require("ixl/content/fauxcus/withTabFocus");i.GC=t.Base.create("gc",i.Component,[],{isGC:!0,initializer:function(e){t.Lang.isNull(e.answerToShow)&&delete e.answerToShow;e.__qStamp__,e.manager;this.get("disabled")||this.get("isStatic")||this.disableAutoRegisterForGCNavigation()||(t.UA.mobileapp?this._navKey=n.registerFillIn({domNodeProvider:this.getDOMNode.bind(this),focusCallback:this.setFocus.bind(this),blurCallback:this.blur.bind(this),hasNextInternalFillIn:this.hasNextInternalFillIn.bind(this),focusNextInternalFillIn:this.focusNextInternalFillIn.bind(this),insertContentCallback:this.insertChars.bind(this),deleteOneCallback:this.deleteOne.bind(this),deleteAllCallback:this.deleteAll.bind(this),isEmptyCallback:this.isEmpty.bind(this)}):this._navKey=n.registerFillIn({domNodeProvider:this.getDOMNode.bind(this),focusCallback:this.setFocus.bind(this),blurCallback:this.blur.bind(this),hasNextInternalFillIn:this.hasNextInternalFillIn.bind(this),focusNextInternalFillIn:this.focusNextInternalFillIn.bind(this),insertContentCallback:this.insertChars.bind(this),deleteOneCallback:this.deleteOne.bind(this),deleteAllCallback:this.deleteAll.bind(this),isEmptyCallback:this.isEmpty.bind(this),autoFocusCallback:this.autoFocus.bind(this)})),this._removeDelayedAutoFocusHandlers=this._removeDelayedAutoFocusHandlers.bind(this),this._delayedAutoFocus=this._delayedAutoFocus.bind(this)},destructor:function(){void 0!==this._navKey&&n.deregisterFillIn(this._navKey)},disableAutoRegisterForGCNavigation:function(){return!1},getType:function(){return i.GradableComponentType.OTHER},getGuessRequired:function(){var e=this.get("guessRequired");return!t.Lang.isValue(e)||e},inAnswerSection:function(){return void 0!==this.get("answerToShow")},setFocus:function(){t.fire("dismissKeyboard")},blur:function(){},insertChars:function(e){},hasNextInternalFillIn:function(){return!1},focusNextInternalFillIn:function(){},deleteOne:function(){},deleteAll:function(){},isEmpty:function(){return!1},autoFocus:function(){var e=this.getDOMNode();if(e&&e.getBoundingClientRect()&&e.offsetHeight&&window.innerHeight){var t=window.innerHeight>e.getBoundingClientRect().top+e.offsetHeight,i=window.innerHeight>e.getBoundingClientRect().top+e.offsetHeight*this.delayedAutoFocusVisibilityThreshold();t?this._doAutoFocus():i&&this._addDelayedAutoFocusEventHandlers()}},delayedAutoFocusVisibilityThreshold:function(){return 1},_doAutoFocus:function(){var e=this._findAutoFocusNode();e&&e.focus()},_findAutoFocusNode:function(){var e=this.getDOMNode();if("0"===e.getAttribute("tabindex"))return e;for(var t=e.querySelectorAll('[tabindex="0"]'),i=0;i<t.length;i++)if(!s(t[i],"qg3-audio-button"))return t[i]},_addDelayedAutoFocusEventHandlers:function(){window.addEventListener("keydown",this._delayedAutoFocus),window.addEventListener("click",this._removeDelayedAutoFocusHandlers),window.addEventListener("scroll",this._removeDelayedAutoFocusHandlers),window.addEventListener("resize",this._removeDelayedAutoFocusHandlers),window.addEventListener("orientationchange",this._removeDelayedAutoFocusHandlers)},_removeDelayedAutoFocusHandlers:function(e){window.removeEventListener("keydown",this._delayedAutoFocus),window.removeEventListener("click",this._removeDelayedAutoFocusHandlers),window.removeEventListener("scroll",this._removeDelayedAutoFocusHandlers),window.removeEventListener("resize",this._removeDelayedAutoFocusHandlers),window.removeEventListener("orientationchange",this._removeDelayedAutoFocusHandlers)},_delayedAutoFocus:function(e){!e.keyCode||37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),this._doAutoFocus(),window.setTimeout(function(){var e=this._findAutoFocusNode();if(e){var t=o.create("TabFocusMixin:focus",!1,!1,{tabbed:!0}),i=o.create(l.FOCUS_EVENT_NAME,!1,!1,{tabbed:!0});e.dispatchEvent(t),e.dispatchEvent(i)}}.bind(this),250)),this._removeDelayedAutoFocusHandlers()}},{RETURN_FALSE:function(){return!1},RETURN_TRUE:function(){return!0}});var a=i.GradableComponentType=function(){};function e(e){a[e]=new i.GradableComponentType,a[e].toString=function(){return e}}e("FILL_IN"),e("MULTIPLE_CHOICE"),e("MULTIPLE_SELECT"),e("OTHER")},"@VERSION@",{requires:["base","node","array-extras","pluginhost-base","q-Component","ixl_content_util_fillIn_FillInNavigationController","ixl_content_util_CustomEventFactory","ixl_content_fauxcus_withTabFocus"]});
YUI.add("q-QMDelegate",function(e){var t=e.namespace("IXL");t.QMDelegate=t.ComponentSimple.create("delegate",{render:function(){var e=this._parentNode,t=this.get("content");t._parentNode=e,t.render()},toReact:function(){return t.React.reactify(this.get("content"),!1)}})},"@VERSION@",{requires:["base","node","array-extras","q-ComponentSimple"]});
YUI.add("q-QMTypicalBinaryOperator",function(l){var d=l.namespace("IXL"),s=l.Lang,m=(l.Node,80);l.UA.mobileapp&&(m=95);var i="containsSymPadFI",c="responsive-typical-binary-operator-expression-alignment",h="responsive-typical-binary-operator-expression-padding";function p(e,a,t){!function(e){var a=e.get("children");if(a.size()%2==0)throw new Error("Invalid TBO structure: Even number of children.");for(var t=0;t<a.size()-1;t++){if(t%2==0){if(!a.item(t).hasClass("typicalBinaryOperand"))throw new Error("Invalid TBO structure: Even indices must be typical binary operands.");if(a.item(t).hasClass("binaryOperator"))throw new Error("Invalid TBO structure: Even indices must not be operators.")}if(t%2==1){if(!a.item(t).hasClass("binaryOperator"))throw new Error("Invalid TBO structure: Odd indices must be operators.");if(a.item(t).hasClass("typicalBinaryOperand"))throw new Error("Invalid TBO structure: Odd indices must not be typical binary operands.")}}}(e);for(var r,i,n,s,o,l,d,c=e.get("children"),h=c.size(),p=7<=h&&(i=t,n=(r=c).size(),!i&&r.item(n-1).get("region").width<=m)||t&&3===h&&(c.item(0).get("region").width<=m||c.item(2).get("region").width<=m)?(h-1)/2:(h+1)/2,g=0,u=0;u<p;u++){var C=e.appendChild('<div class="bundle"/>');for(a&&C.addClass("has-exponent");g<h&&(u===p-1||C.get("children").isEmpty()||(l=t,d=c.item(g),l&&d.hasClass("typicalBinaryOperand")||!l&&d.hasClass("binaryOperator")));)s=c.item(g),o=C,s.remove(!1),o.appendChild(s),g++}var y=e.get("children"),f=y.item(y.size()-1).get("children");f.item(f.size()-1).setAttribute("data-last-child","true")}d.QMTypicalBinaryOperator=l.Base.create("typicalBinaryOperator",d.Component,[d.DOMAttachAware],{render:function(){var e=this._parentNode,a=this.get("children"),r=e.appendChild('<div class="tbo"/>');this.get("responsiveWrappingAndAlignment")&&e.addClass(c),this.get("responsiveChildrenPadding")&&e.addClass(h);var t=a[0]instanceof d.QMDelegate?a[0].get("content"):a[0],i=a[1]instanceof d.QMDelegate?a[1].get("content"):a[1];this.inDocDo(function(){!function(e){if(e._node){var i=!0,s=0;e.get("children").each(function(e){e.get("children").each(function(e){if(e.hasClass("bundle")&&(e=e.get("firstChild")),e&&e.hasClass("typicalBinaryOperand")){var a=e.get("firstChild");if(a&&a.hasClass("negative")&&(a=a.get("lastChild")),a&&a.hasClass("vFrac")){var t=a.get("firstChild"),r=a.get("lastChild");t.hasClass("numerator")&&r.hasClass("denominator")?(s=Math.max(s,t.get("region").height),s=Math.max(s,r.get("region").height)):i=!1}else a&&a.hasClass("fnContainer")||(i=!1)}})}),i&&e.get("children").each(function(e){e.get("children").each(function(e){if(e.hasClass("bundle")&&(e=e.get("firstChild")),e&&e.hasClass("typicalBinaryOperand")){var a=e.one(".vFrac");if(a){var t=a.get("firstChild"),r=a.get("lastChild");if(t.hasClass("numerator")&&r.hasClass("denominator")){var i=s-t.get("region").height,n=s-r.get("region").height;t.setStyle("paddingTop",i),r.setStyle("paddingBottom",n)}}}})})}}(e)}),this.drawChild(r,t),this.drawOperator(r),this.drawChild(r,i);var n=r.one(".wholeExp"),s=r.ancestor(".explLineList",!1);function o(a){var e=r.getAttribute("class").split(" "),t=l.Array.indexOf(e,"tbo");-1!==t&&e.splice(t,1),l.Array.each(e,function(e){a.addClass(e)}),a.setStyle("color",r.getStyle("color")),r.ancestor().insertBefore(a,r)}this.inDocDo(function(){p(r,n,s),r.get("children").each(o),r.remove(!0)})},_renderNoContainer:function(){var e=this._parentNode,a=this.get("children");this.drawChild(e,a[0]),this.drawOperator(e),this.drawChild(e,a[1])},drawChild:function(e,a){var t,r=null;t=a,s.isFunction(t.drawChild)&&s.isFunction(t.drawOperator)?(a._parentNode=e,a._renderNoContainer(),e.one(".symPadFIArea")&&e.addClass(i)):(r=e.appendChild('<div class="expression typicalBinaryOperand"/>'),a._parentNode=r,a.render(),r.one(".symPadFIArea")&&r.addClass(i))},drawOperator:function(e){var a=e.appendChild('<div class="expression binaryOperator"/>');this.get("reduceSpace")&&a.addClass("reduceSpace");var t=this.get("symbol");s.isString(t)?a.set("text",t):(t._parentNode=a,t.render()),a.ancestor(".row")&&a.ancestor(".row").all(".eqLeft").each(function(e){e.one(".algebraTileBoxContainer")&&a.addClass("algebra-tile-binary-operator")});var r=!1;a.siblings(".typicalBinaryOperand").each(function(e){e.one(".algebraTileBoxContainer")&&(r=!0)}),r&&this.inDocDo(function(){a.ancestor(".bundle").ancestor().all(".typicalBinaryOperand").each(function(e){e.addClass("algebra-tile-expression")}),a.addClass("algebra-tile-expression"),a.addClass("algebra-tile-binary-operator")});var i=!1,n=!1;a.siblings(".typicalBinaryOperand").each(function(e){e.one(".placeValueModel")&&(i=!0),e.one(".vennDiagram")&&(n=!0)}),(i||n)&&this.inDocDo(function(){a.ancestor(".bundle").ancestor().all(".typicalBinaryOperand").each(function(e){e.addClass("placeValueModelExpression")}),a.addClass("placeValueModelExpression"),a.addClass("placeValueModelExpressionOperator")})},getNumChildComponents:function(){return 3},getChildComponent:function(e){switch(e){case 0:return this.get("children")[0];case 1:return this.get("symbol");case 2:return this.get("children")[1];default:throw new Error("Index "+e+" out of bounds in QMTypicalBinaryOperator.getChildComponent()")}},setChildComponent:function(e,a){switch(e){case 0:this.get("children")[0]=a;break;case 1:this.set("symbol",a);break;case 2:this.get("children")[1]=a;break;default:throw new Error("Index "+e+" out of bounds in QMTypicalBinaryOperator.setChildComponent()")}},getAudioText:function(e){return this.get("children")[0].getAudioText(e)+" "+this.get("symbol").getAudioText(e)+" "+this.get("children")[1].getAudioText(e)}})},"@VERSION@",{requires:["base","node","array-extras","array-extras","q-Component","q-DOMAttachAware","q-QMDelegate","q-css-Bundle","q-css-Expression","q-css-QMTypicalBinaryOperator","yui-gallery-nodelist-extras2"]});
YUI.add("q-GradingGroup",function(s){s.namespace("IXL").GradingGroup=s.Base.create("gradingGroup",s.Base,[],{initializer:function(s){this._minGuesses=s.minGuesses,this._guessables=s.guessables?s.guessables:[]},addGuessable:function(s){this._guessables.push(s)},getGuessables:function(){return this._guessables},isGroupGuessed:function(){var e=0,u=0,i=0;return s.Array.each(this._guessables,function(s){s.getGuessRequired()&&(e++,u+=s.isGuessed()),i+=s.isGuessed()}),!this._guessables||e===u&&i>=this._minGuesses}})},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-Guessable",function(o){var G=o.namespace("IXL"),d={},c={};function e(e){var n=e.__qStamp__,r=c[n],s=d[n];r||(r=c[n]=[]),s||(s=d[n]=new G.GradingGroup({minGuesses:1,guessables:[]}),r.push(s)),s.addGuessable(this);var t,u,a,i=e.gradingGroup?e.gradingGroup:new G.GradingGroup({minGuesses:0});t=r,u=i,a=this,o.Array.find(t,function(e){return e===u})||t.push(u),u.addGuessable(a)}e.runWithGuesses=function(e,n){var r,s,t,u={},a=d[e].getGuessables(),i=(a&&a.length,o.Array.map(a,function(s){return function(r){s.getGuess(function(e,n){u[n||s.get("id")]=o.JSON.stringify(e),r()})}}));r=0,s=a?a.length:0,t=function(){(r+=1)===s&&n(u)},o.Array.each(i,function(e){e(t)})},e.areGuessed=function(e){var n=c[e];return!n||o.Array.every(n,function(e){return e.isGroupGuessed()})},e.destroyStamp=function(e){delete d[e],delete c[e]},e.prototype={isGuessed:function(){throw new Error("isGuessed() is not implemented")},getGuess:function(e){throw new Error("getGuess(callback) is not implemented")}},G.Guessable=e},"@VERSION@",{requires:["base","node","array-extras","array-extras","q-GradingGroup"]});
YUI.add("q-StabilizerBase",function(e){var i=e.namespace("IXL");function t(){}t.prototype={stabilize:function(){throw new Error("stabilize() is not implemented")},isStable:function(){throw new Error("isStable() is not implemented")}},i.StabilizerBase=t},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-SubmitStabilizer",function(e){var t=e.namespace("IXL"),r={};function i(t){var e,i,a;e=t.__qStamp__,i=this,(a=r[e])||(a=r[e]=[]),a.push(i),this.stabilizeForSubmitPress=function(){this.stabilize()}}i.areStable=function(t){return!r[t]||e.Array.every(r[t],function(t){return t.isStable()})},i.stabilizeAll=function(t){r[t]&&e.Array.each(r[t],function(t){t.stabilizeForSubmitPress()})},i.destroyStamp=function(t){r[t]&&delete r[t]},i.prototype=new t.StabilizerBase,t.SubmitStabilizer=i},"@VERSION@",{requires:["base","node","array-extras","q-StabilizerBase","array-extras"]});
YUI.add("q-Question",function(s){var a=s.namespace("IXL");a.ObjectUtils;a.AnswerAction={DEFAULT:"default",FILL_IN:"fill_in",MULTIPLE_CHOICE:"multiple_choice",MULTIPLE_SELECT:"multiple_select"},a.Question=s.Base.create("question",a.Component,[],{needsAllGCs:!0,render:function(){var e=this._parentNode;this.drawAsync(e,function(){})},drawAsync:function(e,t){var n=this.get("content"),a=n.get("seed");a&&e.append('<input type="hidden" name="randomSeed" value="'+a+'"/>'),s.Lang.isFunction(n.drawAsync)?n.drawAsync(e,t):(n._parentNode=e,n.render(),t())},getGuessMap:function(e){var t=this.get("context").__qStamp__;a.Guessable.runWithGuesses(t,e)},isGuessed:function(){return a.Guessable.areGuessed(this.get("context").__qStamp__)&&this.isStable()},isStable:function(){return a.SubmitStabilizer.areStable(this.get("context").__qStamp__)},stabilize:function(){a.SubmitStabilizer.stabilizeAll(this.get("context").__qStamp__)},getAnswerAction:function(){var e,t=this.get("context"),n=t?t.subject.name:null;(e=s.Array.reduce(this.gcs,null,function(e,t){var n=t.getType?t.getType():null;return null===e?n:e===n?n:a.GradableComponentType.OTHER}))===a.GradableComponentType.FILL_IN&&1<this.gcs.length&&(1<s.Array.filter(this.gcs,function(e){return!e.gcs}).length&&(e=a.GradableComponentType.OTHER));switch("LANGUAGE_ARTS"===n&&e!==a.GradableComponentType.MULTIPLE_SELECT&&(e=a.GradableComponentType.OTHER),e){case a.GradableComponentType.FILL_IN:return a.AnswerAction.FILL_IN;case a.GradableComponentType.MULTIPLE_CHOICE:return a.AnswerAction.MULTIPLE_CHOICE;case a.GradableComponentType.MULTIPLE_SELECT:return a.AnswerAction.MULTIPLE_SELECT;default:return a.AnswerAction.DEFAULT}}})},"@VERSION@",{requires:["base","node","array-extras","json","q-ObjectUtils","q-Component","q-Guessable","q-SubmitStabilizer"]});
YUI.add("q-ColorDirective",function(r){var e=r.namespace("IXL");e.ColorDirective=function(r){e.ColorDirective.superclass.constructor.call(this)},r.extend(e.ColorDirective,Object,{index:0,paletteId:null,isFixedColor:!1,colorFamily:null,isHardCoded:!1,rgbColor:null,toString:function(){return JSON.stringify(this)}})},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-ColorSetting",function(c){var a=c.namespace("IXL"),h=require("ixl/content/color/QG3ColorSetting"),C=h.QG3ColorVariation,u={},v={};var D={};a.ColorSetting=function(o,t,r,i,e,l){if(a.ColorSetting.superclass.constructor.call(this),this.colorDirective=t,this.saturation=void 0===r?1:r,this.brightness=void 0===i?1:i,this.brightnessCorrection=void 0===e?1:e,this.defaultColor=void 0===l?0:l,this.hueOffset=0,null==this.colorDirective||this.colorDirective instanceof a.ColorDirective||"ColorDirective"==this.colorDirective.objectType)!function(o,t){var r=o.__qStamp__,i=u[r];i||(i=u[r]=[]),i.push(t);var e=v[r];e||(e=v[r]=[]),c.Lang.isArray(t.colorDirective)?v[r]=e.concat(t.colorDirective):t.colorDirective&&e.push(t.colorDirective)}(o,this);else{var s;0===Object.keys(D).length&&(D[a.ColorUtils.LIGHT]=C.LIGHT,D[a.ColorUtils.MEDIUM]=C.MEDIUM,D[a.ColorUtils.DARK]=C.DARK,D[a.ColorUtils.VERY_DARK]=C.VERY_DARK,D[a.ColorUtils.DARK_TEXT]=C.TEXT,D[a.ColorUtils.NORMAL_TEXT]=C.TEXT);var n=a.ColorUtils.extractPredefinedBrightness(i);D.hasOwnProperty(n)&&(s=D[n]),this.color=new h(this.colorDirective,s).getIntValue()}},c.extend(a.ColorSetting,Object,{colorDirective:null,saturation:1,brightness:1,brightnessCorrection:1,defaultColor:0,color:0,objectType:"ColorSetting",toHexString:function(o){if(this.color)return c.Lang.isArray(this.color)?a.ColorUtils.intToHexColor(this.color[o]):a.ColorUtils.intToHexColor(this.color)}},{findInstances:function(o){return u[o.__qStamp__]||[]},findColorDirectiveInstances:function(o){return v[o.__qStamp__]||[]}})},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-MathUtils",function(t){var a=t.namespace("IXL"),f=Math.cos,d=Math.acos,p=Math.PI,l=Math.sqrt,n=Math.pow,v=function(t){return t<0?-n(-t,1/3):n(t,1/3)};a.MathUtils={roundTo:function(t,a){return Math.round(t/a)*a},realMod:function(t,a,n){n&&!isNaN(n)&&isFinite(n)||(n=0);var r=(t-n)/a;return n+(r-Math.floor(r))*a},cubicRealRoots:function(t,a,n,r){var u=t*t,o=a*a,i=(3*t*n-o)/3/u,s=(2*(o*a)-9*t*a*n+27*u*r)/27/(u*t),e=s*s/4+i*i*i/27,h=[];if(e<0){var c=-a/3/t,M=l(-3/i);h.push(c+2/M*f(1/3*d(3*s/2/i*M))),h.push(c+2/M*f(1/3*d(3*s/2/i*M)-2*p/3)),h.push(c+2/M*f(1/3*d(3*s/2/i*M)-4*p/3))}return 0<=e&&h.push(-a/3/t+v(-s/2+l(e))+v(-s/2-l(e))),0===e&&h.push(-a/3/t-v(-s/2)),h},mod:function(t,a){return(t%a+a)%a},toRadian:function(t){return t*p/180}}},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-ColorUtils",function(u){var l=u.namespace("IXL"),r=require("ixl/content/util/int-to-hex-color"),e=[0,0,0],c=[[15576820,14585066,14179042,12197062,12734923,10951090],[16759178,16752993,16745006,15687936,15037737,14112512],[16769902,16373053,16235782,16751125,14592517,15043090],[12316570,10018921,6930736,5414946,6204715,4821022],[5886345,2930532,37691,25353,33845,22792],[8971263,6410234,440823,39663,370398,35543],[9093625,6989807,3833839,19396,3437271,17328],[12171769,10132207,8945893,6443713,8025038,5786029],[16742263,15542585,12845619,10027008,10682368,8847360],[13808780,12687979,9782581,8400673,9782581,8400673]],t="LIGHT",o="MEDIUM",n="DARK",i="VERY_DARK",a="NORMAL_TEXT",s="DARK_TEXT",f=[t,o,n,i,a,s],R={PINK:0,ORANGE:1,YELLOW:2,GREEN1:3,GREEN2:4,BLUE1:5,BLUE2:6,PURPLE:7,RED:8,BROWN:9},E={BASIC_BLUE:2722550,DARK_BLUE:871565,NAVY_BLUE:21755,SKY_BLUE:6922492,BASIC_GREEN:45824,FOREST_GREEN:36352,MINT_GREEN:7193463,LIME_GREEN:10536012,BASIC_YELLOW:16636211,SOFT_YELLOW:16443200,BASIC_ORANGE:15171130,CARROT_ORANGE:16097329,HYDRANT_RED:13369344,BASIC_RED:16711680,BASIC_PINK:16754377,HOT_PINK:16726149,MAGENTA_PINK:16143270,BASIC_PURPLE:8411340,GRAPE_PURPLE:8214173,EGGPLANT_PURPLE:6571654,BASIC_BROWN:10245943,DARK_BROWN:6764569,LIGHT_TAN_BROWN:13598275,BASIC_GRAY:12566463,DARK_GRAY:8421504,LIGHT_GRAY:14869218,GRAY_20:3355443};function h(r){return-1<f.indexOf(r)?f.indexOf(r):r<=.5?3:r<=.7?2:r<=.9?1:0}function C(r,t){var e=h(t);if(!u.Lang.isNumber(r.paletteId))return r.toHexString();var o=0;if(r.isHardCodedRGB)return r.rgbColor;if(r.isHardCodedNamed)return E[r.namedColor.name];if(r.isFixed)o=R[r.colorFamily.name];else{var n=r.paletteCopy,i=n.availableColors.length,a=Math.floor(n.baseHue*i),s=n.size,l=n.dynamicColorRange?Math.max(Math.floor(i/s),1):1;if(!n.consecutiveColorsDoNotTouch&&l<3)switch(i){case 4:l=s<=2?2:1;break;case 1:case 2:case 3:l=1;break;case 5:l=2;break;case 6:s<6&&(l=2,i=5);break;default:l=3}o=(a+r.index*l)%i,o=R[n.availableColors[o].name]}return c[o][e]}function d(r,t){if(t instanceof l.ColorSetting||"ColorSetting"===t.objectType)return function(t,r){var e,o=t.colorDirective,n=(t.saturation,h(t.brightness));if(t.hueOffset,o&&u.Lang.isNumber(o.paletteId)){var i=r.findPalette(o.paletteId);o.paletteCopy=i}t.brightnessIndex=n;var a=function(r){return C(r,t.brightness)};if(u.Lang.isArray(o)){var s=u.Array.map(o,a);t.color=s}else e=o?a(o):t.defaultColor,t.color=e;return{processRepeats:!0}}(t,r)}l.ColorUtils={MAGENTA_HUE:300/360,LIGHT:t,MEDIUM:o,DARK:n,VERY_DARK:i,NORMAL_TEXT:a,DARK_TEXT:s,extractPredefinedBrightness:function(r){return f[h(r)]},perceivedBrightness:function(r){var t=l.ColorUtils.rgbFast(r),e=t[0]/255,o=t[1]/255,n=t[2]/255;return Math.sqrt(.299*e*e+.587*o*o+.114*n*n)},colorDistance:function(r,t){var e=this.rgb(r),o=this.rgb(t),n=o[0]/255-e[0]/255,i=o[1]/255-e[1]/255,a=o[2]/255-e[2]/255;return Math.sqrt(n*n+i*i+a*a)},rgb:function(r){return[r>>16,r>>8&255,255&r]},rgbFast:function(r){var t=e;return t[0]=r>>16,t[1]=r>>8&255,t[2]=255&r,t},hsv:function(r){var t=l.ColorUtils.rgbFast(r),e=t[0]/255,o=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,o),n),a=i-Math.min(Math.min(e,o),n),s=0===a?void 0:i===e?l.MathUtils.mod((o-n)/a,6):i===o?(n-e)/a+2:(e-o)/a+4;return[s=60*s/360,a/i,i]},hueDiff:function(r,t){if((t%=1)<(r%=1)){var e=r;r=t,t=e}return Math.min(t-r,1-t+r)},hexToRGB:function(r){var t="#"===r.substring(0,1)?r.substring(1):r,e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},fromRGB:function(r,t,e){return(r<<16)+(t<<8)+e},multiply:function(r,t){for(var e=l.ColorUtils.rgbFast(r),o=0;o<e.length;o++)e[o]=Math.min(255,Math.max(0,Math.round(e[o]*t)));return l.ColorUtils.fromRGB(e[0],e[1],e[2])},addWhite:function(r,t){for(var e=l.ColorUtils.rgbFast(r),o=0;o<e.length;o++)e[o]=Math.min(255,Math.max(0,Math.round(e[o]+255*t)));return l.ColorUtils.fromRGB(e[0],e[1],e[2])},fromHSV:function(r,t,e){r*=6;var o=e*t,n=o*(1-Math.abs(r%2-1)),i=0,a=0,s=0;r<1?(i=o,a=n,s=0):r<2?(i=n,a=o,s=0):r<3?(i=0,a=o,s=n):r<4?(i=0,a=n,s=o):r<5?(i=n,a=0,s=o):r<6&&(i=o,a=0,s=n);var l=e-o;return(255*(i+=l)<<16)+(255*(a+=l)<<8)+(255*(s+=l)<<0)},correct:function(r,t,e,o){void 0===o&&(o=1);var n=l.ColorUtils.fromHSV(r,t,e),i=l.ColorUtils.perceivedBrightness(n),a=l.ColorUtils.perceivedBrightness(l.ColorUtils.fromHSV(l.ColorUtils.MAGENTA_HUE,t,e));if((a=o*a+(1-o)*i)<i)return l.ColorUtils.multiply(n,a/i);for(n=l.ColorUtils.addWhite(n,a-i);l.ColorUtils.perceivedBrightness(n)+.005<a;)n=l.ColorUtils.addWhite(n,1/255);return n},gray:function(r){var t=l.ColorUtils.perceivedBrightness(r),e=Math.round(255*t);return l.ColorUtils.fromRGB(e,e,e)},intToHexColor:r,process:function(r,t,e){l.ObjectUtils.process(r,u.bind(d,this,t),null,null,e)},processColorSettings:function(r){for(var t=l.ColorSetting.findInstances(r),e=0,o=t.length;e<o;e++)d.call(this,r,t[e])},cdToColor:C}},"@VERSION@",{requires:["base","node","array-extras","q-ColorDirective","q-ColorSetting","q-ObjectUtils","q-MathUtils","ixl_content_util_int-to-hex-color"]});
YUI.add("q-HTMLUtils",function(d){var a=d.namespace("IXL");a.HTMLUtils={drawIndent:function(e){var t=e.appendChild("<div/>");return t.setStyle("marginLeft","32px"),t},calculateDimensions:function(e,t){var o=d.Node.create("<div>");o.setStyle("display","inline-block"),o.setStyle("position","absolute"),o.setStyle("top","-99999px"),o.setStyle("left","-99999px");var r=null!==e.get("parentNode"),n=d.Node.create("<div/>");r&&e.replace(n),o.appendChild(e);var i=t;t&&t.inDoc()||(i=d.one("body")),i.appendChild(o);var a=e.getDOMNode(),l={width:a.offsetWidth,height:a.offsetHeight};return i.removeChild(o),r&&n.replace(e),l},lastChild:function(e){return e.get("children").item(e.get("children").size()-1)},findStrokeFor:function(e){var t=e.getStyle("fontWeight");return{weight:"700"===t||700===t||"bold"===t?2:1,color:e.getStyle("color")}},normalizeWidth:function(e,t){var o,r=0;return e&&d.Lang.isString(t)?((o=e.all(t)).each(function(e){var t,o=e.get("region");o&&(t=o.width||o.left-o.right,r<t&&(r=t))}),0<r&&(r+=5,o.each(function(e){e.setStyle("width",r)})),r):0},setLinearGradient:function(e,t,o){var r=a.ColorUtils.intToHexColor(t),n=a.ColorUtils.intToHexColor(o);if(d.UA.ie&&d.UA.ie<10)e.setStyle("filter","progid:DXImageTransform.Microsoft.gradient(startColorstr='"+r+"', endColorstr='"+n+"', GradientType=0)");else{var i="";i=d.UA.gecko&&d.UA.gecko<16?"-moz-linear-gradient(top, "+r+", "+n+")":d.UA.chrome&&d.UA.chrome<10||d.UA.webkit&&d.UA.webkit<534&&!d.UA.chrome?"-webkit-gradient(linear, top, bottom, from("+r+"), to("+n+"))":10<=d.UA.chrome||534<=d.UA.webkit&&!d.UA.chrome?"-webkit-linear-gradient(top, "+r+", "+n+")":10<=d.UA.ie?"-ms-linear-gradient(top, "+r+", "+n+")":d.UA.opera&&d.UA.opera<13?"-o-linear-gradient(top, "+r+", "+n+")":"linear-gradient(to bottom, "+r+", "+n+")",e.setStyle("backgroundImage",i)}},setNonLinearGradientBackgroundColor:function(e,t){t=a.ColorUtils.intToHexColor(t),e.setStyle("background",t),d.UA.ie&&d.UA.ie<10&&e.setStyle("filter","none")},getLinearGradientCSS:function(e,t){e=a.ColorUtils.intToHexColor(e),t=a.ColorUtils.intToHexColor(t);var o="background: "+e+";";return d.UA.ie&&d.UA.ie<10?o+='filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="'+e+'", endColorstr="'+t+'", GradientType=0);':o+="background: -moz-linear-gradient(top, "+e+" 0%, "+t+" 100%);background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,"+e+"), color-stop(100%,"+t+"));background: -webkit-linear-gradient(top, rgba("+e+" 0%,"+t+" 100%);background: -o-linear-gradient(top, "+e+" 0%, "+t+" 100%);background: -ms-linear-gradient(top, "+e+" 0%, "+t+" 100%);background: linear-gradient(to bottom, "+e+" 0%, "+t+" 100%);",o},onMouseEnterLeave:function(e,t,o,r){d.UA.ie?(e.getDOMNode().onmouseenter=d.bind(t,r),e.getDOMNode().onmouseleave=d.bind(o,r)):(e.on("mouseenter",t,r),e.on("mouseleave",o,r))}}},"@VERSION@",{requires:["base","node","array-extras","node","q-ColorUtils"]});
YUI.add("q-Section",function(l){var g=l.namespace("IXL"),u=require("ixl/content/util/join-classes");l.Node,g.HTMLUtils;g.Section=g.ComponentSimple.create("section",{render:function(){var e=this._parentNode,t=this.get("header"),n=this.get("contents"),i=this.get("isAudioSized"),o=g.Section;if(e.addClass(o.CSSCLS),t){var s=e.appendChild('<div class="'+o.HEADER_CSSCLS+'" />');t._parentNode=s,t.render()}var r=e,a=[o.CONTENT_CSSCLS],c=o.AUDIO_INDENT_CSSCLS;n.some(function(e){if("function"==typeof e.removeIndentationOnSmallScreens)return e.removeIndentationOnSmallScreens()})&&a.push("remove-left-margin-on-small-screens"),i&&a.push(c),t&&0<n.length&&(r=e.appendChild('<div class="'+u(a)+'" />'));for(var C=0,d=n.length;C<d;C++){var h=n[C],S=r.appendChild('<div class="'+o.CONTENT_PIECE_CSSCLS+'"/>');h._parentNode=S,h.render()}g.DOMAttachAware.inDocDo(this,function(){l.UA.android&&l.UA.chrome&&e.one(".secContentPiece")&&e.all(".secContentPiece").each(function(e){e.addClass("font-boosting-fix")})})},getDepth:function(){var e=this.get("header")?1:0;return 0<this.get("contents").length&&("Section"===this.get("contents")[0].get("objectType")?e+=this.get("contents")[0].getDepth():e+=1),e},getNumChildComponents:function(){return(this.get("header")?1:0)+this.get("contents").length},getChildComponent:function(e){var t=this.get("header");return 0===e&&t?t:this.get("contents")[e-(t?1:0)]},setChildComponent:function(e,t){var n=this.get("header");0===e&&n?this.set("header",t):this.get("contents")[e-(n?1:0)]=t},getAudioText:function(e){for(var t="",n=this.getNumChildComponents(),i=0;i<n;i++){var o=this.getChildComponent(i).getAudioText(e);t+=o,i+1<n&&0<o.length&&(t+="; ")}return t}},{CSSCLS:"section",HEADER_CSSCLS:"secHdr",CONTENT_CSSCLS:"secContent",AUDIO_INDENT_CSSCLS:"audioIndented",CONTENT_PIECE_CSSCLS:"secContentPiece"})},"@VERSION@",{requires:["base","node","array-extras","q-HTMLUtils","q-ComponentSimple","q-DOMAttachAware","q-css-Section"]});
YUI.add("q-AudioUtils",function(i){var l=i.namespace("IXL"),t=require("ixl/content/util/audio/TEXT_REGEX"),c=t.REGEX_WORDISH,g=t.REGEX_LETTER,e=t.REGEX_NUMBER,C=(i.Lang,i.Array);l.AudioUtils={addAudio:function(i){"DISABLED"!==i.get("context").audioPolicy.name&&l.AudioUtils._insertAudioComponents(i.get("content"),i.get("context"),i,0)},addFeedbackSubcomponents:function(i){"DISABLED"!==i.get("context").audioPolicy.name&&l.AudioUtils._insertAudioComponents(i.get("content"),i.get("context"),i,0,!1,!0)},getAnswerAudioText:function(i){return i.getAudioText(!0)},addAudioWrapper:function(i,t){if(!(i instanceof l.ContextHelper))throw new Error("addAudioWrapper() only works on ContextHelper.");i.setChildComponent(0,new l.AudioWrapper({content:i.get("content"),context:i.get("context"),audioId:t,renderButton:!1}))},generateAudioId:function(){return i.guid("js-")},_insertAudioComponents:function(i,t,e,o,n,a){if(i&&i.get&&!(i.get("audioOptions")&&"DISABLE"===i.get("audioOptions").configuration.name||a&&i.get("disableFeedbackAudio")||"QMDoc"===i.get("objectType"))){var r=i.get("objectType");if(i.neverAudioSubcomponent&&!a&&(n=!1),n&&(i.isSubcomponent=!0),a&&i.get("audioOptions")&&i.get("audioOptions").audioPaths&&(i.isSubcomponent=!0),a&&(i.isFeedback=!0),this._addAudioFunctionToHTMLChildren(i),"QMAudioSledgeHammer"!==r){if("GCTileMultipleChoice"!==e.name||"Table"!==r&&"GraphingBase"!==r)if("PlainText"!==r)if("RichText"!==r)if("RichTextLines"!==r)if("DCImageBridge"!==r||void 0===i.get("audioOptions"))if("Message"!==r)if("QMFurigana"!==r){if(!r||-1===r.indexOf("Symbol"))if((i instanceof l.QMTypicalBinaryOperator||"AlignedVerticalArithmetic"===r)&&this._containsWordishPlainText(i))this._wrapWithAudio(i,t,e,o);else if(!(i instanceof l.QMTypicalBinaryOperator||"AlignedVerticalArithmetic"===r)||"Section"!==e.get("objectType")&&"DocBlock"!==e.get("objectType")){if("DragAndDropSorting"===r&&this._containsWordishPlainText(i)){if(i.get("disableAudio"))return;for(var u=!1,s=0;s<i.getNumChildComponents();s++){var d=i.getChildComponent(s),p=d.get("audioOptions");if(!d.neverAudioSubcomponent&&(!p||p.audioPaths||p.audioText)){u=!0;break}}u&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0)}if("DragAndDropTimeline"===r&&this._containsWordishPlainText(i)&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),("MatchWordsToImages"===r||"GCTextTileMultipleChoice"===r||"GCTextTileMultipleSelect"===r||"GCCompositeTileMultipleChoice"===r||"GCCompositeTileMultipleSelect"===r||"GCFloatTileMultipleChoice"===r||"GCFloatTileMultipleSelect"===r||"GCImageTileMultipleChoice"===r||"GCImageTileMultipleSelect"===r||"DragAndDropTimeline"===r||"GCCompositeTileMultipleSelect"===r||"RichTextTitle"===r||"DragAndDropTextMatching"===r||"QMExpressionWithUnit"===r)&&this._containsWordishPlainText(i)||this._useAudioForTextTileMCNumber(r,i,t)){if(i.get("disableAudio"))return;if(i.get("audioOptions")&&i.get("audioOptions").audioPaths)return void this._wrapWithAudio(i,t,e,o);i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0}if("GCOrderItemsBridge"===r&&this._containsWordishPlainText(i)&&!i.get("disableAudio")&&!i._isDecimal()){if(i.get("audioOptions")&&i.get("audioOptions").audioPaths)return void this._wrapWithAudio(i,t,e,o);i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0}if("DragAndDropVennDiagram"===r&&i.hasReadableTiles()&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"QMIntroBoxTextWithImage"!==r&&"QMIntroBoxTextOnly"!==r||(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"TextBuilder"===r&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"QMSeriesOfImages"===r&&0<i.getNumChildComponents()&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"QMFoodChains"===r&&0<i.getNumChildComponents()&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"DragWrapperTile"===r&&this._insertInnerAudio(i,t),"QMLongText"===r&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"GCLetterMatchingWithImages"===r&&0<i.getNumChildComponents()&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"SeriesOfImagesImage"===r&&this._insertInnerAudio(i,t),"VerticalOrderItems"===r&&this._containsWordishPlainText(i)&&(i.isMultipartContainer=!0,this._insertInnerAudio(i,t),n=!0),"ClickToCorrect"!==r)if("SelectWords"!==r)if("ClozeView"!==r){if("EnclosedTextArea"===r)return i.isEnclosedTextContainer=!0,void this._wrapWithAudio(i,t,e,o);if("FillInPrompt"!==r){if("QMSimpleDialogue"===r&&0<i.getNumChildComponents()){if(n&&this._insertInnerAudio(i,t),i.get("audioOptions")&&(i.get("audioOptions").audioPaths||i.get("audioOptions").audioText))return void this._wrapWithAudio(i,t,e,o);i.isMultipartContainer=!0,"GCFillInMultipleChoiceComponentWrapper"===e.get("objectType")&&a&&(i.isSubcomponent=!1),this._wrapWithAudio(i,t,e,o),n=!0}if("ContextualizedFillIn"!==r){if("FillInMultipleChoiceTile"===r&&(this._wrapWithAudio(i,t,e,o),i.get("audioOptions")&&i.get("audioOptions").audioPaths||(this._containsWordishPlainText(i)&&this._insertInnerAudio(i,t),n=!0)),"GCFillInMultipleChoiceComponentWrapper"===r&&a&&(n=!0),"DCScenarioBox"===r&&0<i.getNumChildComponents()&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"DCFillInMultipleChoiceTiles"===r&&(this._insertInnerAudio(i,t),i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"GCFillInMultipleChoicePassage"===r){if(i.get("audioOptions")&&(i.get("audioOptions").audioPaths||i.get("audioOptions").audioText))return void this._wrapWithAudio(i,t,e,o);i.get("audioOptions")&&"DISABLE"===i.get("audioOptions").configuration.name||this._wrapWithAudio(i,t,e,o),n=!0}if("GCSelectLetters"!==r){if("QMAudioPromptWithEar"===r)return i.isSubcomponent=!0,void this._wrapWithAudio(i,t,e,o);if("QMAudioPromptSpeaker"===r)return i.isSubcomponent=!0,void this._wrapWithAudio(i,t,e,o);if("QMAudioPlayer"!==r)if("SelectAndEditText"!==r)if("InsertPunctuation"!==r)if("CompleteTheAnalogy"!==r)if("GCMultipleChoiceTable"!==r&&"QMMultipleChoiceTable"!==r||(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),"GCDragAndDropFillIn"===r&&"CORRECT_ANSWER"!==t._section&&(i.isMultipartContainer=!0,this._wrapWithAudio(i,t,e,o),n=!0),i instanceof l.WordSumEquationView&&!i.hasImageTerm())this._wrapWithAudio(i,t,e,o);else if("Html"===r&&this._containsWordishPlainText(i)&&this._wrapWithAudio(i,t,e,o),"RetypeText"===r&&"DCImageBridge"!==i.uneditableText.objectType&&"ImageBorder"!==i.uneditableText.objectType&&this._wrapWithAudio(i,t,e,o),"Semanticked"!==r||"GCMultipleChoiceTable"!==e.get("objectType")&&"QMMultipleChoiceTable"!==e.get("objectType")||e.setChildComponent(o,i),!i.isMultipartContainer&&i.get&&i.get("audioOptions")&&i.get("audioOptions").audioPaths)this._wrapWithAudio(i,t,e,o);else for(var h=0;h<i.getNumChildComponents();h++)l.AudioUtils._insertAudioComponents(i.getChildComponent(h),t,i,h,n,a);else this._wrapWithAudio(i,t,e,o);else this._wrapWithAudio(i,t,e,o);else this._wrapWithAudio(i,t,e,o)}else this._wrapWithAudio(i,t,e,o)}else this._wrapWithAudio(i,t,e,o)}else this._wrapWithAudio(i,t,e,o)}else this._wrapWithAudio(i,t,e,o);else this._wrapWithAudio(i,t,e,o);else this._wrapWithAudio(i,t,e,o)}}else this._wrapWithAudio(i,t,e,o);else C.find(i.get("pieces"),this._isWordishPlainText)&&this._wrapWithAudio(i,t,e,o);else n?(this._insertInnerAudio(i,t),i.innerAudioWrapper=i.get("innerAudioWrapper")):this._wrapWithAudio(i,t,e,o);else this._wrapWithAudio(i,t,e,o);else(i.get("text").match(g)||i.get("audioOptions")&&(i.get("audioOptions").audioPaths||i.get("audioOptions").audioText))&&this._wrapWithAudio(i,t,e,o);else i.get("text").match(c)&&this._wrapWithAudio(i,t,e,o)}else i.get("noAudio")||this._wrapWithAudio(i,t,e,o)}},_wrapWithAudio:function(i,t,e,o){for(var n=i.getNumChildComponents(),a=!1,r=0;r<n;r++){var u=i.getChildComponent(r);if(u.get("audioOptions")&&"ENFORCE"===u.get("audioOptions").configuration.name){a=!0;break}}"EXPLICIT"===t.audioPolicy.name&&!a&&(i.get("audioOptions")&&"ENFORCE"!==i.get("audioOptions").configuration.name||void 0===i.get("audioOptions"))||(e.setChildComponent(o,new l.AudioWrapper({content:i,context:t,audioId:this.generateAudioId(),renderButton:!i.isFeedback||i.isSubcomponent,hiddenButton:!0===i.isSubcomponent})),i.isSubcomponent&&(t.hasAudioSubcomponents=!0),i.get("audioOptions")&&i.get("audioOptions").audioPaths&&(t.usesRecordedAudio=!0))},_insertInnerAudio:function(i,t){var e={content:null,context:t,audioId:this.generateAudioId(),renderButton:!i.isFeedback||i.isSubcomponent,hiddenButton:!0===i.isSubcomponent};i.isSubcomponent&&"DCImageBridge"===i.name&&i.get("audioOptions")&&(e.audioOptionsOverride=i.get("audioOptions")),i.set("innerAudioWrapper",new l.AudioWrapper(e)),i.isSubcomponent&&(t.hasAudioSubcomponents=!0),i.get("audioOptions")&&i.get("audioOptions").audioPaths&&(t.usesRecordedAudio=!0)},_addAudioFunctionToHTML:function(i){var t=document.createElement("div");t.innerHTML=i.html;var e=this._extractAudioFromHTML(t);i.set("text",e),i.getAudioText=function(){return e}},_addAudioFunctionToHTMLChildren:function(i){var t;if(i.getNumChildComponents&&i.getChildComponent)for(t=0;t<i.getNumChildComponents();t++)"Html"===i.getChildComponent(t).objectType&&this._addAudioFunctionToHTML(i.getChildComponent(t))},_extractAudioFromHTML:function(i){if(i instanceof Text)return i.textContent;if(i.hasAttribute("noaudio"))return"";if(i.getAttribute("audioalt"))return i.getAttribute("audioalt");if("CANVAS"===i.tagName||"SCRIPT"===i.tagName||"RT"===i.tagName)return"";if("DIV"===i.tagName&&2===i.childNodes.length&&i.childNodes[0]instanceof Text&&"SUP"===i.childNodes[1].tagName)return" "+i.childNodes[0].textContent+i.childNodes[1].textContent;for(var t="",e=0;e<i.childNodes.length;e++)t+=" "+this._extractAudioFromHTML(i.childNodes[e]);return t},_isWordishPlainText:function(i){if(i.get){if(i.get("audioOptions")&&(i.get("audioOptions").audioPaths||i.get("audioOptions").audioText))return!0;var t=i.get("text");if(t&&t.match)return i.objectType&&"RichText"===i.objectType?t.match(g):t.match(c);if(t&&i.isSubcomponent)return!0}return!1},_useAudioForTextTileMCNumber:function(i,t,e){return"GCTextTileMultipleChoice"===i&&this._containsNumber(t)&&e.subject&&"LANGUAGE_ARTS"===e.subject.name},_isNumber:function(i){if(i.get){if(i.get("audioOptions")&&(i.get("audioOptions").audioPaths||i.get("audioOptions").audioText))return!0;var t=i.get("text");if(t&&t.match)return t.match(e);if(t&&i.isSubcomponent)return!0}return!1},_containsSubcomponentThatPassesFunction:function(i,t){if(t(i))return!0;if(!i.getNumChildComponents)return!1;if(i.isSubcomponent)return!0;for(var e=0;e<i.getNumChildComponents();e++)if(!i.getChildComponent(e).neverAudioSubcomponent&&this._containsSubcomponentThatPassesFunction(i.getChildComponent(e),t))return!0;return!1},_containsWordishPlainText:function(i){return this._containsSubcomponentThatPassesFunction(i,this._isWordishPlainText.bind(this))},_containsNumber:function(i){return this._containsSubcomponentThatPassesFunction(i,this._isNumber.bind(this))},isOld:function(i){return i instanceof l.Question?i.get("content").get("content")instanceof l.CSSClassNames:i.get("content")instanceof l.CSSClassNames}}},"@VERSION@",{requires:["base","node","array-extras","q-AudioWrapper","q-QMTypicalBinaryOperator","q-GC","q-Section","q-Question","q-CSSClassNames","qela-WordSumEquationView"]});
