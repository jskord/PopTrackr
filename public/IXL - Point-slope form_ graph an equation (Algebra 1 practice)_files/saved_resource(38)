YUI.add('lang/social-sharing-SocialSharing', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['basic_config.tweet_description'] = 'Check out @IXLLearning!';
  text['twitter.name'] = 'Twitter';
  text['basic_config.fb_description'] = 'Check out IXL Learning!';
  text['basic_config.name'] = 'IXL Learning';
  text['fb.name'] = 'Facebook';
  IXL.Intl.addModule('social-sharing-SocialSharing', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add("social-sharing-SocialSharing",function(n){var s=n.namespace("IXL").Intl.getModule("social-sharing-SocialSharing"),i={link:"http://www.ixl.com",name:s.getText("basic_config.name"),fbDescription:s.getText("basic_config.fb_description"),picture:"http://www.ixl.com/static/math/images/logo_ixl_2.png",tweetDescription:s.getText("basic_config.tweet_description"),socialClickbackHashes:{fbHash:"fb",twHash:"tw"},trackClickback:!0,loadOnly:!1,setUpSocialMedia:!0,aType:-1},r=n.config.win,l=(n.UA.mobile,"SocialSharing"),c=1;function h(e,t,o){var a,n=(a=r.gaq||function(){(r.gaq.q=r.gaq.q||[]).push(arguments)},r.gaq=a);o&&n?n("send","event",l,e,t,o):n&&n("send","event",l,e,t)}function g(e,t,o){r.open(e,"_blank","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+t+",width="+o)}function a(e,t,o,a,n){h(s.getText("fb.name"),t,c),g("http://www.facebook.com/sharer.php?u="+(t+(n?"#"+i.socialClickbackHashes.fbHash:"")),450,600)}function u(e,t,o){h(s.getText("twitter.name"),e,c),g("https://twitter.com/share?url="+(e+(o?"%23"+i.socialClickbackHashes.twHash:""))+"&text="+t,"400","550")}function d(a){return window.___gcfg={parsetags:"explicit"},new n.Promise(function(o,e){void 0!==a.aType&&-1<parseInt(a.aType,10)?n.Get.js("https://apis.google.com/js/platform.js",{timeout:2e3,onSuccess:function(){var e,t;e=n.all(".google-classroom.share-button"),t=n.all(".social-share-bar"),a.loadOnly?o("loaded Google Classroom script successfully"):(window.gapi&&window.gapi.sharetoclassroom&&window.gapi.sharetoclassroom.render&&(window.gapi.sharetoclassroom.render("id-g-sharetoclassroom",{url:a.link,size:"32"}),e&&0<e.size()&&(e.removeClass("none"),t&&0<t.size()&&t.addClass("has-google-classroom"),e.on("mouseenter",function(e){e.currentTarget.addClass("hover")}),e.on("mouseleave",function(e){e.currentTarget.removeClass("hover")})),o("loaded and rendered Google Classroom share button successfully")),o("loaded and but not rendered Google Classroom share button"))},onFailure:e}):o("Google Classroom not required")})}function f(){var h=n.one("body"),g=n.one(".site-nav-footer"),u=(n.one("section#bd"),n.one("div#stats")),d=n.one(".social-share-bar");function t(){var e=g.get("region").top,t=d.get("region").height,o=u.get("region").bottom,a=h.get("winWidth"),n=h.get("docWidth"),i=h.get("viewportRegion"),s=i.top,r=i.left,l=e-100-t,c=o+100;l<c&&(c=l=(l+c)/2),l-=s,d.setStyle("top",l),a<n?d.setStyle("right",a-n+r):d.setStyle("right",0)}d.setStyle("display","block"),n.UA.ios||n.UA.mobile?(d.setStyle("position","absolute"),d.setStyle("top","auto"),d.setStyle("bottom","230")):(t(),n.on("resize",function(e){t()}),n.on("scroll",function(e){t()}))}r.shareReport=function(e){var t=JSON.parse(e.shareData);t.link=t.host+t.link,t.image=t.host+t.image,"fb"===e.channel?a(t.title,t.link,t.image,t.description,!0):"tw"===e.channel&&u(t.link,t.tweet,!0)},n.IXL.SocialSharing=function(e){var o,t=n.merge(i,e);t.trackClickback&&function(e){var t=r.location.hash,i=r.location.href;function o(e){var t=i.split("#"+e),o=t[0],a=t[1];if(a)"&"===a.charAt(0)&&(a=a.substr(1));else{var n=o.length;"&"===o.charAt(n-1)&&(o=o.substr(0,n-1))}r.location.href=o+"#"+a,i=r.location.href}if(t){var a=r.location.origin+r.location.pathname;t.match(e.fbHash)&&(h(s.getText("fb.name"),a,2),o(e.fbHash)),t.match(e.twHash)&&(h(s.getText("twitter.name"),a,2),o(e.twHash))}}(t.socialClickbackHashes),t.setUpSocialMedia&&n.batch((o=t,new n.Promise(function(e,t){o.loadOnly||n.one("body").delegate("click",function(e){e.halt(),a(o.name,o.link,o.picture,o.fbDescription,!0)},".facebook-share.share-button"),e()})),function(t){if(t.loadOnly)return n.when("load only - do not set up a button");var e=n.one(".twitter-share.share-button");return e.on("click",function(e){e.halt(),h(s.getText("twitter.name"),t.tweetLink,c),u(t.tweetLink,t.tweetDescription,!0)}),n.when(e)}(t),d(t)).then(f)}},"@VERSION@",{requires:["node","event-base","event-mouseenter","event-outside","node-event-simulate","transition","promise","util-Intl"]});
