YUI.add('lang/signin-_ForgotInfoDialog', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['signin_popover.cancel'] = 'Cancel';
  text['signin_popover.submit'] = 'Submit';
  IXL.Intl.addModule('signin-_ForgotInfoDialog', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add("signin-_ForgotInfoDialog",function(s){var e=s.namespace("IXL"),i=e.React.getReactInstance(),t=e.React.getReactDOM(),o=require("ixl/external/react/prop-types"),n=require("ixl/external/react/create-react-class"),a=require("ixl/util-commonjs/Intl").getModule("signin-_ForgotInfoDialog");e._ForgotInfoDialog=n({propTypes:{forgotInfoJson:o.object,updateForgotInfo:o.func.isRequired,cancelForgotInfo:o.func.isRequired,completeForgotInfo:o.func.isRequired,initialUsername:o.string},render:function(){return this.props.forgotInfoJson?i.createElement("div",{className:"forgot-info-dialog"},i.createElement("div",{id:"bodyHeaderForLoginDialog",className:"hd",dangerouslySetInnerHTML:{__html:this.props.forgotInfoJson.header}}),i.createElement("div",{className:"bd",dangerouslySetInnerHTML:{__html:this.props.forgotInfoJson.body},ref:"body"}),this._renderRequestButtons()):null},componentDidMount:function(){if(this._setupDialog(),this.props.initialUsername){var e=this.refs.body.getElementsByTagName("input");0<e.length&&(e[0].value=this.props.initialUsername)}},componentDidUpdate:function(e){e.forgotInfoJson!==this.props.forgotInfoJson&&(this._removeListeners(),this._setupDialog())},componentWillUnmount:function(){this._removeListeners()},_setupDialog:function(){this._setupListeners(),this._setUpAriaAttrs(),this._focusInput()},_setupListeners:function(){var n=this,e=t.findDOMNode(this);this.refs.body.getElementsByTagName("form")[0]&&document.addEventListener("keydown",this._onEnterPressed),s.one(e).delegate("click",function(e){e.preventDefault();var t=e.target.get("href");t&&s.io(t,{on:{success:function(e,t){var o=JSON.parse(t.responseText);n.props.updateForgotInfo(o)},failure:function(e,t){YAHOO.widget.FlowDialog.ajaxFailure(t)}}})},"#elink")},_removeListeners:function(){this.refs.body.getElementsByTagName("form")[0]&&document.removeEventListener("keydown",this._onEnterPressed)},_onEnterPressed:function(e){if("Enter"===e.key){if("BUTTON"===e.target.tagName)return;var t=this.refs.buttons.getElementsByTagName("button");t[0]&&t[0].click()}},_setUpAriaAttrs:function(){var e=this.refs.body.getElementsByClassName("errorMessage")[0];if(e){var t="error";e.getElementsByTagName("span")[0].setAttribute("id",t);for(var o=this.refs.body.getElementsByTagName("input"),n=0;n<o.length;++n)o[n].setAttribute("aria-invalid",!0),o[n].setAttribute("aria-describedby",t)}},_focusInput:function(){var e=this.refs.body.querySelectorAll("input:not([type=hidden])");!s.UA.mobile&&e[0]&&e[0].focus()},_renderRequestButtons:function(){var r=this,s=[];return this.props.forgotInfoJson.buttons?this.props.forgotInfoJson.buttons.forEach(function(e,t){var o="crisp-button";e.cancel&&(o+=" crisp-button-cancel");var n=null;"cancel"===e.handler?n=r.props.cancelForgotInfo:"submit"===e.handler?n=r._submitForgotInfo:"complete"===e.handler&&(n=r.props.completeForgotInfo),s.push(i.createElement("button",{type:"button",className:o,onClick:n,key:t},e.text))}):(s.push(i.createElement("button",{type:"button",className:"crisp-button",onClick:r._submitForgotInfo,key:"submit"},a.getRaw("signin_popover.submit"))),s.push(i.createElement("button",{type:"button",className:"crisp-button crisp-button-cancel",onClick:r.props.cancelForgotInfo,key:"cancel"},a.getRaw("signin_popover.cancel")))),i.createElement("div",{className:"button-group",ref:"buttons"},s)},_submitForgotInfo:function(){var n=this,t={},e=this.refs.body.getElementsByTagName("input");(e=Array.prototype.slice.call(e)).forEach(function(e){t[e.name]=e.value});var r=this.refs.buttons.getElementsByTagName("button");(r=Array.prototype.slice.call(r)).forEach(function(e){e.disabled=!0});var o=this.refs.body.getElementsByTagName("form")[0];s.io(o.action,{method:o.method,data:t,on:{success:function(e,t){r.forEach(function(e){e.disabled=!1});var o=JSON.parse(t.responseText);n.props.updateForgotInfo(o)},failure:function(e,t){YAHOO.widget.FlowDialog.ajaxFailure(t)}}})}})},"@VERSION@",{requires:["global-React"]});
YUI.add('lang/signin-_MiniSigninDialog', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['signin_popover.header'] = 'Sign in to IXL';
  IXL.Intl.addModule('signin-_MiniSigninDialog', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add('lang/signin-_CustomDomainHint', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['signin_popover.custom_domain.header'] = 'Looking for your school\'s IXL page?';
  text['signin_popover.custom_domain.domain_txt'] = 'Looking for {0}?';
  text['signin_popover.custom_domain.sign_in'] = 'Sign in here';
  IXL.Intl.addModule('signin-_CustomDomainHint', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add("signin-_CustomDomainHint",function(e){e.namespace("IXL");var n=require("ixl/external/react/react"),i=require("ixl/external/react/prop-types"),t=require("ixl/external/react/create-react-class"),a=require("ixl/util-commonjs/Intl").getModule("signin-_CustomDomainHint"),m={customDomains:i.arrayOf(i.shape({customDomainName:i.string,customDomainDisplayName:i.string})).isRequired};_CustomDomainHint=t({_renderSingleCustomDomain:function(){var e="/signin/"+this.props.customDomains[0].customDomainName;return n.createElement("div",null,n.createElement("span",{className:"customDomainTxt",dangerouslySetInnerHTML:{__html:a.getRaw("signin_popover.custom_domain.domain_txt",{0:this.props.customDomains[0].customDomainDisplayName.trim()})}}),n.createElement("a",{className:"arrow-link",href:e},n.createElement("span",{className:"arrow-link-text"},a.getRaw("signin_popover.custom_domain.sign_in"))))},_renderMultipleCustomDomain:function(){var e=this.props.customDomains.map(function(e){return n.createElement("li",null,n.createElement("a",{href:"/signin/"+e.customDomainName,dangerouslySetInnerHTML:{__html:e.customDomainDisplayName.trim()}}))});return n.createElement("div",null,n.createElement("div",{class:"lgSecHdr"},a.getRaw("signin_popover.custom_domain.header")),n.createElement("ul",null,e))},render:function(){var e=1===this.props.customDomains.length?this._renderSingleCustomDomain():this._renderMultipleCustomDomain();return n.createElement("div",{className:"sign-in-previous-custom-domains"},n.createElement("div",{id:"customDomainHint"},e,n.createElement("div",{className:"mini-sign-in-spacer"},n.createElement("div",{className:"mini-sign-in-icon-container"},n.createElement("div",{className:"mini-sign-in-icon-2"})))))}}),_CustomDomainHint.displayName="_CustomDomainHint",_CustomDomainHint.propTypes=m,e.namespace("IXL")._CustomDomainHint=_CustomDomainHint},"@VERSION@",{requires:[]});
YUI.add('lang/signin-_SigninExtraLinks', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['signin_popover.extra_links.new_to_ixl'] = 'New to IXL?';
  text['signin_popover.extra_links.join_now'] = 'Join now';
  text['signin_popover.extra_links.not_member'] = 'Not a member yet?';
  text['signin_popover.extra_links.try_questions'] = 'Try {numFreeQuestions} questions free';
  IXL.Intl.addModule('signin-_SigninExtraLinks', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add("signin-_SigninExtraLinks",function(e){var n=e.namespace("IXL").React.getReactInstance(),i=require("ixl/external/react/prop-types"),a=require("ixl/external/react/create-react-class"),r=require("ixl/util-commonjs/Intl").getModule("signin-_SigninExtraLinks"),s={closeDialog:i.func.isRequired,numFreeQuestions:i.number,isUnderLearningTab:i.bool},t={numFreeQuestions:10,isUnderLearningTab:!1},l=a({render:function(){var e=this.props.numFreeQuestions;return e<=0&&(e=t.numFreeQuestions),n.createElement("div",{className:"sign-in-non-member-extra-lks"},n.createElement("div",{className:"extra-lks-not-member-lk"},n.createElement("div",{className:"extra-lks-container"},n.createElement("strong",null,r.getRaw("signin_popover.extra_links.not_member")," "),n.createElement("a",{className:"arrow-link",href:"/membership/"},n.createElement("span",{className:"arrow-link-text"},r.getRaw("signin_popover.extra_links.join_now")))),n.createElement("div",{className:"mini-sign-in-spacer"},n.createElement("div",{className:"mini-sign-in-icon-container"},n.createElement("div",{className:"mini-sign-in-icon-2"})))),n.createElement("div",null,n.createElement("strong",null,r.getRaw("signin_popover.extra_links.new_to_ixl")," "),n.createElement("a",{className:"arrow-link sign-in-non-member-cancel-dialog-lk",id:"sign-in-non-member-cancel-dialog-lk",href:"/",onClick:this.props.isUnderLearningTab?this._closeMiniSigninDialog:void 0},n.createElement("span",{className:"arrow-link-text"},r.getRaw("signin_popover.extra_links.try_questions",{numFreeQuestions:e})))))},_closeMiniSigninDialog:function(e){e.preventDefault(),this.props.closeDialog()}});l.displayName="_SigninExtraLinks",l.propTypes=s,l.defaultProps=t,e.namespace("IXL")._SigninExtraLinks=l},"@VERSION@",{requires:["global-React"]});
YUI.add('lang/signin-_SigninForm', function(Y) {
  var IXL = Y.namespace('IXL');
  var text = {};
  text['signin_popover.login_form.forgotUsrLink'] = 'Forgot username?';
  text['signin_popover.login_form.password'] = 'Password';
  text['signin_popover.login_form.forgotPassLink'] = 'Forgot password?';
  text['signin_popover.login_form.invalid_input_error'] = 'Your username or password is incorrect';
  text['signin_popover.login_form.empty_input_error'] = 'Please enter a username and password';
  text['signin_popover.login_form.button_text'] = 'Sign in';
  text['signin_popover.login_form.username'] = 'Username';
  text['signin_popover.login_form.remember'] = 'Remember';
  IXL.Intl.addModule('signin-_SigninForm', text);
}, '@VERSION@', {'requires':['ixl_content_util_YLang', 'ixl_util-commonjs_YEscape', 'ixl_util-commonjs_Intl', 'util-Intl']});
YUI.add("signin-_SigninForm",function(t){var i=t.namespace("IXL").React.getReactInstance(),o=require("ixl/external/react/reactDom"),e=require("ixl/external/react/prop-types"),r=require("ixl/external/react/create-react-class"),n=require("ixl/util-commonjs/Intl").getModule("signin-_SigninForm"),s="noError",a="clientError",l="serverError",m={formUrl:e.string.isRequired,udef:e.string.isRequired,isLoginInvalid:e.bool.isRequired,openForgotInfoDialog:e.func.isRequired,setDialogJson:e.func.isRequired},g=r({getInitialState:function(){return{signinError:this.props.isLoginInvalid?l:s,submittingForm:!1}},componentWillReceiveProps:function(e){this.setState({signinError:e.isLoginInvalid?l:s,submittingForm:!1})},_clickForgotLink:function(e){e.preventDefault();var r=e.currentTarget,n=this;t.io(r.href,{method:"GET",on:{success:function(e,r){var i=JSON.parse(r.responseText);n.props.openForgotInfoDialog(i)},failure:function(e,r){YAHOO.widget.FlowDialog.ajaxFailure(r)}}})},_onSubmitForm:function(e){e.preventDefault(),this.setState({submittingForm:!0},this._submitForm)},_submitForm:function(){if(this._validateForm()){var e=o.findDOMNode(this),r={},i=e.querySelectorAll("input");Array.prototype.slice.call(i).forEach(function(e){e.name&&(r[e.name]=e.value)});var n=this;t.io(e.action,{data:r,method:"POST",on:{success:function(e,r){n.setState({submittingForm:!1});var i=JSON.parse(r.responseText);i.complete?YAHOO.ixl.topic.fireEvent("checkLoginStatus",i.redirectUrl):n.props.setDialogJson(i)},failure:function(e,r){YAHOO.widget.FlowDialog.ajaxFailure(r)}}})}else this.setState({submittingForm:!1})},_validateForm:function(){var e=!0,r=o.findDOMNode(this).getElementsByClassName("sign-in-form-textfield"),i=disallowBlank(r[0],"",!0),n=disallowBlank(r[1],"",!0);return(i||n)&&(i?r[0].focus():r[1].focus(),this.setState({signinError:a}),e=!1),e},_renderErrorMsgs:function(){return this.state.signinError===l?i.createElement("div",{id:"badUsernamePasswordError",className:"errorMessage badUsernamePasswordError"},n.getRaw("signin_popover.login_form.invalid_input_error")):this.state.signinError===a?i.createElement("div",{id:"noUsernamePasswordError",className:"errorMessage noUsernamePasswordError"},n.getRaw("signin_popover.login_form.empty_input_error")):void 0},_renderSigninInput:function(){var e=this.state.signinError!==s?"true":"",r=this.state.signinError===l?"badUsernamePasswordError":this.state.signinError===a?"noUsernamePasswordError":"";return i.createElement("div",{className:"sign-in-form-input"},i.createElement("div",{className:"sign-in-form-field-text"},i.createElement("label",{className:"sign-in-form-field-label",htmlFor:"username"},n.getRaw("signin_popover.login_form.username")),i.createElement("a",{id:"forgotUsrLink",className:"sign-in-form-forgot-field-link",href:"/forgot/username",onClick:this._clickForgotLink},n.getRaw("signin_popover.login_form.forgotUsrLink"))),i.createElement("input",{type:"text",name:"username",defaultValue:this.props.udef,id:"username",className:"sign-in-form-textfield",autoCorrect:"off",autoComplete:"off",autoCapitalize:"off","aria-invalid":e,"aria-describedby":r}),i.createElement("div",{className:"sign-in-form-field-text"},i.createElement("label",{className:"sign-in-form-field-label",htmlFor:"password"},n.getRaw("signin_popover.login_form.password")),i.createElement("a",{id:"forgotPassLink",className:"sign-in-form-forgot-field-link",href:"/forgot/password",onClick:this._clickForgotLink},n.getRaw("signin_popover.login_form.forgotPassLink"))),i.createElement("input",{type:"password",name:"password",className:"sign-in-form-textfield",id:"password",autoCorrect:"off",autoComplete:"off",autoCapitalize:"off","aria-invalid":e,"aria-describedby":r}))},_renderSigninSubmit:function(){return i.createElement("div",{className:"sign-in-form-submit"},i.createElement("button",{name:"signin",className:"sign-in-form-submit-button crisp-button",value:"true",type:"submit",disabled:this.state.submittingForm},n.getRaw("signin_popover.login_form.button_text")),i.createElement("label",{id:"label-remember-signin-popover",className:"sign-in-form-remember-label"},i.createElement("input",{type:"checkbox",name:"rememberUser",id:"rememberUser",className:"sign-in-form-remember-box"}),i.createElement("span",{className:"sign-in-form-remember-label-text"}," ",n.getRaw("signin_popover.login_form.remember"))))},render:function(){var e;return this.state.signinError==a?e=" client-signin-error":this.state.signinError==l&&(e=" server-signin-error"),i.createElement("form",{action:this.props.formUrl,className:"sign-in-form crisp-form mini-signin-form"+e,id:"loginForm",name:"loginForm",onSubmit:this._onSubmitForm},this._renderErrorMsgs(),this._renderSigninInput(),this._renderSigninSubmit())}});g.displayName="_SigninForm",g.propTypes=m,t.namespace("IXL")._SigninForm=g},"@VERSION@",{requires:["global-React"]});
YUI.add("signin-_MiniSigninDialog",function(e){var n=e.namespace("IXL"),s=n.React.getReactInstance(),i=require("ixl/external/react/prop-types"),o=require("ixl/external/react/create-react-class"),a=require("ixl/util-commonjs/Intl").getModule("signin-_MiniSigninDialog"),t={dialogClass:i.string.isRequired,dialogJson:i.object.isRequired,setDialogJson:i.func.isRequired,isUnderLearningTab:i.bool,openForgotInfoDialog:i.func.isRequired,closeDialog:i.func.isRequired},r=o({componentDidMount:function(){this._focusUsernameField()},componentDidUpdate:function(i){i.dialogJson!==this.props.dialogJson&&this._focusUsernameField()},_focusUsernameField:function(){if(!e.UA.mobile){this.props.dialogJson.invalidLogin;var i=document.getElementById("forgotUsrLink");i&&i.focus()}},render:function(){var i;return i=null!=this.props.dialogJson.previousCustomDomains&&0<this.props.dialogJson.previousCustomDomains.length?s.createElement(n._CustomDomainHint,{customDomains:this.props.dialogJson.previousCustomDomains}):s.createElement(n._SigninExtraLinks,{closeDialog:this.props.closeDialog,isUnderLearningTab:this.props.isUnderLearningTab,numFreeQuestions:this.props.dialogJson.numFreeQuestions}),s.createElement("div",{className:this.props.dialogClass},s.createElement("div",{className:"hd"},s.createElement("div",{className:"mini-sign-in-header"},s.createElement("div",{className:"mini-sign-in-spacer"},s.createElement("div",{className:"mini-sign-in-icon-container"},s.createElement("div",{className:"mini-sign-in-icon-1"}))),s.createElement("div",{id:"bodyHeaderForLoginDialog",className:"mini-sign-in-header-text"},a.getRaw("signin_popover.header")),s.createElement("div",{className:"mini-sign-in-spacer"}))),s.createElement("div",{className:"bd",ref:"body"},s.createElement("div",{className:"sign-in-container sign-in-featured csd-"+this.props.dialogJson.edition+" sign-in-popover-mini"},s.createElement("div",{className:"sign-in-member sign-in-box sign-in-divider"},s.createElement(n._SigninForm,{formUrl:this.props.dialogJson.formUrl,udef:this.props.dialogJson.udef,isLoginInvalid:this.props.dialogJson.invalidLogin,openForgotInfoDialog:this.props.openForgotInfoDialog,setDialogJson:this.props.setDialogJson}),i))))}});r.displayName="_MiniSigninDialog",r.propTypes=t,e.namespace("IXL")._MiniSigninDialog=r},"@VERSION@",{requires:["global-React","signin-_CustomDomainHint","signin-_SigninExtraLinks","signin-_SigninForm"]});
YUI.add("signin-_PracticeLimitDialog",function(s){var e=s.namespace("IXL"),t=e.React.getReactInstance(),i=require("ixl/external/react/prop-types"),n=require("ixl/external/react/create-react-class");e._PracticeLimitDialog=n({displayName:"PracticeLimitDialog",propTypes:{dialogJson:i.object.isRequired,setDialogJson:i.func.isRequired},render:function(){return t.createElement("div",{className:"practice-limit-dialog"},t.createElement("div",{id:"loginDialogHeader",className:"hd",dangerouslySetInnerHTML:{__html:this.props.dialogJson.header}}),t.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.dialogJson.body},className:"bd",ref:"body"}))},componentDidMount:function(){this._setupDialog()},componentDidUpdate:function(e){e.dialogJson!==this.props.dialogJson&&this._setupDialog()},componentWillUnmount:function(){this._removeEventListeners()},_setupDialog:function(){this._setupEventListeners();var e=document.getElementById("dlusername");!s.UA.mobile&&e&&e.focus()},_setupEventListeners:function(){this.refs.body.getElementsByTagName("form")[0].addEventListener("submit",this._onSubmitForm)},_removeEventListeners:function(){this.refs.body.getElementsByTagName("form")[0].removeEventListener("submit",this._onSubmitForm)},_onSubmitForm:function(e){e.preventDefault();var t=this.refs.body.getElementsByTagName("form")[0],i={},n=t.querySelectorAll("input, select, textarea");Array.prototype.slice.call(n).forEach(function(e){("radio"!==e.type||e.checked)&&e.name&&(i[e.name]=e.value)});var o=this.refs.body.getElementsByClassName("crisp-button")[1];o.disabled=!0;var a=this;s.io(t.action,{data:i,method:"POST",on:{success:function(e,t){o.disabled=!1;var i=JSON.parse(t.responseText);i.complete?YAHOO.ixl.topic.fireEvent("checkLoginStatus",i.redirectUrl):a.props.setDialogJson(i)},failure:function(e,t){YAHOO.widget.FlowDialog.ajaxFailure(t)}}})}})},"@VERSION@",{requires:["global-React"]});
YUI.add("signin-_SignInDialog",function(o){var e=o.namespace("IXL"),t=e.React.getReactInstance(),n=e.React.getReactDOM(),i=require("ixl/external/react/prop-types"),s=require("ixl/external/react/create-react-class");e._SignInDialog=s({displayName:"SignInDialog",propTypes:{dialogClass:i.string.isRequired,dialogJson:i.object.isRequired,setDialogJson:i.func.isRequired,openForgotInfoDialog:i.func.isRequired,closeDialog:i.func.isRequired,isUnderLearningTab:i.bool},render:function(){return t.createElement("div",{className:this.props.dialogClass},t.createElement("div",{id:"bodyHeaderForLoginDialog",className:"hd",dangerouslySetInnerHTML:{__html:this.props.dialogJson.header}}),t.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.dialogJson.body},className:"bd",ref:"body"}))},componentDidMount:function(){this._setupDialog()},componentDidUpdate:function(e){e.dialogJson!==this.props.dialogJson&&this._setupDialog()},componentWillUnmount:function(){this._removeEventListeners()},_setupDialog:function(){if(this._setupEventListeners(),!o.UA.mobile){this.props.dialogJson.invalidLogin;var e=document.getElementById("forgotUsrLink");e&&e.focus()}},_dangerouslyAddEventListener:function(e,t){(e=Array.prototype.slice.call(e))&&0<e.length&&e.forEach(function(e){t(e)})},_setupEventListeners:function(){var t=this,e=n.findDOMNode(this),i=e.getElementsByClassName("sign-in-form-forgot-field-link");this._dangerouslyAddEventListener(i,function(e){e.addEventListener("click",t._clickForgotLink)});var s=e.getElementsByClassName("sign-in-as-guest-button");this._dangerouslyAddEventListener(s,function(e){e.addEventListener("click",t._closeThisPopover)}),this.props.isUnderLearningTab&&o.one(e).delegate("click",function(e){e.preventDefault(),t._closeThisPopover()},".sign-in-non-member-cancel-dialog-lk"),this.refs.body.getElementsByTagName("form")[0].addEventListener("submit",this._onSubmitForm)},_removeEventListeners:function(){var t=this,e=this.refs.body.getElementsByClassName("sign-in-form-forgot-field-link");(e=Array.prototype.slice.call(e)).forEach(function(e){e.removeEventListener("click",t._clickForgotLink)});var i=this.refs.body.getElementsByClassName("sign-in-as-guest-button");(i=Array.prototype.slice.call(i))&&0<i.length&&i.forEach(function(e){e.removeEventListener("click",t._closeThisPopover)}),this.refs.body.getElementsByTagName("form")[0].removeEventListener("submit",this._onSubmitForm)},_clickForgotLink:function(e){e.preventDefault();var t=e.currentTarget,n=this;o.io(t.href,{method:"GET",on:{success:function(e,t){var i=JSON.parse(t.responseText),s=n.refs.body.getElementsByClassName("sign-in-form-textfield")[0].value;n.props.openForgotInfoDialog(i,{username:s})},failure:function(e,t){YAHOO.widget.FlowDialog.ajaxFailure(t)}}})},_closeThisPopover:function(){this.props.closeDialog()},_onSubmitForm:function(e){e.preventDefault(),this._submitForm()},_submitForm:function(){if(this._validateForm()){var e=this.refs.body.getElementsByTagName("form")[0],t={},i=e.querySelectorAll("input, select, textarea");Array.prototype.slice.call(i).forEach(function(e){("radio"!==e.type||e.checked)&&e.name&&(t[e.name]=e.value)});var s=this.refs.body.getElementsByClassName("sign-in-form-submit-button")[0];s.disabled=!0;var n=this;o.io(e.action,{data:t,method:"POST",on:{success:function(e,t){s.disabled=!1;var i=JSON.parse(t.responseText);i.complete?YAHOO.ixl.topic.fireEvent("checkLoginStatus",i.redirectUrl):n.props.setDialogJson(i)},failure:function(e,t){YAHOO.widget.FlowDialog.ajaxFailure(t)}}})}},_validateForm:function(){var e=this.refs.body.getElementsByClassName("sign-in-form-textfield"),t=disallowBlank(e[0],"",!0),i=disallowBlank(e[1],"",!0);if(t||i){var s=this.refs.body.getElementsByClassName("sign-in-form mini-signin-form")[0];s&&s.classList.add("client-signin-error"),this.refs.body.getElementsByClassName("noUsernamePasswordError")[0].style.display="block";var n=this.refs.body.getElementsByClassName("badUsernamePasswordError")[0];return n&&(n.style.display="none"),t?e[0].focus():e[1].focus(),this._setAriaAttrs(e[0]),this._setAriaAttrs(e[1]),!1}return!0},_setAriaAttrs:function(e){var t=disallowBlank(e,"",!0);e.setAttribute("aria-invalid",!!t||""),e.setAttribute("aria-describedby",t?"errorMessage":"")}})},"@VERSION@",{requires:["global-React"]});
YUI.add("signin-_SubaccountLogin",function(r){r.namespace("IXL");var i=require("ixl/external/react/react"),e=require("ixl/external/react/prop-types"),t=require("ixl/external/react/create-react-class"),c=require("ixl/util-commonjs/FeatureToggle"),a="/signin/subaccount",o="noSecretWordError",s="wrongSecretWordError",n={isSwitchToParentDialog:e.bool.isRequired,selectedUserLogin:e.string.isRequired,encryptedParentLogin:e.string.isRequired,isLoginInvalid:e.bool.isRequired,subaccounts:e.array.isRequired,hiddenFields:e.shape({familyEncryptedLogin:e.string,rememberUser:e.bool,onlyPickingSubUser:e.oneOfType([e.bool,e.string]),parentRedirect:e.string,renderOption:e.string}).isRequired,dialogText:e.object.isRequired,setCloseButtonOverride:e.func.isRequired,setDialogJson:e.func.isRequired,openForgotInfoDialog:e.func.isRequired},u=t({getInitialState:function(){var e=this.props.isLoginInvalid,t=this.props.isSwitchToParentDialog?this.getSubaccountByEncrypedId(this.props.subaccounts,this.props.encryptedParentLogin):this.getSubaccountByEncrypedId(this.props.subaccounts,this.props.selectedUserLogin),r=!!t&&t.isPasswordRequired;return{selectedUserLogin:r?t.encryptedLogin:null,showSecretWordPrompt:r,secretWord:"",secretWordError:e?s:null,submittingForm:!1}},componentDidMount:function(){if(this.state.showSecretWordPrompt?this.secretWordInput&&!r.UA.mobile&&this.secretWordInput.focus():(this._enableKeylistener(),this.subaccountRadioInput&&this.subaccountRadioInput.focus()),this.props.isSwitchToParentDialog){this.props.setCloseButtonOverride(null);var e=YAHOO.ixl.topic,t="checkLoginStatus";e.unsubscribeAll(t),e.subscribe(t,function(e){null!==e?window.location=e:window.location.reload()})}},componentWillReceiveProps:function(e){var t=e.selectedUserLogin;if(""!==t&&t!==this.props.selectedUserLogin){var r=this.getSubaccountByEncrypedId(e.subaccounts,t).isPasswordRequired,o=r&&e.isLoginInvalid;this.setState({selectedUserLogin:t,showSecretWordPrompt:r,secretWordError:o?s:null})}},_onSubmitForm:function(e){e.preventDefault(),this.setState({submittingForm:!0},this._submitForm)},_createSelectUserHandler:function(t,r){var o=this;return function(e){e.preventDefault(),r?o.setState({selectedUserLogin:t,showSecretWordPrompt:!0,secretWordError:null},o._setupSecretWordPrompt):o.setState({selectedUserLogin:t,submittingForm:!0},o._submitForm)}},_clickForgotLink:function(e){e.preventDefault();var t=e.currentTarget,o=this;r.io(t.href,{method:"GET",on:{success:function(e,t){var r=JSON.parse(t.responseText);o.props.openForgotInfoDialog(r)},failure:function(e,t){YAHOO.widget.FlowDialog.ajaxFailure(t)}}})},_submitForm:function(){if(this._validateForm()){var o=this,e=Object.assign({},{subAccountEncryptedLogin:this.state.selectedUserLogin,secretWord:this.state.secretWord},this.props.hiddenFields);r.io(a,{data:e,method:"POST",on:{success:function(e,t){var r=JSON.parse(t.responseText);r.complete?YAHOO.ixl.topic.fireEvent("checkLoginStatus",r.redirectUrl):(o.props.setDialogJson(r),o.setState({submittingForm:!1}))},failure:function(e,t){YAHOO.widget.FlowDialog.ajaxFailure(t)}}})}else this.setState({submittingForm:!1})},_validateForm:function(){var e=!0,t=this.getSubaccountByEncrypedId(this.props.subaccounts,this.state.selectedUserLogin);return t?t.isPasswordRequired&&""===this.state.secretWord&&(this.setState({secretWordError:o}),e=!1):e=!1,e},_setupSecretWordPrompt:function(){this.props.setCloseButtonOverride(this._cancelSecretWord),this._disableKeylistener(),this.secretWordInput&&!r.UA.mobile&&this.secretWordInput.focus()},_cancelSecretWord:function(){var e=this;this.setState({selectedUserLogin:null,secretWord:"",showSecretWordPrompt:!1},function(){e.props.setCloseButtonOverride(null),e._enableKeylistener(),this.subaccountRadioInput&&this.subaccountRadioInput.focus()})},_enableKeylistener:function(){document.addEventListener("keydown",this._onKeyDown)},_disableKeylistener:function(){document.removeEventListener("keydown",this._onKeyDown)},_onKeyDown:function(e){["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&e.preventDefault()},_onSecretWordInputChange:function(e){this.setState({secretWord:e.currentTarget.value})},getSubaccountByEncrypedId:function(e,t){for(var r=0;r<e.length;r++){var o=e[r];if(o.encryptedLogin===t)return o}return null},getSubaccounts:function(){var e=this.props.subaccounts,t=this.getSubaccountByEncrypedId(e,this.state.selectedUserLogin);return t&&this.state.showSecretWordPrompt?[t]:e},setSecrectWordInputRef:function(e){this.secretWordInput=e},setSubaccountRadioInputRef:function(e){this.subaccountRadioInput=e},renderSubaccount:function(e,t){var r=e.encryptedLogin===this.state.selectedUserLogin,o=e.isPasswordRequired,s="label-subAccountRadio"+(r?" checked":"")+(o?" passRequired":""),n=this._createSelectUserHandler(e.encryptedLogin,o);return i.createElement("label",{key:e.userName,className:s,onClick:n,onKeyDown:function(e){"Enter"===e.key&&n(e)}},i.createElement("input",{className:"input-subAccountRadio",type:"radio",name:"subAccountEncryptedLogin",value:e.encryptedLogin,readOnly:!0,checked:r,role:"radio",ref:0===t?this.setSubaccountRadioInputRef:void 0}),i.createElement("div",{className:"subLoginImg"},i.createElement("img",{src:e.avatar,alt:""})),i.createElement("div",{className:"squished-name font-"+e.userNameFontSize,dangerouslySetInnerHTML:{__html:e.userName}}))},renderSecretWordPrompt:function(){var e,t,r=this.props.dialogText,o=this.state.secretWordError,s="/forgot/secretword?targetEncryptedLogin="+this.state.selectedUserLogin,n="secretWordError";return o&&(e="has-err-msg",t=i.createElement("div",{id:n,className:"errorMessage "+o},r[o])),i.createElement("div",{id:"loginButtons",className:e},i.createElement("label",{id:"secret-word-label",className:"label-enter-secret-word"},r.label),i.createElement("div",{className:"dv-enter-secret-word-input"},i.createElement("input",{className:"input-secret-word",name:"secretWord",type:"password",value:this.state.secretWord,onChange:this._onSecretWordInputChange,ref:this.setSecrectWordInputRef,"aria-invalid":void 0!==t,"aria-describedby":void 0!==t?n:"","aria-labelledby":"secret-word-label"}),i.createElement("button",{type:"submit",className:"btn-submit crisp-button",name:"loginSubmit",value:!0,disabled:this.state.submittingForm},r.button)),t,i.createElement("div",{id:"forgotSecretWordDv"},i.createElement("a",{id:"forgotSecretWordLink",className:"urlSelection",href:s,onClick:this._clickForgotLink},r.forgotText)))},render:function(){var e=this.props.isSwitchToParentDialog,t=this.state.showSecretWordPrompt,r=this.props.dialogText,o="subaccount-login-dialog"+(t?" hide-sub-login-hdr":""),s=null;e?s=i.createElement("div",{id:"parentAccountOnlyInstruction"},r.subheader):t||(s=i.createElement("div",{id:"subLoginHeader"},i.createElement("h3",null,r.subheader)));var n=c.isFeatureEnabled("ADA_COMPLIANCE_BATCH_ONE")?r.accessibleHeader:r.header;return i.createElement("div",{className:"subaccount-login"},i.createElement("div",{className:o,ref:"dialog"},i.createElement("div",{className:"hd subaccount-login-header",ref:"header"},r.header),i.createElement("div",{id:"bodyHeaderForLoginDialog"},n),i.createElement("div",{className:"bd",ref:"body"},i.createElement("form",{action:a,className:e?"switchManage":"",id:"subaccount",name:"subaccount",onSubmit:this._onSubmitForm},s,i.createElement("fieldset",{id:"subAccountSelection",role:"radiogroup"},this.getSubaccounts().map(this.renderSubaccount)),t?this.renderSecretWordPrompt():null))))}});u.displayName="_SubaccountLogin",u.propTypes=n,r.namespace("IXL")._SubaccountLogin=u},"@VERSION@",{requires:[]});
YUI.add("signin-LoginDialog",function(o){var i=o.namespace("IXL"),s=i.React.getReactInstance(),t=i.React.getReactDOM(),e=(require("ixl/external/react/prop-types"),require("ixl/external/react/create-react-class")),l=require("ixl/product-components/IxlModal"),n=e({displayName:"LoginDialog",getInitialState:function(){return{dialogJson:null,forgotInfoJson:null,open:!1,oldDialog:null,closeButtonOverride:null,forgotInfoUsername:null,isFromPracticeHelper:!1,isUnderLearningTab:!1}},render:function(){var o,e=null,t=this.state.dialogJson;t&&"subaccountLogin"===t.jspSource?e=s.createElement(i._SubaccountLogin,{isSwitchToParentDialog:t.isSwitchToParentDialog,selectedUserLogin:t.selectedUserLogin,encryptedParentLogin:t.encryptedParentLogin,isLoginInvalid:t.isLoginInvalid,subaccounts:t.subaccounts,hiddenFields:t.hiddenFields,dialogText:t.dialogText,setCloseButtonOverride:this.setCloseButtonOverride,setDialogJson:this.setDialogJson,openForgotInfoDialog:this.openForgotInfoDialog}):t&&"upsellSignin"===t.jspSource?e=s.createElement(i._SignInDialog,{dialogClass:"upsell-signin",dialogJson:t,setDialogJson:this.setDialogJson,openForgotInfoDialog:this.openForgotInfoDialog,closeDialog:this.closeButtonClicked}):t&&"miniSignin"===t.jspSource?e=s.createElement(i._MiniSigninDialog,{dialogClass:"mini-signin-dialog",dialogJson:t,setDialogJson:this.setDialogJson,openForgotInfoDialog:this.openForgotInfoDialog,closeDialog:this.closeButtonClicked,isUnderLearningTab:this.state.isUnderLearningTab}):t&&"normalSignin"===t.jspSource?e=s.createElement(i._SignInDialog,{dialogClass:"normal-signin-dialog",dialogJson:t,setDialogJson:this.setDialogJson,openForgotInfoDialog:this.openForgotInfoDialog,closeDialog:this.closeButtonClicked}):t&&"signedOutPracticeLimit"===t.dialogType&&(e=s.createElement(i._PracticeLimitDialog,{dialogJson:this.state.dialogJson,setDialogJson:this.setDialogJson})),this.state.forgotInfoJson&&(o=s.createElement(i._ForgotInfoDialog,{forgotInfoJson:this.state.forgotInfoJson,updateForgotInfo:this.updateForgotInfoDialog,cancelForgotInfo:this.closeForgotInfoDialog,completeForgotInfo:this.closeForgotInfoDialog,initialUsername:this.state.forgotInfoUsername}));var n="login-dialog";return this.state.forgotInfoJson&&(n+=" hide-body"),this.state.isFromPracticeHelper&&(n+=" is-from-practice"),s.createElement(l,{open:this.state.open,closeCallback:this.closeButtonClicked,extraClassName:"login-modal",ref:"modal",role:"dialog",ariaLabelledBy:"bodyHeaderForLoginDialog"},s.createElement("div",{className:n},e,o))},closeButtonClicked:function(){this.state.closeButtonOverride?this.state.closeButtonOverride():this._closeThisPopover()},_closeThisPopover:function(){this.setState({open:!1,dialogJson:null,forgotInfoJson:null,isFromPracticeHelper:!1},function(){this.focusToLogo(),window.removeEventListener("beforeunload",this.focusToLogo)}),this.state.oldDialog.cancel()},setCloseButtonOverride:function(o){this.setState({closeButtonOverride:o})},setDialogJson:function(o){this.setState({dialogJson:o})},openForgotInfoDialog:function(o,e){e||(e={}),this.oldCloseButtonOverride=this.state.closeButtonOverride,this.setState({forgotInfoJson:o,closeButtonOverride:this.closeForgotInfoDialog,forgotInfoUsername:e.username})},updateForgotInfoDialog:function(o){this.setState({forgotInfoJson:o})},closeForgotInfoDialog:function(){this.setState({forgotInfoJson:null,closeButtonOverride:this.oldCloseButtonOverride})},setOldLoginDialog:function(o){this.setState({oldDialog:o})},openLoginDialog:function(o,e,t){this.setState({dialogJson:o,isFromPracticeHelper:e,isUnderLearningTab:t,open:!0},function(){window.addEventListener("beforeunload",this.focusToLogo)})},resizePopover:function(){this.refs.modal.forceResizePopover()},focusToLogo:function(){document.getElementById("hd-logo").focus()},componentWillUnmount:function(){window.removeEventListener("beforeunload",this.focusToLogo)}}),a=function(){var o=document.createElement("div");document.body.insertBefore(o,document.body.firstChild);var e=s.createElement(n,{});return t.render(e,o)}();o.namespace("IXL").loginDialog={setOldLoginDialog:function(o){a.setOldLoginDialog(o)},openLoginDialog:function(o,e,t){a.openLoginDialog(o,e,t)}}},"@VERSION@",{requires:["global-React","ixl_product-components_IxlModal","signin-_SubaccountLogin","signin-_SignInDialog","signin-_ForgotInfoDialog","signin-_PracticeLimitDialog","signin-_MiniSigninDialog"]});
