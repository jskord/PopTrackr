YUI.add("q-PlainText",function(t){var e=t.namespace("IXL"),n=require("ixl/content/text/Paragraph"),u=require("ixl/content/util/audio/generate-audio-info"),a=require("ixl/content/util/audio/TEXT_REGEX"),i=a.REGEX_WORDISH,o=a.REGEX_PRONOUNCEABLE,l=require("ixl/content/util/request-css-module-for-page"),r=require("ixl/content/util/audio/AudioSystemNumberConstants"),s=e.React.getReactInstance(),x=(e.React.getReactDOM(),t.Node),d=/[\uD835\u21d0-\u21d4\u2208-\u220c\u2220-\u222a\u2282-\u2289\u2308-\u230b\u27e6-\u27e9\u27f5-\u27fc\ue000-\ue007\u028F\u0305\u035D\u035E\u03F4\u2026\u20D6\u20D7\u2102\u2115\u211A\u211D\u2124\u2190\u2192\u2194\u21A6\u2205\u2213\u2216\u2218\u221A\u223C\u2245\u2247\u225F\u22C5\u25B3\u27C2\u2A00\u00a1\u00bf]/;e.PlainText=t.Base.create("plainText",e.Component,[],{initializer:function(t){this.text=t.text},getSVGText:function(){return this.get("text")},render:function(){var t=this._parentNode,e=this.get("text");if(e&&0<e.length){d.test(e)&&l("webfont","webfont-css-verdana");var n=e.indexOf(" ");if(-1!==n){var u=e.lastIndexOf(" "),a=e.substring(0,n);if(0<a.length){var i=x.create('<span class="txt"/>');i.set("text",a),t.appendChild(i)}var o=x.create('<span class="txt"/>');o.set("text",e.substring(n,u+1)),t.appendChild(o);var r=e.substring(u+1);if(0<r.length){var s=x.create('<span class="txt"/>');s.set("text",r),t.appendChild(s)}}else{var c=x.create('<span class="txt"/>');c.set("text",e),t.appendChild(c)}}},getNumChildComponents:function(){return 0},getChildComponent:function(t){throw new Error("PlainText has no child components.")},setChildComponent:function(t,e){throw new Error("PlainText has no child components.")},getAudioText:function(t,e){var n=this.get("text"),u=this.get("context").audioSystemNumber===r.QG3AudioSolution||void 0!==e&&e?o:i;return n.match(u)?(n&&(n=n.replace(/"/g," ")),n):""},toUText:function(){return{semantics:{PlainText:1},text:this.get("text")}},toReact:function(){return s.createElement(n,{uText:this.toUText(),context:this.get("context"),clickContentToPlay:!0,audioInfo:u.fromYUIObject(this)})},hasReactAudio:!0})},"@VERSION@",{requires:["base","node","array-extras","global-React","q-Component","ixl_content_text_Paragraph","ixl_content_util_request-css-module-for-page"]});
YUI.add("q-Rand",function(a){var n=a.namespace("IXL"),e=require("ixl/content/util/Rand");n.Rand=e},"@VERSION@",{requires:["base","node","array-extras","ixl_content_util_Rand"]});
YUI.add("q-ContextHelper",function(l){var C=l.namespace("IXL"),p=(l.Node,l.Lang,l.Array,require("ixl/content/util/YUA"));function n(e,t){return l.Array.find(e,function(e){return e.id===t})}C.ObjectUtils;C.ContextHelper=l.Base.create("contextHelper",C.Component,[],{initializer:function(e){if(this.get("needPlatformization")&&l.Lang.isUndefined(this.get("platformizer")))throw new Error("Model not platformized");var t=this.createContext(e);C.ContextAware.bindContext(t),this.chooseHues(t),C.ColorUtils.processColorSettings(t)},destructor:function(){C.Guessable.destroyStamp(this.__origCfg__.__qStamp__),C.SubmitStabilizer.destroyStamp(this.__origCfg__.__qStamp__),C.ContextAware.destroyContext(this.get("context")),this._attribution&&this._attribution.destroy()},draw:function(e){this.drawAsync(e,function(){})},nContainer:null,drawAsync:function(e,t){var n=this.get("content"),r=this.get("context");r&&r.needsWebfont&&l.use("webfont-css-verdana");var o=l.Node.create("<div/>");this.nContainer=o,r&&r.subject&&("LANGUAGE_ARTS"===r.subject.name?o.addClass(C.ContextHelper.LANGUAGE_ART_CSSCLS):"MATH"===r.subject.name?o.addClass(C.ContextHelper.MATH_CSSCLS):r.subject.name&&o.addClass(C.ContextHelper.subjectNameToCssCls(r.subject.name))),r&&r.gradeLevel&&r.gradeLevel<="D"&&(o.addClass(C.ContextHelper.LOWER_AUDIO_GRADE_CSSCLS),r.gradeLevel<="C"&&o.addClass(C.ContextHelper.LOWER_GRADE_CSSCLS)),p.iphone&&p.iosapp&&o.addClass(C.ContextHelper.IPHONE_APP_CSSCLS);var a,i,s,d=this,u=this.get("citations");function c(){d._attribution=function(e,t){if(l.UA.mobileapp&&0<t.length&&C.QMAttribution){var n=e.appendChild('<div class="attribution_aggregate_container" />'),r=t.map(function(e){return e.get("attribution")}),o=C.Component.newInstance(t[0],C.QMAttribution,{objectType:"QMAttribution",attribution:r,src:"",nativeWidth:0,nativeHeight:0,showAttributionIcon:!0,responsive:!0,excludeTooltipArrow:!0});return o._parentNode=n,o.render(),setTimeout(function(){n.remove(!1),e.appendChild(n)},0),o}}(o,u),e.append(o),t()}i=o,s=c,(a=n).render?(a._parentNode=i,a.render()):i.append(a),s()},createContext:function(e){var t=l.Array.map(e.palettes,function(e){return l.mix(new C.Palette,e,!0)});return{seed:e.jsSeed,originalSeedString:e.seed,palettes:t,subject:e.subject,isInteractive:e.isInteractive,_section:e._section.name,findPalette:l.cached(l.bind(n,e,t)),gradeLevel:e.gradeLevel.name,audioPolicy:e.audioPolicy,audioSystemNumber:e.audioSystemNumber,multipartInfo:e.multipartInfo,needsWebfont:e.needsWebfont,generatorCode:e.generatorCode,timestamp:e.timestamp,autoFocusVersion:e.autoFocusVersion,rand:function(e){return C.ContextHelper.getRandGen(e,this.seed)},countryCode:e.countryCode,languageCode:e.languageCode,__qStamp__:e.__qStamp__}},chooseHues:function(n){var e=n.palettes,t=new C.Rand(n.seed),r={};l.Array.each(e,function(e){r[e.id]=e.idIsStable?new C.Rand(e.id):t});var o=C.ColorSetting.findColorDirectiveInstances(n);l.Array.each(o,function(e){var t=n.findPalette(e.paletteId);null!==t&&(t.size=Math.max(t.size,e.index+1))}),l.Array.each(e,function(e){for(;;){e.baseHue=r[e.id].random(),e.processAvoidance();break}})}},{getRandGen:function(e,t){var n;n="string"==typeof e?e:e instanceof C.GC?e.get("id"):C.ContextHelper.hashString(e);var r=t+C.ContextHelper.hashCodeString(n);return new C.Rand(r)},hashString:function(e){var t=C.ObjectUtils.find(e,function(e){return e.text||e.numString||e.name});if(0===t.length)throw new Error("We only support seeds for objects with at least 1 plain text for now.");return l.Array.reduce(t,"",function(e,t){return e+(t.text||t.numString||t.name)})},hashCodeString:function(e){var t=0;if(!e||0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t},subjectNameToCssCls:function(e){return"bumo-sec-"+e.replace("_","-").toLowerCase()},LANGUAGE_ART_CSSCLS:"ela",MATH_CSSCLS:"math",LOWER_GRADE_CSSCLS:"lower-grade",LOWER_AUDIO_GRADE_CSSCLS:"lower-audio-grade",IPHONE_APP_CSSCLS:"iphone-app"})},"@VERSION@",{requires:["base","node","array-extras","q-ColorSetting","q-ColorUtils","q-GC","q-ColorDirective","q-Component","q-ObjectUtils","q-PlainText","q-Rand","q-SubmitStabilizer"]});
YUI.add("q-DisplayAnswer",function(e){var n=e.namespace("IXL"),t=n.React.getReactInstance(),r=require("ixl/content/util/NoPropDiv");n.DisplayAnswer=n.ComponentSimple.create("displayAnswer",{removeIndentationOnSmallScreens:function(){var e=this.get("content");if("function"==typeof e.removeIndentationOnSmallScreens)return e.removeIndentationOnSmallScreens()},toReact:function(){return t.createElement(r,null,this.get("content").toReact())},render:function(){var e=this.get("content");e._parentNode=this._parentNode,e.render()}})},"@VERSION@",{requires:["base","node","array-extras","q-ComponentSimple"]});
YUI.add("q-ShapeWithPoints",function(t){t.namespace("IXL").ShapeWithPoints=function(t){this.objectType="ixl.qgen.gc.math.graphing.GCGraphShapeOrCurve$ShapeWithPoints",this.answer=t.answer,this.controlPoints=t.controlPoints}},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-GraphingObject",function(e){var n=e.namespace("IXL"),r=e.Array;n.GraphingObject=e.Base.create("graphingObject",n.GC,[e.EventTarget],{graphingBase:null,attachToGraphingBase:function(e,n){throw new Error("attachToGraphingBase() was not implemented")},handleDownUp:function(e,n){throw new Error("handleDownUp() was not implemented")},handleCursorMove:function(e){throw new Error("handleCursorMove() was not implemented")},handleOnOffGrid:function(e){throw new Error("handleOnOffGrid() was not implemented")},determineCursorPos:function(e){throw new Error("determineCursorPos() was not implemented")},attachEvents:function(e){e.after("coordinateChange",function(e){this.handleCursorMove(e)},this),e.after("coordinateDown",function(e){this.handleDownUp(e,!0)},this),e.after("coordinateUp",function(e){this.handleDownUp(e,!1)},this),e.after("onGrid",function(){this.handleOnOffGrid(!1)},this),e.after("offGrid",function(){this.handleOnOffGrid(!0)},this)},toggleActiveStyles:function(e){if(this._shapeCanvas){var n=this._shapeCanvas.get("boundingBox");e?(n.addClass("zIndexHigh"),n.removeClass("zIndexLow"),n.removeClass("faded")):(n.addClass("zIndexLow"),n.removeClass("zIndexHigh"),this.graphingBase._fadeInactiveCurves&&n.addClass("faded"))}},_getAllVisiblePoints:function(n){n||(n=!1);var t=[];return r.each(this.pointGCs,function(e){e._pointRenderer.renderModel.visible?t.push(e.point):n&&t.push(null)}),t},offsetShapeOrCurve:function(e){this._shapeOffset=e},hasSameShapeOrCurveAs:function(e){return!1},hasSameAnswerToShowAs:function(e){return!1},getSetPoints:function(){var n=[];return r.each(this.pointGCs,function(e){e.isSet&&n.push(e.point)}),n},disableAutoRegisterForGCNavigation:function(){return!0}})},"@VERSION@",{requires:["base","node","array-extras","q-GC","q-ShapeWithPoints"]});
YUI.add("q-Base2D",function(t){var e=t.namespace("IXL"),n=require("ixl/content/util/math/geo/Intersect"),r=n.rectangleAndPath,o=n.rectangleOverlapPolygon;function s(){s.superclass.constructor.call(this)}t.extend(s,Object,{applyTransform:function(t){throw new Error(this+" does not implement applyTransform()")},getBoundingBox:function(){throw new Error(this+" does not implement getBoundingBox()")},getPathAsPoints:function(t){throw new Error(this+" does not implement getPathAsPoints()")},testIntersectionPrep:function(t,e){var n=this.getPathAsPoints(8);return r(t,n)?n:null},testIntersection:function(t,e){return r(t,e)},testOverlapPrep:function(t,e){var n=this.getPathAsPoints(8);return n.length<2?null:o(t,n)?n:null},testOverlap:function(t,e){return o(t,e)},getRendererClassName:function(){return this.objectType.substring(0,this.objectType.length-2)+"Renderer"}}),e.Base2D=s},"@VERSION@",{requires:["base","node","array-extras","ixl_content_util_math_geo_Intersect"]});
YUI.add("q-Point2D",function(t){var i=t.namespace("IXL"),n=require("ixl/content/util/math/geo/Intersect"),s=require("ixl/content/util/math/geo/GeometryUtils"),o=n.circleRectangleAnyOverlap,r={};i.Point2D=function(){i.Point2D.superclass.constructor.call(this),this.objectType="ixl.qgen.util.math.geo._2D.Point2D"},t.extend(i.Point2D,i.Base2D,{x:0,y:0,applyTransform:function(t){t.transformPoint(this)},getBoundingBox:function(){return{x:this.x,y:this.y,width:0,height:0}},getPathAsPoints:function(t){for(var n=6*Math.PI/(2*t),e=[],i=2*Math.PI/n,o=0;o<=2*Math.PI;o+=i){var r=s.getPointOnCircle(this,3,o);e.push(r)}return e},testIntersectionPrep:function(t,n){var e=n.point;return e&&e.x===this.x&&e.y===this.y?null:o(t,this.x,this.y,3)?r:null},testIntersection:function(t,n){return o(t,this.x,this.y,3)},copy:function(){return i.Point2D.create(this.x,this.y)},getNumChildComponents:function(){return 0},getChildComponent:function(t){throw new Error("Point2D has no child components.")},setChildComponent:function(t,n){throw new Error("Point2D has no child components.")},toString:function(){return"("+this.x+", "+this.y+")"},equals:function(t){return this.x===t.x&&this.y===t.y}},{create:function(t,n){var e=new i.Point2D;return e.x=t,e.y=n,e},createFromPoint:function(t){var n=new i.Point2D;return n.x=t.x,n.y=t.y,n}})},"@VERSION@",{requires:["base","node","array-extras","q-Base2D","ixl_content_util_math_geo_Intersect","ixl_content_util_math_geo_GeometryUtils"]});
YUI.add("q-Renderers",function(e){var r=e.namespace("IXL");r.Renderers={},r.Renderers.getRendererModuleName=function(e){var r=e.getRendererClassName();return r?"q-"+r:null}},"@VERSION@",{requires:["base","node","array-extras","q-Q"]});
YUI.add("q-CompoundGraphing",function(d){var t=d.namespace("IXL"),h=d.Array;t.CompoundGraphing=d.Base.create("compoundGraphing",t.GraphingObject,[],{currentGCIndex:0,GCCount:1,attachToGraphingBase:function(t){this.graphingBase=t;for(var e=this._getChildGCs(),s=0;s<e.length;s++){var n=e[s];if(n.get("answerToShow"))for(var i=s+1;i<e.length;i++){var r=e[i];if(n.hasSameAnswerToShowAs(r)){n.offsetShapeOrCurve(1),r.offsetShapeOrCurve(-1);break}}}for(var o=0;o<e.length;o++)e[o].attachToGraphingBase(t),this._setListenerForNewlyGuessedGCs(e[o])},_setListenerForNewlyGuessedGCs:function(t){t.after("isNewlyGuessed",function(t){for(var e=this._getChildGCs(),s=e.indexOf(t),n=0;n<e.length;n++){var i=e[n];i!==t&&i.isGuessed()&&i.hasSameShapeOrCurveAs(t)&&(i.offsetShapeOrCurve(n<s?1:-1),i._updateRenderer(),t.offsetShapeOrCurve(s<n?1:-1),t._updateRenderer())}},this),t.after("isNewlyUnguessed",function(n){n.offsetShapeOrCurve(0),h.each(this._getChildGCs(),function(e){if(e!==n&&e.isGuessed()&&0!==e._shapeOffset){var s=!0;h.each(this._getChildGCs(),function(t){t!==e&&t!==n&&t.isGuessed()&&t.hasSameShapeOrCurveAs(e)&&(s=!1)}),s&&(e.offsetShapeOrCurve(0),e._updateRenderer())}}.bind(this))},this)},_buttonPressed:function(t,e,s,n){t!==this.currentGCIndex&&this._pressedGCs(t,e,s,n)},_buttonReleased:function(t,e,s,n){this.pressedGCIndex===t&&this._switchGCs(t,e,s,n),this.pressedGCIndex=-1},_plusButtonEntered:function(t,e){(this.plusButtonWasEntered=!0,this.exitedViaPressedButton||this.pressedGCIndex&&!(this.pressedGCIndex<0))||this.graphingBase.buttons[this.graphingBase.buttons.length-1].setStyles({boxShadow:"0 2px",borderColor:e?e.toHexString():"",color:e?e.toHexString():"",borderStyle:"solid"})},_plusButtonLeaved:function(t,e){if(this.plusButtonWasEntered){this.pressedGCIndex&&-1<this.pressedGCIndex?this.exitedViaPressedButton=!0:this.exitedViaPressedButton=!1;var s=this.graphingBase.buttons[this.graphingBase.buttons.length-1];!this.pressedGCIndex||this.pressedGCIndex<0?s.setStyles({boxShadow:"0 0",borderColor:e?e.toHexString():"",color:e?e.toHexString():"",borderStyle:"dashed"}):this.pressedGCIndex===t&&(this._addButton(),this.pressedGCIndex=-1)}this.plusButtonWasEntered=!1},_plusButtonReleased:function(t){this.pressedGCIndex===t&&this._addButton(),this.pressedGCIndex=-1},_plusButtonTouched:function(t){this.plusButtonWasTouched&&this.plusButtonWasTouched===t||(this.currentGCIndex=t,this._addButton()),this.plusButtonWasTouched=t},_buttonTouched:function(t,e,s,n){t!==this.currentGCIndex&&this._switchGCs(t,e,s,n)},determineCursorPos:function(t){var e=this._getCurrentGC();return e?e.determineCursorPos(t):t},_pressedGCs:function(s,r,o,a){this.pressedGCIndex=s;var n=this.currentGCIndex;this.currentGCIndex=s;var t=this.graphingBase.buttons;if(0<t.length){0<=n&&(t[n].removeClass("clicked"),t[n].setData("clicked",!1)),t[this.currentGCIndex].addClass("pressed"),t[this.currentGCIndex].setData("pressed",!0);var e=this._getChildGCs();this._specialButtonSelected()?(t.map(function(t){t.getData("buttonIndex")!==s&&(t.setData("pressed",!1),t.setData("clicked",!1))}),h.each(e,function(t){t.toggleActiveStyles&&t.toggleActiveStyles(!0)})):this._isSpecialButton(n)?(h.each(e,function(t){t.toggleActiveStyles&&t.toggleActiveStyles(!1)}),e[s].toggleActiveStyles&&e[s].toggleActiveStyles(!0),t.map(function(t){var e=t.getData("buttonIndex");e!==n&&e!==s&&(t.setData("pressed",!1),t.setData("clicked",!1))})):(e[n].toggleActiveStyles&&0<=n&&n<e.length&&e[n].toggleActiveStyles(!1),e[s].toggleActiveStyles&&0<=s&&s<e.length&&e[s].toggleActiveStyles(!0),t.map(function(t){var e=t.getData("buttonIndex");this._isSpecialButton(e)||e===s||(t.setData("pressed",!1),t.setData("clicked",!1))},this)),t.map(function(t){var e=t.getData("buttonIndex");if(this._isSpecialButton(e)&&a){var s=e-(r?r.length:0);this._modifyColors(t,a[2*s],a[2*s+1])}else{var n=r?r[e]:null,i=o?o[e]:null;this._modifyColors(t,n,i)}},this)}},_switchGCs:function(s,r,o,a){var n=this.currentGCIndex,t=this.pressedGCIndex;(t===s||d.UA.mobileapp)&&(this.currentGCIndex=s);var e=this.graphingBase.buttons;if(0<e.length){0<=n&&(e[n].removeClass("clicked"),e[n].setData("clicked",!1)),0<=t&&(e[t].removeClass("pressed"),e[t].setData("pressed",!1)),e[this.currentGCIndex].addClass("clicked"),e[this.currentGCIndex].setData("clicked",!0);var i=this._getChildGCs();this._specialButtonSelected()?(e.map(function(t){t.getData("buttonIndex")!==s&&t.setData("clicked",!1)}),h.each(i,function(t){t.toggleActiveStyles&&t.toggleActiveStyles(!0)})):this._isSpecialButton(n)?(h.each(i,function(t){t.toggleActiveStyles&&t.toggleActiveStyles(!1)}),i[s].toggleActiveStyles&&i[s].toggleActiveStyles(!0),e.map(function(t){var e=t.getData("buttonIndex");e!==n&&e!==s&&t.setData("clicked",!1)})):(i[n].toggleActiveStyles&&0<=n&&n<i.length&&i[n].toggleActiveStyles(!1),i[s].toggleActiveStyles&&0<=s&&s<i.length&&i[s].toggleActiveStyles(!0),e.map(function(t){var e=t.getData("buttonIndex");this._isSpecialButton(e)||e===s||t.setData("clicked",!1)},this)),e.map(function(t){var e=t.getData("buttonIndex");if(this._isSpecialButton(e)&&a){var s=e-(r?r.length:0);this._modifyColors(t,a[2*s],a[2*s+1])}else{var n=r?r[e]:null,i=o?o[e]:null;this._modifyColors(t,n,i)}},this)}},_modifyColors:function(t,e,s){t.getData("plusButton")?t.getData("pressed")?t.setStyles({backgroundColor:s?s.toHexString():"",borderColor:s?s.toHexString():"",color:"white"}):t.setStyles({backgroundColor:"white",borderColor:e?e.toHexString():"",color:e?e.toHexString():""}):t.getData("clicked")?(t.setStyle("background-color",s?s.toHexString():""),t.setStyle("box-shadow","none")):t.getData("pressed")?(t.setStyle("background-color",s?s.toHexString():""),t.setStyle("box-shadow","none")):(t.setStyle("background-color",e?e.toHexString():""),t.setStyle("box-shadow","0 3px 0 "+(s?s.toHexString():"")))},handleDownUp:function(t,e){var s=this._getCurrentGC();s&&s.handleDownUp(t,e)},handleCursorMove:function(t){var e=this._getCurrentGC();e&&e.handleCursorMove(t)},handleOnOffGrid:function(t){var e=this._getCurrentGC();e&&e.handleOnOffGrid(t)},_getCurrentGC:function(){return this._getChildGCs()[this.currentGCIndex]},getThisOrCurrentGC:function(){return 1===this.GCCount?this:this._getChildGCs()[this.currentGCIndex]},_getChildGCs:function(){return this.graphingBase.get("gradableComponents")},_specialButtonSelected:function(){return this._isSpecialButton(this.currentGCIndex)},_isSpecialButton:function(t){return!1}},{})},"@VERSION@",{requires:["base","node","array-extras","q-Component","q-Renderers","q-Point2D","q-GC","q-GraphingObject","event-custom-base","yui-throttle","event-touch"]});
YUI.add("q-CoordinateSystem",function(e){var i=e.namespace("IXL");i.CoordinateSystem=function(){i.CoordinateSystem.superclass.constructor.call(this)},e.extend(i.CoordinateSystem,Object,{lowerXBound:-1,upperXBound:-1,lowerYBound:-1,upperYBound:-1,xScale:1,yScale:1,withBreakInXAxis:function(e){return this.xBreak=e,this},withBreakInYAxis:function(e){return this.yBreak=e,this},withXScale:function(e){return this.xScale=e,this},withYScale:function(e){return this.yScale=e,this},getWidth:function(){return this.xBreak?this.upperXBound-this.lowerXBound-this.xBreak+this.xScale:this.upperXBound-this.lowerXBound},getHeight:function(){return this.yBreak?this.upperYBound-this.lowerYBound-this.yBreak+this.yScale:this.upperYBound-this.lowerYBound},coordOutsideGrid:function(e){var t=e.x,r=e.y;return t>this.upperXBound||t<this.lowerXBound||r>this.upperYBound||r<this.lowerYBound}},{create:function(e,t,r,n){var o=new i.CoordinateSystem;return o.lowerXBound=e,o.upperXBound=t,o.lowerYBound=void 0===r?0:r,o.upperYBound=void 0===n?0:n,o}})},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-CursorState",function(E){E.namespace("IXL").CursorState={POINT_SELECTOR:0,TO_SOLID_CURVE:1,TO_DASHED_CURVE:2,FILL:3,CLEAR_FILL:4,DELETE:5,NONE:6}},"@VERSION@",{requires:["base","node","array-extras"]});
YUI.add("q-RenderModel",function(t){var e=t.namespace("IXL");e.RenderModel=function(t){t&&(this.stroke=new e.ColorSetting(t,t.strokeIndexedColor,.6,e.ColorUtils.DARK),this.darkStroke=new e.ColorSetting(t,t.strokeIndexedColor,.6,e.ColorUtils.VERY_DARK),this.strokeItsAboutMe=new e.ColorSetting(t,t.strokeIndexedColor,.6,e.ColorUtils.VERY_DARK,1,e.RenderModel.ITS_ABOUT_ME_COLOR),this.strokeItsNotAboutMe=new e.ColorSetting(t,t.strokeIndexedColor,.6,e.ColorUtils.LIGHT,1,e.RenderModel.ITS_ABOUT_ME_COLOR),this.fill=new e.ColorSetting(t,t.fillIndexedColor,.25,e.ColorUtils.LIGHT),this.darkFill=new e.ColorSetting(t,t.fillIndexedColor,.25,e.ColorUtils.MEDIUM),this.markerColor=new e.ColorSetting(t,t.strokeIndexedColor,.7,.5,1,e.RenderModel.MARKER_COLOR))},t.extend(e.RenderModel,Object,{stroked:null,filled:null,important:null,unconstructed:null,visible:!0,diagramMarker:!1,background:!1,transparent:!1,correct:null,copy:function(){var t=new this.constructor;return t.stroked=this.stroked,t.filled=this.filled,t.stroke=this.stroke,t.darkStroke=this.darkStroke,t.fill=this.fill,t.darkFill=this.darkFill,t.important=this.important,t.unconstructed=this.unconstructed,t.strokeItsAboutMe=this.strokeItsAboutMe,t.strokeItsNotAboutMe=this.strokeItsNotAboutMe,t.visible=this.visible,t.diagramMarker=this.diagramMarker,t.correct=this.correct,t.background=this.background,t.symmetricShape=this.symmetricShape,t.transparent=this.transparent,t}},{MARKER_COLOR:16711680,MARKER_OPACITY:.5,ITS_ABOUT_ME_COLOR:7829503,UNCONSTRUCTED_COLOR:11053224,CORRECT_COLOR:32512,INCORRECT_COLOR:8323072,BACKGROUND_COLOR:9474192,SYMMETRIC_SHAPE_COLOR:7829367,BACKGROUND_FILL_COLOR:16777215,STATIC_IMAGE_MATCHING_COLOR:13870431})},"@VERSION@",{requires:["base","node","array-extras","q-ColorSetting"]});
YUI.add("q-Renderer",function(e){var s=e.namespace("IXL"),l=require("ixl/content/util/math/geo/GeometryUtils"),a=e.UA.android||e.UA.ipad;s.Renderer=function(e,t){this.data=e,this.renderModel=t,this._graphicShapes=[]},e.extend(s.Renderer,Object,{graphic:null,data:null,renderModel:null,_graphicShapes:null,render:function(e){var t,r=(this.graphic=e).get("shapes"),i={};for(t in r)"string"==typeof t&&(i[t]=!0);for(t in a&&this._fastRenderUpdate&&this._hasBeenRendered?this._fastRenderUpdate(e):this._render(e),r)"string"!=typeof t||i[t]||this._graphicShapes.push(r[t]);if(!1===this.renderModel.visible)for(var s=0;s<this._graphicShapes.length;s++)this._graphicShapes[s].set("visible",!1)},_render:function(e){throw new Error("_render() is not implemented")},cleanup:function(){e.Array.each(this._graphicShapes,this._removeShape,this),this._graphicShapes=[],this.customDestructor&&this.customDestructor()},updateData:function(e){a&&this._fastRenderUpdate&&this._hasBeenRendered||this.cleanup(),this.data=e,this.render(this.graphic)},updateVisible:function(e){if(this.renderModel.visible!==e){this.renderModel.visible=e;for(var t=0;t<this._graphicShapes.length;t++)this._graphicShapes[t].set("visible",e)}},drawArrow:function(e,t,r,i,s,a,h){var n,o,d=t.weight;s||(s=1),n=a?[{x:-7*s,y:4*s},{x:0,y:0},{x:-7*s,y:-4*s}]:[{x:-7*s,y:3*s},{x:0,y:0},{x:-7*s,y:-3*s}],a&&(o={color:t.color||"#000000"}),h&&(o={color:t.color}),l.transformArrowheadForLine(n,r,i);var p=e.addShape({type:"path",stroke:{color:t.color,weight:t.weight,dashstyle:"none",linejoin:a?"miter":"round",opacity:t.opacity},fill:o});return p.isArrow=!0,p.moveTo(n[0].x,n[0].y),p.lineTo(n[1].x,n[1].y),p.lineTo(n[2].x,n[2].y),h&&(p.lineTo(n[0].x,n[0].y),p.closePath()),p.end(),p.get("node").setAttribute("stroke-width",d),p},updateDashed:function(e){this._updateDashed(e)},_updateDashed:function(e){if(this.renderModel.dashed!==e){this.renderModel.dashed=e;for(var t=0;t<this._graphicShapes.length;t++){var r=this._graphicShapes[t];if(!r.isArrow){var i=r.get("stroke");i.dashstyle=e?s.Renderer.DASH_STYLE:"none",r.set("stroke",i)}}}},_updateIncomplete:function(e){if(this.renderModel.incomplete!==e){this.renderModel.incomplete=e;var t=this.shape.get("stroke");t.weight=e?1:2,this.shape.set("stroke",t)}},_removeShape:function(e){this.graphic.removeShape(e)}},{DASH_STYLE:[5,5],fixPathShapeBounds:function(e){var t=e.getBounds;e.getBounds=function(){var e=t.call(this);return e.right+=1,e.bottom+=1,e}}})},"@VERSION@",{requires:["base","node","array-extras","ixl_content_util_math_geo_GeometryUtils"]});
YUI.add("q-CursorRenderer",function(e){var t=e.namespace("IXL"),s=require("ixl/content/util/math/geo/GeometryUtils"),i=e.Object,n=e.Array,r=t.CursorState;t.CursorRenderer=function(e,r){t.Renderer.call(this,e,new t.RenderModel),this._containerRadius=r},e.extend(t.CursorRenderer,t.Renderer,{_cursorState:r.POINT_SELECTOR,LINE_WEIGHT:6,_rotationDegrees:0,graphicsShape:null,_containerRadius:-1,_renderModel:{},fillColor:null,_render:function(e){switch(this._cursorState){case r.POINT_SELECTOR:this._drawNormalCursor(e);break;case r.DELETE:this._drawXCursor(e);break;case r.TO_SOLID_CURVE:this._drawToSolidLineCursor(e);break;case r.TO_DASHED_CURVE:this._drawToDottedLineCursor(e);break;case r.FILL:this._drawToFillCursor(e);break;case r.CLEAR_FILL:this._drawToClearCursor(e);break;case r.NONE:this.updateVisible(!1)}e.addShape(this._getSizingRect())},_drawNormalCursor:function(e){var r=this.graphicsShape=e.addShape({type:"path",stroke:{color:"#000000",weight:3}});this._drawCircularPath(r)},_drawXCursor:function(e){var r=this.graphicsShape=e.addShape({type:"path",stroke:{color:"#FF0000",weight:3}});this._drawRedX(r)},_getSizingRect:function(){return{type:"rect",width:2*this._containerRadius,height:2*this._containerRadius,stroke:{weight:0,color:"rgba(0, 0, 0, 0)"}}},_drawRedX:function(e){var r=11/Math.SQRT2;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r),e.end(),e.translate(this._containerRadius,this._containerRadius),this._rotationDegrees&&e.rotate(this._rotationDegrees)},_drawCircularPath:function(e){for(var r=this._containerRadius,t=r,o=r,i=0;i<4;i++)for(var a=2*Math.PI*i/4+Math.PI/8,s=0;s<3;s++){var n=a+Math.PI/4*s/2;0===s?e.moveTo(t+9*Math.cos(n),o+9*Math.sin(n)):e.lineTo(t+9*Math.cos(n),o+9*Math.sin(n))}e.end()},setState:function(e,r,t){var o=this._cursorState!==e||!i.isEmpty(t);this._cursorState=e,this._rotationDegrees=r,this._renderModel=t,o&&(this.cleanup(),this.render(this.graphic))},_drawToSolidLineCursor:function(e){var r=this._renderModel?this._renderModel:{},t=this.graphicsShape=e.addShape({type:"path",stroke:{color:r.strokeColor?r.strokeColor.toHexString():"#000000",weight:this.LINE_WEIGHT}}),o=this._containerRadius;r.ps?this._drawPath(t,r.ps):(t.moveTo(0,o),t.lineTo(2*o,o)),t.end()},_drawToDottedLineCursor:function(e){var r=this._renderModel?this._renderModel:{},t=this._containerRadius,o=this.graphicsShape=e.addShape({type:"path",stroke:{color:r.strokeColor?r.strokeColor.toHexString():"#000000",weight:this.LINE_WEIGHT,dashstyle:[t/3,t/3]}});r.ps?this._drawPath(o,r.ps):(o.moveTo(0,t),o.lineTo(2*t,t)),o.end()},_drawPath:function(r,e){var t=this._containerRadius,o={x:t,y:t},i=t*t,a=!0;n.each(e,function(e){s.distanceSquared(e,o)<i&&(a?(r.moveTo(e.x,e.y),a=!1):r.lineTo(e.x,e.y))})},_drawToFillCursor:function(e){var r=this._containerRadius;this.graphicsShape=e.addShape({type:"circle",radius:r,stroke:{weight:0},fill:{type:"radial",stops:[{color:this.fillColor.toHexString(),opacity:.5,offset:0},{color:this.fillColor.toHexString(),opacity:.5,offset:.7},{color:this.fillColor.toHexString(),opacity:0,offset:1}]}})},_drawToClearCursor:function(e){var r=this._containerRadius;this.graphicsShape=e.addShape({type:"circle",radius:r,stroke:{weight:0},fill:{type:"radial",stops:[{color:"#FFFFFF",opacity:.75,offset:0},{color:"#FFFFFF",opacity:.75,offset:.7},{color:"#FFFFFF",opacity:0,offset:1}]}})}})},"@VERSION@",{requires:["base","node","array-extras","q-Renderer","q-RenderModel","q-CursorState","ixl_content_util_math_geo_GeometryUtils"]});
YUI.add("q-OrientationChangeStabilizer",function(t){var i=t.namespace("IXL");function e(i){var e=this;this._orientationChangeStabilizerHandler=t.on("orientationchange",function(i){e.stabilizeForOrientationChange()}),this.stabilizeForOrientationChange=function(){this.stabilize()}}(e.prototype=new i.StabilizerBase).destructor=function(){this._orientationChangeStabilizerHandler.detach()},i.OrientationChangeStabilizer=e},"@VERSION@",{requires:["base","node","array-extras","q-StabilizerBase","array-extras","event"]});
YUI.add("q-ScreenEdgeIOS8Stabilizer",function(i){var e=i.namespace("IXL");function t(e,i,t){if(void 0===e||void 0===i)return!1;t=t||0;var r=window.pageXOffset,n=window.pageYOffset;return e<r+t||e>r+window.innerWidth-t||i<n+t||i>n+window.innerHeight-t}function r(e){this.lastX=void 0,this.lastY=void 0,i.UA.touchEnabled&&8<=i.UA.ios&&(this._screenEdgeIOS8StabilizerMoveHandler=i.one("document").before("touchmove",function(e){t(e.pageX,e.pageY,-70)&&(this.stabilizeForOffScreen(),this.lastX=e.pageX,this.lastY=e.pageY)},this),this._screenEdgeIOS8StabilizerDropHandler=i.one("document").before("touchend",function(e){t(this.lastX,this.lastY,1)&&this.stabilizeForOffScreen()},this)),this.stabilizeForOffScreen=function(){this.stabilize()}}(r.prototype=new e.StabilizerBase).destructor=function(){this._screenEdgeIOS8StabilizerMoveHandler&&this._screenEdgeIOS8StabilizerMoveHandler.detach(),this._screenEdgeIOS8StabilizerDropHandler&&this._screenEdgeIOS8StabilizerDropHandler.detach()},e.ScreenEdgeIOS8Stabilizer=r},"@VERSION@",{requires:["base","node","array-extras","q-StabilizerBase","array-extras","event","event-touch"]});
YUI.add("q-DynamicUIStabilizer",function(e){var t=e.namespace("IXL"),i=[t.SubmitStabilizer,t.OrientationChangeStabilizer,t.ScreenEdgeIOS8Stabilizer];function r(t){e.Array.each(i,function(e){e.call(this,t)},this)}(r.prototype=new t.StabilizerBase).destructor=function(){e.Array.each(i,function(e){e.prototype.hasOwnProperty("destructor")&&e.prototype.destructor.call(this)},this)},t.DynamicUIStabilizer=r},"@VERSION@",{requires:["base","node","array-extras","q-ScreenEdgeIOS8Stabilizer","q-OrientationChangeStabilizer","q-SubmitStabilizer","q-StabilizerBase"]});
YUI.add("q-PointRenderer",function(a){var s=a.namespace("IXL");s.PointRenderer=function(e,t){s.Renderer.call(this,e,t)},a.extend(s.PointRenderer,s.Renderer,{point:null,highlight:null,ARROW_TYPE:{NONE:{name:"NONE"},ARROW_UP:{name:"ARROW_UP"},ARROW_DOWN:{name:"ARROW_DOWN"}},_render:function(e){var t=this.renderModel,o=t.pointStyle;this._arrowType=t.arrow;var i=o?o.filled:!a.Lang.isBoolean(t.filled)||t.filled;if(i||t.stroked){var r=this._getR(),n={};i&&(n.color=o&&!o.useRenderModelFillStyle?o.fillColor:t.diagramMarker?s.ColorUtils.intToHexColor(s.RenderModel.MARKER_COLOR):t.itsAboutMe?t.strokeItsAboutMe.toHexString():t.itsNotAboutMe?t.strokeItsNotAboutMe.toHexString():t.important?"0x000000":null===t.correct?o?t.fill.toHexString():t.stroke.toHexString():t.correct?s.ColorUtils.intToHexColor(s.RenderModel.CORRECT_COLOR):s.ColorUtils.intToHexColor(s.RenderModel.INCORRECT_COLOR),n.color||(n.color="#000000"),n.opacity=t.transparent?.45:1);var l={};t.stroked?(l.color=t.diagramMarker?s.ColorUtils.intToHexColor(s.RenderModel.MARKER_COLOR):t.itsAboutMe?t.strokeItsAboutMe.toHexString():t.itsNotAboutMe?t.strokeItsNotAboutMe.toHexString():null===t.correct?t.stroke.toHexString():t.correct?s.ColorUtils.intToHexColor(s.RenderModel.CORRECT_COLOR):s.ColorUtils.intToHexColor(s.RenderModel.INCORRECT_COLOR),l.weight=t.important||t.itsAboutMe?4:2,o&&o.filled&&!o.useRenderModelFillStyle&&(l.weight=2)):l.weight=0,l.opacity=t.transparent?.45:1,this.point=e.addShape({type:"circle",x:this.data.x-r,y:this.data.y-r,width:2*r,height:2*r,stroke:l,fill:n}),o&&o.highlighted&&(this.highlight=e.addShape({type:"circle",x:this.data.x-r-4,y:this.data.y-r-4,width:2*r+8,height:2*r+8,stroke:{weight:2,color:t.stroke.toHexString(),dashstyle:8===a.UA.ie?"none":[5,6]}})),this._arrowType&&this._arrowType.name!==this.ARROW_TYPE.NONE.name&&this._drawArrow(this.graphic)}},_drawArrow:function(e){var t,o,i,r,n,l,a,s=this.data.x,h=this.data.y,d=e.addShape({type:"path",stroke:{linejoin:"miter"},fill:{color:"#000000"}});this._arrowType.name===this.ARROW_TYPE.ARROW_DOWN.name?(h-=12,n=(s-=12)+11.5,o=15*(a=2*Math.atan(1.4)/Math.PI),t=22*a,r=30*a,i=18*a,l=h-8*a,d.moveTo(n,l),d.lineTo(n-r/2,l-i),d.lineTo(n-o/2,l-i),d.lineTo(n-o/2,l-t-i),d.lineTo(n+o/2,l-t-i),d.lineTo(n+o/2,l-i),d.lineTo(n+r/2,l-i)):(h+=15,n=(s-=12)+11.5,o=15*(a=2*Math.atan(1.4)/Math.PI),t=22*a,r=30*a,i=18*a,l=h-8*a,d.moveTo(n,l),d.lineTo(n-r/2,l+i),d.lineTo(n-o/2,l+i),d.lineTo(n-o/2,l+t+i),d.lineTo(n+o/2,l+t+i),d.lineTo(n+o/2,l+i),d.lineTo(n+r/2,l+i)),d.lineTo(n,l),d.end()},updateXY:function(e){this.data.x=e.x,this.data.y=e.y;var t=this._getR();this.point&&(this.point.set("x",e.x-t),this.point.set("y",e.y-t)),this.highlight&&(this.highlight.set("x",e.x-t-4),this.highlight.set("y",e.y-t-4))},_getR:function(){return this.renderModel.pointRadius||3}})},"@VERSION@",{requires:["base","node","array-extras","q-ColorUtils","q-RenderModel","q-Renderer"]});
YUI.add("q-GraphPoint",function(r){var e=r.namespace("IXL");e.GraphPoint=r.Base.create("graphPoint",e.GraphingObject,[e.Guessable],{point:null,isSet:!1,_pointRenderer:null,_pointCanvas:null,_permanentlyInvisible:!1,initializer:function(i){this._permanentlyInvisible=this.get("_permanentlyInvisible"),this.point=e.Point2D.create(0,0);var t=this.get("pointRM").copy();t.visible=!1,this._pointRenderer=new e.PointRenderer(this.point,t)},setPoint:function(i){var t=this;t.point=i,t.isSet=!0;var e=t.graphingBase.getPixelCoordinates(i);if(t._pointRenderer.updateXY(e),!this.graphingBase.coordinateSystem.coordOutsideGrid(i))if(this._permanentlyInvisible){var n=t._pointRenderer.renderModel;!0!==n.visible&&(n.visible=!0)}else t._pointRenderer.updateVisible(!0)},unset:function(){this.isSet=!1,this._pointRenderer.updateVisible(!1)},attachToGraphingBase:function(i,t){this.graphingBase=i,this._pointCanvas=t||this.graphingBase.addCanvas(),this._pointCanvas.addRenderer(this._pointRenderer);var e=this.get("answerToShow");e&&this.drawStaticContent(e)},drawStaticContent:function(i){(i=e.Point2D.createFromPoint(i)).applyTransform(this.graphingBase.get("diagram").viewportTransform),this._pointRenderer.updateXY(i),this._pointRenderer.updateVisible(!0)},handleDownUp:function(i,t){i=this.determineCursorPos(i);var e=r.UA.ios||r.UA.android,n=!e,s=!t;t&&n||(this.isSet?(this.unset(),this.graphingBase.refreshCursor()):(n||s)&&this.setPoint(i),s&&e&&this.graphingBase.showCursor(!1))},handleCursorMove:function(i){if(this.graphingBase.updateCursor(this.determineCursorPos(i))&&this.isSet){var t=i.x-this.point.x,e=i.y-this.point.y;this.point.x+=t,this.point.y+=e;var n=this.graphingBase.getPixelCoordinates(this.point);this._pointRenderer.updateXY(n)}},handleOnOffGrid:function(i){},isGuessed:function(){return this.isSet},getGuess:function(i){i(this.isGuessed()?this.point:null)},determineCursorPos:function(i){return this.isSet?this.point:this.graphingBase.roundGridCoordsWithinGrid(i)},getNumChildComponents:function(){return 0},getChildComponent:function(i){throw new Error("GraphPoint has no child components.")},setChildComponent:function(i,t){throw new Error("GraphPoint has no child components.")},toString:function(){return"isSet: "+this.isSet+", point: "+this.point.toString()}})},"@VERSION@",{requires:["base","node","array-extras","q-GraphingObject","q-Point2D","q-Guessable","q-PointRenderer"]});
YUI.add("q-ParametricCurve2D",function(t){var v=t.namespace("IXL"),i=require("ixl/content/util/math/geo/transform/IdentityTransform"),P=require("ixl/content/util/math/geo/GeometryUtils"),d=t.Lang,u=1e-6;v.ParametricCurve2D=function(t,r,e,n){v.Base2D.call(this),this.transform=new i,this.fX=t,this.fY=r,this.t1=e,this.t2=n},t.extend(v.ParametricCurve2D,v.Base2D,{fX:null,fY:null,t1:null,t2:null,transform:new i,isFX:!1,isFY:!1,applyTransform:function(t){this.transform=this.transform.enqueueTransform(t)},getBoundingBox:function(){return null},getPathAsPoints:function(t){for(var r=this.t2-this.t1,e=[],n=this.t1;n<=this.t2;n+=r*t)e.push(this.pointAt(n));var i=e[e.length-1],s=this.pointAt(this.t2);return P.distanceSquared(i,s)<u*u&&e.pop(),e.push(s),e},getPathAsPointsPreTransformation:function(t,r,e){r||e||(r=this.t1,e=this.t2);for(var n=e-r,i=[],s=r;(s-e)*n<=0;s+=n*t)i.push(this.pointAtPreTransformation(s));var a=i[i.length-1],o=this.pointAtPreTransformation(e);return P.distanceSquared(a,o)<u*u&&i.pop(),i.push(o),i},pointAt:function(t){var r=v.Point2D.create(this.fX(t),this.fY(t));return this.transform.transformPoint(r),r},pointAtPreTransformation:function(t){return v.Point2D.create(this.fX(t),this.fY(t))},testIntersectionPrep:function(t){return this.testIntersection(t)},testIntersection:function(t){for(var r=t.x,e=r+t.width,n=t.y,i=n+t.height,s=v.Point2D.create((r+e)/2,(n+i)/2),a=(this.t1+this.t2)/2,o=(this.t2-this.t1)/4,u=0;u<v.ParametricCurve2D.MAX_SEARCH_DEPTH;u++){var h=this.pointAt(a-o),f=this.pointAt(a+o),c=d.isValue(h.x)&&d.isValue(h.y),l=d.isValue(f.x)&&d.isValue(f.y);if(!c&&!l)return!1;var m=!1;if(l)if(c){m=P.distanceSquared(s,h)<P.distanceSquared(s,f)}else m=!1;else m=!0;var p=m?h:f;if(a+=m?-o:o,p.x>=r&&p.x<=e&&p.y>=n&&p.y<=i)return!0;o/=2}return!1},testOverlapPrep:function(){return!1},testOverlap:function(){return!1},tValue:function(t){throw new Error("tValue(p) not yet implemented for this curve type.")},isOnCurve:function(t){if(this.isFX)return Math.abs(this.fY(t.x)-t.y)<u;if(this.isFY)return Math.abs(this.fX(t.y)-t.x)-u;throw new Error("isOnCurve is only implemented for curves that have either isFX or isFY true.")}},{createFX:function(t,r,e){var n=new v.ParametricCurve2D(function(t){return t},t,r,e);return n.isFX=!0,n},createFY:function(t,r,e){var n=new v.ParametricCurve2D(t,function(t){return t},r,e);return n.isFY=!0,n},MAX_SEARCH_DEPTH:10})},"@VERSION@",{requires:["base","node","array-extras","q-Base2D","q-Point2D","ixl_content_util_math_geo_GeometryUtils","ixl_content_util_math_geo_transform_IdentityTransform"]});
YUI.add("q-LinearObject2DClassFactory",function(t){var n=t.namespace("IXL"),e=require("ixl/content/util/math/geo/GeometryUtils"),u={};n.LinearObject2DClassFactory={newClass:function(r,i,s){var o=function(t){var n=this[i]=t[i],r=this[s]=t[s];n.x===r.x?(this.slope=null,o.superclass.constructor.call(this,function(t){return n.x},function(t){return t})):(this.slope=(r.y-n.y)/(r.x-n.x),o.superclass.constructor.call(this,function(t){return t},function(t){return this.slope*(t-n.x)+n.y})),this.isFX=n.x!==r.x,this.isFY=n.y!==r.y};return t.extend(o,n.ParametricCurve2D,{applyTransform:function(t){t.transformPoint(this[i]),t.transformPoint(this[s])},getBoundingBox:function(){return e.getBoundingBoxForPoints([this[i],this[s]])},getPathAsPoints:function(t){return[this[i],this[s]]},getPathAsPointsPreTransformation:function(t,n,r){return[this.pointAtPreTransformation(n),this.pointAtPreTransformation(r)]},getStart:function(){return this[i]},getSlope:function(){return this.slope},copy:function(){var t={};return t[i]=this[i].copy(),t[s]=this[s].copy(),new o(t)},testIntersectionPrep:function(t){return r(t,this[i],this[s])?u:null},testIntersection:function(t,n){return r(t,this[i],this[s])?u:null},testOverlapPrep:function(t){return r(t,this[i],this[s])?u:null},testOverlap:function(t,n){return r(t,this[i],this[s])?u:null}},{create:function(t,n){var r={};r[i]=t,r[s]=n;var e=new o(r);return e.objectType&&(e.objectType=e.objectType),e}}),o}}},"@VERSION@",{requires:["base","node","array-extras","q-Base2D","q-Point2D","q-ParametricCurve2D","ixl_content_util_math_geo_GeometryUtils"]});
YUI.add("q-Line2D",function(t){var e=t.namespace("IXL"),n=require("ixl/content/util/math/geo/Intersect"),i=require("ixl/content/util/math/geo/GeometryUtils");e.Line2D=e.LinearObject2DClassFactory.newClass(n.rectangleAndLine,"from","to"),e.Line2D.prototype.objectType="ixl.qgen.util.math.geo._2D.Line2D",e.Line2D.prototype.tValue=function(t){if(i.distanceSquaredLinePoint(this.from,this.to,t)<1e-4)return this.isFX?t.x:t.y;throw new Error("The point {x: "+t.x+", y: "+t.y+"} is not on this curve.")},e.Line2D.prototype.nearestPointOnCurve=function(t){return e.Point2D.createFromPoint(i.getNearestPointOnLineToPoint(this.from,this.to,t))}},"@VERSION@",{requires:["base","node","array-extras","q-LinearObject2DClassFactory","q-Point2D","ixl_content_util_math_geo_Intersect","ixl_content_util_math_geo_GeometryUtils"]});
YUI.add("q-GraphShapeOrCurve",function(g){var s=g.namespace("IXL"),l=require("ixl/content/util/math/geo/GeometryUtils"),i=require("ixl/content/util/math/geo/transform/TranslationTransform"),_=g.Array;s.GraphShapeOrCurve=g.Base.create("graphShapeOrCurve",s.GraphingObject,[s.Guessable],{pointGCs:null,hasFocalPoint:!1,_shapeCanvas:null,_shapeRenderer:null,_shapeOffset:0,_erasableOnMobile:!1,initializer:function(t){this.pointGCs=[];for(var e=0;e<t.numPoints;e++)this.pointGCs.push(s.Component.newInstance(this,s.GraphPoint,{pointRM:this.get("pointRM")}))},_getRendererClass:function(){throw new Error("_getRendererClass() was not implemented")},_makeFreshDataFromPoints:function(t){throw new Error("_makeFreshDataFromPoints() was not implemented")},attachToGraphingBase:function(t){this.graphingBase=t,this._shapeCanvas=this.graphingBase.addCanvas(),_.each(this.pointGCs,function(t){t.attachToGraphingBase(this.graphingBase,this._shapeCanvas)},this);var e=this.get("answerToShow");e&&this.drawStaticContent(e)},unsetPoint:function(t){var e,s=this.pointGCs;if(s[t].isSet){if(!this.hasFocalPoint){var i=_.lastIndexOf(this._getIsSetArray(),!0),n=_.indexOf(this._getIsSetArray(),!1);if(-1!==i&&-1!==n&&n<i){for(e=0;e<i-n;e++)s.unshift(s.splice(i,1)[0]);t<=i&&(t=(t+i-n)%(i+1))}}s[t].unset()}},_getIsSetArray:function(){return _.map(this.pointGCs,function(t){return t.isSet})},_getAllPoints:function(){return _.map(this.pointGCs,function(t){return t.point})},drawStaticContent:function(t){if(t.answer){var e=this._getOffsetVectorOfAnswer();this._processData(t.answer),0!==this._shapeOffset&&this._applyTransformToData(e,t.answer),this._setUpShapeRenderer(t.answer)}this._drawControlPoints(t.controlPoints)},_drawControlPoints:function(t){t.forEach(function(t,e){this.setPoint(e,s.Point2D.createFromPoint(t))},this)},determineCursorPos:function(t){var e=g.UA.ios||g.UA.android,s=this.graphingBase.roundGridCoordsWithinGrid(t),i=this._getAllVisiblePoints();this._pointUnsetOnDown&&i.push(this._pointUnsetOnDown);var n=l.getNearestPoint(t,i);if(this.isGuessed())return n;if(e&&0<i.length&&l.distanceSquared(t,n)<2&&l.distance(this.graphingBase.getPixelCoordinates(t),this.graphingBase.getPixelCoordinates(n))<=40)return n;return s},isGuessed:function(){return-1===_.indexOf(this._getIsSetArray(),!1)},getGuess:function(t){t(this.wrapShapeAndPoints())},_processData:function(t){t.applyTransform(this.graphingBase.get("diagram").viewportTransform)},handleCursorMove:function(t){t=this.determineCursorPos(t),this.graphingBase.updateCursor(t),this._gestureCoordinateHasChanged||(this._gestureCoordinateHasChanged=t!==this._gestureStartCoordinate);var e=this.pointGCs;if(this.hasFocalPoint&&!e[0].isSet){var s=t.x-e[0].point.x,i=t.y-e[0].point.y,n=this.graphingBase.coordinateSystem;e[0].point.x+=s,e[0].point.y+=i;for(var r=1;r<e.length;r++)if(e[r].isSet){var a=e[r].point;a.x+=s,a.y+=i;var o=!n.coordOutsideGrid(a),h=this.graphingBase.getPixelCoordinates(a);e[r]._pointRenderer.updateXY(h),e[r]._pointRenderer.updateVisible(o)}}this._updateRenderer()},setDashed:function(t){this._shapeRenderer&&this._shapeRenderer.updateDashed(t)},handleDownUp:function(s,t){s=this.determineCursorPos(s),this.graphingBase.updateCursor(s);var e=g.UA.ios||g.UA.android,i=this._erasableOnMobile,n=!e,r=!t,a=e&&r&&!this._gestureCoordinateHasChanged;if(!t||!n){t&&(this._gestureCoordinateHasChanged=!1,this._gestureStartCoordinate=s,this._pointUnsetOnDown=null);var o=0,h=-1,p=null,u=-1;if(_.some(this._getAllVisiblePoints(!0),function(t,e){null!==t&&this.pointGCs[e].isSet&&l.distance(s,t)<.1&&(h=e,p=t)},this),a&&_.each(this._getAllPoints(),function(t,e){-1===u&&this._pointUnsetOnDown&&l.distance(this._pointUnsetOnDown,t)<.1&&(u=e)},this),-1!==h)e&&r&&!i||(this.unsetPoint(h),o=-1,this._pointUnsetOnDown=p,this.graphingBase.refreshCursor());else if(-1<u)a?(o=-1,this.unsetPoint(u,!0)):(o=1,this.setPoint(u,s));else{if(-1!==_.indexOf(this._getIsSetArray(),!0)&&null===this._getFreshData())return void(r&&e&&this.graphingBase.showCursor(!1));if(!e||!t){var d=_.indexOf(this._getIsSetArray(),!1);-1!==d&&(this.setPoint(d,s),o=1)}}1===o&&this.isGuessed()?this.fire("isNewlyGuessed",this):-1===o&&this.fire("isNewlyUnguessed",this),r&&e&&this.graphingBase.showCursor(!1);var f=r&&e;this._updateRenderer(f)}},setPoint:function(t,e){this.pointGCs[t].setPoint(e)},handleOnOffGrid:function(t){var e=this.pointGCs;if(this.hasFocalPoint&&-1!==_.indexOf(this._getIsSetArray(),!1))for(var s=1;s<e.length;s++)e[s].isSet&&e[s]._pointRenderer.updateVisible(!t);this._updateRenderer()},_updateRenderer:function(t){var e=this._shapeRenderer;if(-1!==_.indexOf(this._getIsSetArray(),!0)){var s=this._getFreshData(t);if(s){if(this._processData(s),0!==this._shapeOffset){var i=this._getOffsetVector();this._applyTransformToData(i,s)}e?e.updateData(s):(this._setUpShapeRenderer(s),e=this._shapeRenderer);var n=-1!==_.indexOf(this._getIsSetArray(),!1);e.updateDashed(n),e.updateVisible(!0)}else e&&e.updateVisible(!1)}else e&&e.updateVisible(!1)},_getOffsetVector:function(){return{x:1,y:0}},_applyTransformToData:function(t,e){t.x=t.x*s.GraphShapeOrCurve.OFFSET_DISTANCE,t.y=t.y*s.GraphShapeOrCurve.OFFSET_DISTANCE,(0!==t.y&&0<this._shapeOffset*t.y||0===t.y&&this._shapeOffset*t.x<0)&&(t.x=-t.x,t.y=-t.y),e.applyTransform(new i(t.x,t.y))},_getOffsetVectorOfAnswer:function(){return{x:1,y:0}},_setUpShapeRenderer:function(t){var e=this._getRendererClass();this._shapeRenderer=new e(t,this.get("shapeRM")),this._shapeCanvas.addRenderer(this._shapeRenderer)},_getFreshData:function(t){var e=this.graphingBase,s=this.pointGCs,i=e.cursorP,n=e.isOffGrid,r=!1;n||_.each(s,function(t){t.isSet&&!r&&(t.point.equals(i)&&(r=!0))});var a=[],o=!n&&!r&&!t,h=-1;if(_.each(s,function(t){t.isSet?a.push(t.point.copy()):o&&(h=a.length,a.push(i.copy()),o=!1)}),!this.hasFocalPoint){var p=_.indexOf(this._getIsSetArray(),!1);if(-1===h&&-1!==p&&p<a.length)for(var u=0;u<a.length-p;u++)a.unshift(a.splice(a.length-1,1)[0])}return this._makeFreshDataFromPoints(a)},wrapShapeAndPoints:function(){var t=this.getSetPoints(),e=this._getFreshData();return new s.ShapeWithPoints({answer:e,controlPoints:t})}},{OFFSET_DISTANCE:1.5})},"@VERSION@",{requires:["base","node","array-extras","q-GraphingObject","q-Guessable","q-GraphPoint","q-Line2D","q-Point2D","q-css-GraphingBase","ixl_content_util_math_geo_GeometryUtils","ixl_content_util_math_geo_transform_TranslationTransform"]});
YUI.add("q-GraphingBase",function(C){var m=C.namespace("IXL"),t=require("ixl/content/util/get-window"),e=require("ixl/content/util/get-document"),n=require("ixl/content/util/supports-passive-event-listeners"),i=require("ixl/content/util/get-absolute-coordinates"),o=50,b=C.Array,r=C.EventTarget,u=(m.CursorState,C.UA.ios||C.UA.android),g="UNKNOWN",f="SCROLL",v="COMPONENT_INTERACTION";m.GraphingBase=C.Base.create("graphingBase",m.Component,[r,m.DynamicUIStabilizer],{cursorP:null,isOffGrid:!0,isOffScreen:!0,coordinateSystem:null,diagram:null,buttons:null,_node:null,_cursorRenderer:null,_cursorLayer:null,_cursorCanvas:null,_cursorSize:50,_mouseP:null,_pointerOverlay:null,_pointerOverlayBuffer:5,_diagramOriginX:-1,_diagramOriginY:-1,_diagramXScale:-1,_diagramYScale:-1,_diagramFitScale:-1,_yAxisBreak:0,_xAxisBreak:0,_labelColors:null,_labelBorderColors:null,_touchstartNumTouches:0,_relevantTouchID:null,_isMoved:!1,_firstTouchTime:null,_scrollCalibrationStatus:g,_fadeInactiveCurves:!1,_isStable:!0,removeIndentationOnSmallScreens:function(){return!0},initializer:function(e){this.diagram=e.diagram,this.diagram.canRotateScaleLabels=e.canRotateScaleLabels,this._xAxisBreak=e.diagram.xBreak,this._yAxisBreak=e.diagram.yBreak,this._diagramXScale=e.diagram.xScale,this._diagramYScale=e.diagram.yScale,this.coordinateSystem=m.CoordinateSystem.create(e.lowerXBound,e.upperXBound,e.lowerYBound,e.upperYBound).withBreakInXAxis(this._xAxisBreak).withBreakInYAxis(this._yAxisBreak).withXScale(this._diagramXScale).withYScale(this._diagramYScale),8===C.UA.ie&&(o=10);var t=this.get("gradableComponents");1<t.length?(this.compoundGraphing=m.Component.newInstance(this,m.CompoundGraphing,{}),this.compoundGraphing.GCCount=t.length):1===t.length&&(t[0]instanceof m.CompoundGraphing?this.compoundGraphing=t[0]:this.compoundGraphing=m.Component.newInstance(this,m.CompoundGraphing,{}),this.compoundGraphing.GCCount=1),C.UA.mobileapp&&this.compoundGraphing&&(this.compoundGraphing.plusButtonWasTouched=!1),this._buttonLabels=[],e.labels&&(this._buttonLabels=e.labels),this._specialButtonLabels=[],this._specialButtonColors=[],this._addButtonLabel=null,e.labelColors&&(this._labelColors=C.Array.map(e.labelColors,function(t){return new m.ColorSetting(e,t,1,.6)}),this._labelBorderColors=C.Array.map(e.labelColors,function(t){return new m.ColorSetting(e,t,1,.5)})),this._eventHandles=[]},destructor:function(){this.detachAll(),b.invoke(this._eventHandles,"detach"),n&&this._pointerOverlay&&this._pointerOverlay.getDOMNode().removeEventListener("touchmove",this._touchMoveHandler,{passive:!1})},render:function(){var t=this._node=C.Node.create('<div style="position:relative; overflow-x:auto; overflow-y:hidden"/>');t.addClass("graphingBaseContainer"),this._parentNode.appendChild(t);var a=this.diagram;a._parentNode=t,a.getSizeFactor=function(){var t=a.viewportTransform,e=m.Point2D.create(a.xBreak,0),n=m.Point2D.create(a.xBreak+a.xScale,0);t.transformPoint(e),t.transformPoint(n);var i=Math.round(n.x-e.x),o=m.Point2D.create(0,a.yBreak),r=m.Point2D.create(0,a.yBreak+a.yScale);t.transformPoint(o),t.transformPoint(r);var s=Math.round(o.y-r.y);return Math.min(i/24,s/24,1)},a.margin=0,a.render(),this.compoundGraphing&&(this.compoundGraphing.attachToGraphingBase(this),this.compoundGraphing.attachEvents(this)),a.on("diagramRenderingComplete",this._drawLegend,this),this.get("context").isInteractive&&this.compoundGraphing&&!this.isStatic&&(this._cursorLayer=this._node.appendChild('<div class="graphingCursorLayer"/>'),a.matchCanvas(this._cursorLayer),this._pointerOverlay=this._node.appendChild("<div class='graphingPointerOverlay'/>"),this._pointerOverlayYUID=this._pointerOverlay.generateID(),a.matchCanvas(this._pointerOverlay,this._pointerOverlayBuffer),a.on("diagramRenderingComplete",function(){this._diagramOriginX=a.get("origin").x,this._diagramOriginY=a.get("origin").y,this._diagramFitScale=a.get("scale"),this._cursorCanvas=new m.CanvasWidget({width:this._cursorSize,height:this._cursorSize}),this._cursorCanvas.get("boundingBox").setStyle("position","absolute"),this._cursorCanvas.get("boundingBox").setStyle("left","-99999px"),this._cursorRenderer=new m.CursorRenderer(m.Point2D.create(0,0),this._cursorSize/2),this._cursorRenderer.renderModel.visible=!1,this._cursorCanvas.addRenderer(this._cursorRenderer),C.soon(C.bind(function(){this._cursorCanvas.render(this._cursorLayer)},this)),this._pointerOverlay.addClass("interactive"),this._mouseP=m.Point2D.create(0,0);var t=this._buttonLabels;t&&b.some(t,function(t){return null!==t})&&(this._drawButtons(),this.compoundGraphing._switchGCs(0,this._labelColors,this._labelBorderColors,this._specialButtonColors)),u?this._setupTouchDevice(this):this._setupNonTouchDevice(this)},this))},_adjustButtonsRendering:function(){var t=this._node.all("button.compoundButton"),n=0,i=0,e=this._node.all("button.plusButton");t.each(function(t){if(!t.hasClass(".specialButton")){var e=t.get("region");e&&e.width&&e.width>n&&(n=e.width),e&&e.height&&e.height>i&&(i=e.height)}});0<n&&(n=Math.max(71,n),t.setStyle("width",n),e&&e.setStyle("width",n)),0<i&&(t.setStyle("height",i),e&&e.setStyle("height",i));var o=this._node.all(".compound-btn-wrapper");if(o&&1<o.size()&&this._node.one(".specialButton")){var r=o.item(o.size()-2);this._node.one(".specialButton").setStyle("width",r.get("region").width)}var s=0;o.each(function(t){t.get("region").width>s&&(s=t.get("region").width)});var a=this._node.one(".compoundButtonContainer"),u=a.get("region").width;if(u<s){a.setStyle("width",s+"px");var h=parseInt(a.getStyle("left"),10),l=Math.max(0,h-(s-u)/2);a.setStyle("left",l+"px")}},_drawLegend:function(){var t=this.get("legend");t&&null!==t&&(t._parentNode=this._node,t.graphingBase=this,t.render())},_drawButtons:function(){var t,e=this._buttonLabels;if(e&&b.some(e,function(t){return null!==t})){var n=this._node,i=this.diagram,o=Math.floor(this.getPixelCoordinates(m.Point2D.create(this.coordinateSystem.lowerXBound,0)).x),r=this.getPixelCoordinates(m.Point2D.create(this.coordinateSystem.upperXBound,0)).x,s=parseInt(i.labelContainer.getStyle("left"),10)+o,a=r-o;n.get("region").width;this.buttons=[];var u,h,l=n.appendChild('<div class="compoundButtonContainer"/>'),d=this;l.setStyle("left",s+"px"),l.setStyle("width",a+"px");for(var c=0,_=e.length,p=Math.min(4,_),g=!1;0<_;){for(u=l.appendChild('<div class="compound-btn-row" />'),h=u.appendChild('<div class="compound-btn-wrapper" />'),t=0;t<p;t++){0,!!e[c].__origCfg__&&"+"===e[c].__origCfg__.text?this._drawAddButton(e[c],c++,h,d,0===t,t===p-1):this._drawButton(e[c],c++,h,d,0===t,t===p-1)}_-=p,p=Math.min(g?4:3,_),g=!g}0<this._specialButtonLabels.length&&b.each(this._specialButtonLabels,function(t,e){var n=l.appendChild('<div class="compound-btn-row containsSpecial" />');h=n.appendChild('<div class="compound-btn-wrapper" />');var i=this._drawButton(t,c,h,d,!0,!0),o=d._specialButtonColors?d._specialButtonColors[2*e]:null;i.setStyle("background-color",o?o.toHexString():"");var r=d._specialButtonColors?d._specialButtonColors[2*e]:null;r&&C.UA.ie&&C.UA.ie<9&&i.setStyle("borderColor",r.toHexString()),i.addClass("specialButton")},this),C.UA.mobileapp?(this._addButtonLabel&&l.delegate("touchstart",this._plusButtonTouched,"button.active.plusButton",this),l.delegate("touchstart",this._buttonTouched,"button.active.compoundButton",this)):(this._addButtonLabel&&(l.delegate("mousedown",this._buttonPressed,"button.active.plusButton",this),l.delegate("mouseup",this._plusButtonReleased,"button.active.plusButton",this),l.delegate("mouseenter",this._plusButtonEntered,"button.active.plusButton",this),l.delegate("mouseleave",this._plusButtonLeaved,"button.active.plusButton",this)),l.delegate("mousedown",this._buttonPressed,"button.active.compoundButton",this),l.delegate("mouseup",this._buttonReleased,"button.active.compoundButton",this));var f=this.compoundGraphing,v=this;this.after("buttonPressed",function(t){f._buttonPressed(t,v._labelColors,v._labelBorderColors,v._specialButtonColors)},f),this.after("buttonReleased",function(t){f._buttonReleased(t,v._labelColors,v._labelBorderColors,v._specialButtonColors)},f),this.after("buttonTouched",function(t){f._buttonTouched(t,v._labelColors,v._labelBorderColors,v._specialButtonColors)},f),this._addButtonLabel&&this._plusButtonInteraction(f,this),this._adjustButtonsRendering()}},_plusButtonInteraction:function(e,n){n.after("plusButtonReleased",function(t){e._plusButtonReleased(t)}),n.after("plusButtonEntered",function(t){e._plusButtonEntered(t,n._labelBorderColors?n._labelBorderColors[t]:null)}),n.after("plusButtonLeaved",function(t){e._plusButtonLeaved(t,n._labelColors?n._labelColors[t]:null)}),n.after("plusButtonTouched",function(t){e._plusButtonTouched(t)})},_drawButton:function(t,e,n,i,o,r){var s="dv-btn-wrapper";o&&(s+=" first"),r&&(s+=" last");var a=n.appendChild('<div class="'+s+'" />').appendChild('<button class="compoundButton active"/>');C.UA.chrome||a.addClass("not-chrome");var u=this._labelColors?this._labelColors[e]:null,h=this._labelBorderColors?this._labelBorderColors[e]:null;return o?a.setStyle("background-color",h?h.toHexString():""):(a.setStyle("background-color",u?u.toHexString():""),a.setStyle("box-shadow","0 3px 0 "+(h?h.toHexString():""))),a.setData("buttonIndex",e),null!==t&&(t.render?(t._parentNode=a,t.render()):a.append(t)),i.buttons.push(a),a},_drawAddButton:function(t,e,n,i,o,r){var s="dv-btn-wrapper";o&&(s+=" first"),r&&(s+=" last");var a=n.appendChild('<div class="'+s+'" />').appendChild('<button class="plusButton active"/>');return a.setData("buttonIndex",e),a.setData("plusButton",!0),u?a.addClass("mobile"):a.addClass("browser"),null!==t&&(t.render?(t._parentNode=a,t.render()):a.append(t)),i.buttons.push(a),a},_buttonPressed:function(t){var e=t.currentTarget;this.fire("buttonPressed",e.getData("buttonIndex"))},_buttonReleased:function(t){var e=t.currentTarget;this.fire("buttonReleased",e.getData("buttonIndex"))},_buttonTouched:function(t){var e=t.currentTarget;this.fire("buttonTouched",e.getData("buttonIndex"))},_plusButtonReleased:function(t){var e=t.currentTarget;this.fire("plusButtonReleased",e.getData("buttonIndex"))},_plusButtonTouched:function(t){var e=t.currentTarget;this.fire("plusButtonTouched",e.getData("buttonIndex"))},_plusButtonEntered:function(t){var e=t.currentTarget;this.fire("plusButtonEntered",e.getData("buttonIndex"))},_plusButtonLeaved:function(t){var e=t.currentTarget;this.fire("plusButtonLeaved",e.getData("buttonIndex"))},getPixelCoordinates:function(t){var e=t.copy();return this.diagram.viewportTransform.transformPoint(e),e},_getUnroundedGridCoords:function(t,e){var n=m.Point2D.create(t,e);return this.diagram.viewportTransform.inverseTransformPoint(n),n},roundGridCoordsWithinGrid:function(t){var e=this.get("mouseResolutionX"),n=this.get("mouseResolutionY"),i=this.coordinateSystem,o=m.MathUtils.roundTo(t.x,this._diagramXScale/e),r=m.MathUtils.roundTo(t.y,this._diagramYScale/n);return o<i.lowerXBound?o=i.lowerXBound:o>i.upperXBound&&(o=i.upperXBound),r<i.lowerYBound?r=i.lowerYBound:r>i.upperYBound&&(r=i.upperYBound),m.Point2D.create(o,r)},addCanvas:function(){var t=this.get("diagram"),e=m.Component.newInstance(this,m.CanvasWidget,{}),n=e.get("boundingBox");return n.setStyle("position","absolute"),e.set("width",t.canvas.get("width")),e.set("height",t.canvas.get("height")),C.soon(C.bind(function(){e.render(this._node)},this)),t.matchCanvas(n),e},refreshCursor:function(){var t=this._mouseP;return this._mouseP=null,this._handleCoordinateChange(t),this.cursorP},_setupTouchDevice:function(e){m.HTMLUtils.onMouseEnterLeave(this._pointerOverlay,function(t){e._handleOnOffGrid(!1)},function(t){e._handleOnOffGrid(!0)},this),n?(this._touchMoveHandler=this._touchMoveHandler.bind(this),this._pointerOverlay.getDOMNode().addEventListener("touchmove",this._touchMoveHandler,{passive:!1})):this._eventHandles.push(this._pointerOverlay.after("touchmove",this._touchMoveHandler,this)),this._eventHandles.push(this._pointerOverlay.after("touchstart",this._touchStartHandler,this)),this._eventHandles.push(this._pointerOverlay.after("touchend",this._touchEndHandler,this)),this._eventHandles.push(this._pointerOverlay.after("touchcancel",this._touchEndHandler,this))},_setupNonTouchDevice:function(i){m.HTMLUtils.onMouseEnterLeave(this._pointerOverlay,function(t){i._handleOnOffGrid(!1)},function(t){i._handleOnOffGrid(!0)},this),this._pointerOverlay.after("mousemove",C.throttle(function(t){var e=i,n=e._getGraphCoordinates(t);e._handleOnOffGrid(!1),e._handleCoordinateChange(n)},o)),this._pointerOverlay.after("mousedown",function(t){var e=i,n=e._getGraphCoordinates(t);e._handleOnOffGrid(!1),e._handleCoordinateChange(n),e._handleCoordinateDown(n)}),this._pointerOverlay.after("mouseup",function(t){var e=i,n=e._getGraphCoordinates(t);e._handleOnOffGrid(!1),e._handleCoordinateChange(n),e._handleCoordinateUp(n)})},_isOnGraph:function(t){return t.target.hasClass("graphingPointerOverlay")||t.target.ancestor(".graphingPointerOverlay")},_isScrollPossible:function(){return e().body.scrollHeight>t().screen.availHeight||e().body.scrollWidth>t().screen.availWidth||C.UA.iosapp},_shouldPreventScrolling:function(){return this._scrollCalibrationStatus===v||!C.UA.safari&&this._scrollCalibrationStatus===g},_resetTouchState:function(){this._touchstartNumTouches=0,this._relevantTouchID=null,this._isMoved=!1,this._firstTouchTime=null,this._startTouchCoordinates=null,clearTimeout(this._scrollCalibrationTimeout)},_touchMoveHandler:function(t){var e=Date.now(),n=this._isMoved,i=this;if(!this._stopListening){var o=this._findRelevantTouch(t,this._relevantTouchID);if(i._scrollCalibrationStatus===g&&o){var r=o.pageX,s=o.pageY,a=this._startTouchCoordinates.x,u=this._startTouchCoordinates.y;.12<Math.sqrt(Math.pow(r-a,2)+Math.pow(s-u,2))/(e-this._firstTouchTime)?(i._scrollCalibrationStatus=f,clearTimeout(this._scrollCalibrationTimeout),i._handleOnOffGrid(!0)):i._scrollCalibrationStatus=v}if(this._isRelevantTouchMoved(t,this._relevantTouchID)&&(this._shouldPreventScrolling()&&(t.preventDefault(),t.stopPropagation()),!(this._firstTouchTime&&e-this._firstTouchTime<100)&&(this._isMoved=!0,!i.isOffScreen&&this._scrollCalibrationStatus===v&&o))){var h=o.pageX,l=o.pageY,d=window.pageXOffset,c=window.pageYOffset,_=h<d||h>d+window.innerWidth||l<c||l>c+window.innerHeight,p=i._getGraphCoordinates(o);_?(i.isOffScreen=!0,i._handleCoordinateChange(p),i._handleOnOffGrid(_)):(i._handleOnOffGrid(_),n?i._handleCoordinateChange(p):i._handleCoordinateDown(p)),this._firstTouchTime=null}}},_touchStartHandler:function(t){var e=Date.now();if(0===this._touchstartNumTouches){if(this._firstTouchTime=e,this._touchstartNumTouches=t.touches.length,1<this._touchstartNumTouches)return this._stopListening=!0,void this._resetTouchState()}else if(this._firstTouchTime&&e-this._firstTouchTime<100)return this._stopListening=!0,void this._resetTouchState();1===t.touches.length&&(this._stopListening=!1,t=t.touches[0],this._relevantTouchID=t.identifier,this._startTouchCoordinates={x:t.pageX,y:t.pageY}),this._isMoved=!1;var n=this;n.isOffScreen=!1,n.isOffGrid=!1,this._scrollCalibrationStatus=this._isScrollPossible()?g:v,this._scrollCalibrationTimeout=setTimeout(function(){n._scrollCalibrationStatus=v},500)},_touchEndHandler:function(t){t.preventDefault(),t.stopPropagation();var e=this,n=0===t.touches.length;if(this._stopListening)n&&this._resetTouchState();else if(this._isRelevantTouchMoved(t,this._relevantTouchID))if(t.type,t=this._findRelevantTouch(t,this._relevantTouchID),e.isOffGrid)n&&this._resetTouchState();else{var i=e._getGraphCoordinates(t);e._handleOnOffGrid(!1),this._isMoved||e._handleCoordinateDown(i),e._handleCoordinateChange(i),e._handleCoordinateUp(i),n&&this._resetTouchState()}},_getGraphCoordinates:function(t){var e=t.target;e.getDOMNode&&(e=e.getDOMNode());var n=i(e.getBoundingClientRect());return this._getUnroundedGridCoords(t.pageX-n.left-this._pointerOverlayBuffer,t.pageY-n.top-this._pointerOverlayBuffer)},_handleCoordinateChange:function(t){var e=this._mouseP;e&&t.x===e.x&&t.y===e.y||(this._mouseP=t,u&&(this._isStable=!1),this.fire("coordinateChange",t))},_handleCoordinateDown:function(t){this._isStable=!1,this.fire("coordinateDown",t)},_handleCoordinateUp:function(t){this._isStable=!0,this.fire("coordinateUp",t)},_handleOnOffGrid:function(t){this.isOffGrid!==t&&(this.isOffGrid=t,this.showCursor(!t),this.fire(t?"offGrid":"onGrid"))},updateCursor:function(t){if(this.showCursor(!0),this.cursorP&&this.cursorP.x===t.x&&this.cursorP.y===t.y)return!1;this.cursorP=t;var e=this.getPixelCoordinates(t),n=this._cursorCanvas.get("boundingBox");return n.setStyle("left",e.x-this._cursorSize/2+"px"),n.setStyle("top",e.y-this._cursorSize/2+"px"),!0},showCursor:function(t){this._cursorRenderer&&this._cursorRenderer.updateVisible(t)},setCursorStyle:function(t,e){this._cursorRenderer.setState(t,e)},getNumChildComponents:function(){for(var t=this.diagram.get("labels"),e=0,n=0;n<t.length;n++){var i=t[n];i instanceof m.GridLabel&&"GRAPH_TITLE_LABEL"===i.styling.name&&e++}return e},getChildComponent:function(t){for(var e=this.diagram.get("labels"),n=0;n<e.length;n++){var i=e[n];if(i instanceof m.GridLabel&&"GRAPH_TITLE_LABEL"===i.styling.name&&0===t)return i.contents}throw new Error("Attempted to access nonexistent component in GraphLineGraph.")},setChildComponent:function(t,e){for(var n=this.diagram.get("labels"),i=0;i<n.length;i++){var o=n[i];if(o instanceof m.GridLabel&&"GRAPH_TITLE_LABEL"===o.styling.name&&0===t)return void(o.contents=e)}throw new Error("Attempted to access nonexistent component in GraphLineGraph.")},getAudioText:function(t){if(!t)for(var e=this.diagram.get("labels"),n=0;n<e.length;n++){var i=e[n];if(i instanceof m.GridLabel&&"GRAPH_TITLE_LABEL"===i.styling.name)return i.contents.getAudioText(t)}return""},setCursorDiameter:function(t){this._cursorSize=t},_findRelevantTouch:function(t,i){return C.Array.find(t.changedTouches,function(t){var e=t.target,n=e.generateID?e.generateID():e.getAttribute("id");return t.identifier===i&&n===this._pointerOverlayYUID},this)},_isRelevantTouchMoved:function(t,i){var o=this._pointerOverlayYUID;return C.Array.some(t.changedTouches,function(t){var e=t.target,n=e.generateID?e.generateID():e.getAttribute("id");return t.identifier===i&&n===o})},isStable:function(){return this._stopListening=!0,this._isStable},stabilize:function(){this._touchInterrupted=!0,this._stopListening=!0,this._isStable||(u?(this._handleCoordinateDown(this._mouseP),this._handleCoordinateUp(this._mouseP)):(this._handleOnOffGrid(!1),this._handleOnOffGrid(!0)),this.showCursor(!1))}})},"@VERSION@",{requires:["base","node","array-extras","q-Component","q-MathUtils","q-Point2D","q-CursorRenderer","q-CompoundGraphing","q-GraphShapeOrCurve","q-CoordinateSystem","q-Component","q-GraphPoint","q-CursorState","q-DynamicUIStabilizer","event","event-custom-base","yui-throttle","event-touch","stylesheet"]});
YUI.add("q-CanvasWidget",function(s){function t(){var e=this.parentNode.getDOMNode?this.parentNode.getDOMNode():this.parentNode,i=e.currentStyle||e.style,t=i.width,r=i.height;!this.get("autoSize")&&("auto"===t||-1<t.indexOf("%"))&&("auto"===r||-1<r.indexOf("%"))?(t=this.get("width"),r=this.get("height"),this._node.style.width=t+"px",this._node.style.height=r+"px",this._node.coordSize=t+", "+r):s.Graphic.prototype._redraw.call(this)}s.namespace("IXL").CanvasWidget=s.Base.create("canvasWidget",s.Widget,[],{CONTENT_TEMPLATE:"<div></div>",initializer:function(e){this.renderers=[]},addRenderer:function(e,i){if(!e||!s.Lang.isFunction(e.render))throw new Error("");i?(this.renderers.unshift(e),this.rendered):this.renderers.push(e),this.rendered&&e.render(this.graphic)},removeRenderer:function(r){if(!r||!s.Lang.isFunction(r.render))throw new Error("");var h=this.graphic;this.renderers=s.Array.filter(this.renderers,function(e,i,t){return e===r&&e.cleanup&&e.cleanup(h),e!==r})},removeAllRenderers:function(){var i=this.graphic;s.Array.each(this.renderers,function(e){e.cleanup&&e.cleanup(i)}),this.renderers=[]},renderUI:function(){},bindUI:function(){},syncUI:function(){var e,i=this.get("contentBox");this.graphic||(this.graphic=new s.Graphic({render:i}),e=this.graphic,s.Graphic===s.VMLGraphic&&(e._redraw=t),s.Shape===s.SVGShape&&this._resizeViewBox());var h=0,n=function(){var e=this.graphic.get("render").get("region");if(h<20&&isNaN(e.width)||!e.width)setTimeout(n,0);else{this.graphic.set("width",e.width),this.graphic.set("height",e.height);for(var i=this.renderers,t=0,r=i.length;t<r;t++)i[t].render(this.graphic);this.rendered=!0}h++}.bind(this);n()},resize:function(e,i,t){this.set("width",e),this.set("height",i),this.graphic&&(this.graphic.set("width",e-t),this.graphic.set("height",i)),this._resizeViewBox()},_resizeViewBox:function(){var e=this.graphic,i=this.get("width"),t=this.get("height");if(e){var r=e._contentBounds;r.left=-5,r.right=i+5,r.top=-5,r.bottom=t+5,e._redraw()}},hideOverflow:function(){this.get("boundingBox").setStyle("overflow","hidden")}})},"@VERSION@",{requires:["base","node","array-extras","widget","graphics","array-invoke"]});
YUI.add("q-DiagramLabel",function(e){var o,t=e.namespace("IXL");t.DiagramLabel=function(e){t.DiagramLabel.superclass.constructor.call(this,e)},e.extend(t.DiagramLabel,Object,{contents:null,weightPlacement:function(){return 0},getPossiblePositions:function(){throw new Error("Q.DiagramLabel.getPossiblePositions() must be overridden.")},applyTransform:function(e){throw new Error("Q.DiagramLabel.applyTransform() must be overridden.")},getLabelElement:function(){throw new Error("Q.DiagramLabel.getLabelElement() must be overridden.")},calculateDimensions:function(){if(!this.offsetWidth||!this.offsetHeight){var e=this.labelElement.getDOMNode();this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight}},ensureDimensionsCalculated:function(){if(0===this.offsetWidth||0===this.offsetHeight)throw new Error("Found a label with zero width/height.");if(!this.offsetWidth||!this.offsetHeight)throw new Error("calculateDimensions() must be called on this label before you invoke this method.")},populatePositionsAndPenalties:function(e,t){var i=this.getPossiblePositions(),n=i.length;e.length=n,t.length=n;for(var o=0;o<n;o++)e[o]=i[o],t[o]=this.weightPlacement(o)},getPoint:(o={},function(e,t){var i=(e=e+(0<e?.5:-.5)|0)+"_"+(t=t+(0<t?.5:-.5)|0),n=o[i];return n||(n=o[i]={x:e,y:t}),n})})},"@VERSION@",{requires:["base","node","array-extras","node","q-HTMLUtils"]});
YUI.add("q-CornerLabel",function(e){var t=e.namespace("IXL"),i=require("ixl/content/util/math/geo/Intersect"),g=require("ixl/content/util/math/geo/GeometryUtils"),_=i.rectangleAndSegment,b=g.angleFromPoints,d=g.colinear,W=(g.distance,Math.max,Math.min,Math.ceil,Math.PI),M=Math.sqrt,r=e.Array,f=function(t,e,i){return e<t&&t<i||i<t&&t<e},c=function(t,e,i){return t<e&&t<i},x=function(t,e,i){return e<t&&i<t};t.CornerLabel=function(){t.CornerLabel.superclass.constructor.call(this),this.intervalDist=2};var q={x:0,y:0,width:0,height:0};e.extend(t.CornerLabel,t.DiagramLabel,{vertex:null,arm1:null,arm2:null,greaterThan180:!1,avoidIntersectionWithArms:!0,startCount:6,distancePenaltyWeight:.1,anglePenaltyWeight:.9,applyTransform:function(n){n.transformPoint(this.vertex),n.transformPoint(this.arm1),n.transformPoint(this.arm2),r.each(this.shapesToAvoid,function(t,e,i){t.applyTransform(n)}),r.each(this.shapesToPrefer,function(t,e,i){t.applyTransform(n)})},getLabelElement:function(){var t=e.Node.create("<div>");return t.addClass("dLabel"),t.addClass("cLabel"),this.contents._parentNode=t,this.contents.render(this),t},getNormalizedDxAndDyBtwnArmAndVertex:function(t){var e=t.x-this.vertex.x,i=t.y-this.vertex.y,n=M(e*e+i*i);return{dx:e/=n,dy:i/=n}},_scaleByDiagramSize:function(t){this.intervalDist=Math.max(1,2*t);var e=40+35*t;this.labelElement.one(".dLabel").setStyle("fontSize",e+"%")},getCentralAngleDxDy:function(t,e,i,n){var r,s;if(d(this.arm1,this.vertex,this.arm2))r=-e,s=t;else{var o=M((r=t+i)*r+(s=e+n)*s);r/=o,s/=o,this.greaterThan180&&(r=-r,s=-s)}return{dx:r,dy:s}},populatePositionsAndPenalties:function(t,e){this.ensureDimensionsCalculated(),t.length=this.crowdedMode?this.avoidIntersectionWithArms?132:180:this.avoidIntersectionWithArms?110:150,e.length=this.crowdedModea?this.avoidIntersectionWithArms?55:75:this.avoidIntersectionWithArms?110:150;var i=this.getNormalizedDxAndDyBtwnArmAndVertex(this.arm1),n=i.dx,r=i.dy,s=this.getNormalizedDxAndDyBtwnArmAndVertex(this.arm2),o=s.dx,h=s.dy,a=this.getCentralAngleDxDy(n,r,o,h),g=a.dx,m=a.dy,l=this.getStartingPosition(),u=this.getMaxDistanceFromPt(),P=Math.abs(b(g,m,0,0,n,r));P=Math.min(2*W-P,P),this.greaterThan180&&(P=W/2,n=-m,o=m,h=-(r=g));var d,f=this.getPossiblePositionsAlongVector(t,e,0,l,g,m,u,0);for(d=this.avoidIntersectionWithArms?1:0;d<=3;d+=.5)if(1.5!==d&&2.5!==d){var c=d*g+n,x=d*m+r,v=M(c*c+x*x),y=b(c/=v,x/=v,0,0,g,m);y=Math.min(y,2*W-y),f=this.getPossiblePositionsAlongVector(t,e,f,l,c,x,u,y/P);var A=d*g+o,_=d*m+h,q=M(A*A+_*_);A/=q,_/=q,y=b(c,x,0,0,g,m),y=Math.min(y,2*W-y),f=this.getPossiblePositionsAlongVector(t,e,f,l,A,_,u,y/P)}if(!this.avoidIntersectionWithArms)for(var z=this.vertex.x-this.offsetWidth/2+.5,S=this.vertex.y-this.offsetHeight/2+.5,D=this.intervalDist*this.startCount,F=0;F<3;F++)t[f]=this.getPoint(z-D*g,S-D*m),e[f++]=D/u*this.distancePenaltyWeight+15,D+=2*this.intervalDist;t.length=f,e.length=f},getPossiblePositionsAlongVector:function(t,e,i,n,r,s,o,h){var a=_,g=this.intervalDist,m=this.vertex,l=this.arm1,u=this.arm2,P=n.x-this.offsetWidth/2+.5,d=n.y-this.offsetHeight/2+.5,f=q;f.width=this.offsetWidth+2,f.height=this.offsetHeight+2;for(var c=this.startCount*g,x=c;x<o;x+=g){var v=P+r*x|0,y=d+s*x|0;if(f.x=v-1,f.y=y-1,!this.avoidIntersectionWithArms||!a(f,m,l)&&!a(f,m,u)){for(var A=x+20*g<o?x+20*g:o;x<A;)t[i]=this.getPoint(P+r*x|0,d+s*x|0),e[i++]=(x-c)*this.distancePenaltyWeight+this.anglePenaltyWeight*h,x+=g;break}}return i},getMaxDistanceFromPt:function(){var t=this.arm1.x-this.vertex.x,e=this.arm1.y-this.vertex.y,i=M(t*t+e*e),n=this.arm2.x-this.vertex.x,r=this.arm2.y-this.vertex.y,s=M(n*n+r*r);return this.crowdedMode?Math.min(i,s,(this.startCount+12)*this.intervalDist):Math.min(i,s)},_getPositionAlongAngleBisector:function(){this.ensureDimensionsCalculated();var t,e,i=this.getNormalizedDxAndDyBtwnArmAndVertex(this.arm1),n=i.dx,r=i.dy,s=this.getNormalizedDxAndDyBtwnArmAndVertex(this.arm2),o=s.dx,h=s.dy;e=g.colinear(this.arm1,this.vertex,this.arm2)?(t=-r,n):(t=n+o,r+h),this.greaterThan180&&(t=-t,e=-e);var a=M(t*t+e*e);return t/=a,e/=a,this.getPoint(this.vertex.x+t,this.vertex.y+e)},_getPositionFromSqueezingLabelIntoAngle:function(){var t=this.vertex.x,e=this.vertex.y,i=this.arm1.x,n=this.arm1.y,r=this.arm2.x,s=this.arm2.y,o=this.offsetWidth,h=this.offsetHeight,a=o/2,g=h/2,m=(s-n)/(r-i),l=m*(t-i)<=e-n,u=b(i,n,t,e,r,s);if(d(this.arm1,this.vertex,this.arm2)||this.greaterThan180)return this._getPositionAlongAngleBisector();var P=W<u;if(c(t,i,r))return c(e,n,s)?P?this._getPointFromSqueeze(o,-h):this._getPointFromSqueeze(-o,h):x(e,n,s)?P?this._getPointFromSqueeze(-o,-h):this._getPointFromSqueeze(o,h):P?this._getPointFromSqueeze(0,-h):this._getPointFromSqueeze(0,h);if(f(t,i,r)){if(c(e,n,s))return P?this._getPointFromSqueeze(o,0):this._getPointFromSqueeze(-o,0);if(f(e,n,s))return 0<m?l?this.getPoint(t+a,e-g):this.getPoint(t-a,e+g):l?this.getPoint(t-a,e-g):this.getPoint(t+a,e+g);if(x(e,n,s))return P?this._getPointFromSqueeze(-o,0):this._getPointFromSqueeze(o,0);if(e===n)return i<r?e<s?this.getPoint(t-a,e+g):this.getPoint(t-a,e-g):e<s?this.getPoint(t+a,e+g):this.getPoint(t+a,e-g);if(e===s)return i<r?e<n?this.getPoint(t+a,e+g):this.getPoint(t+a,e-g):e<n?this.getPoint(t-a,e+g):this.getPoint(t-a,e-g)}else{if(x(t,i,r))return c(e,n,s)?P?this._getPointFromSqueeze(o,h):this._getPointFromSqueeze(-o,-h):x(e,n,s)?P?this._getPointFromSqueeze(-o,h):this._getPointFromSqueeze(h,-h):P?this._getPointFromSqueeze(0,h):this._getPointFromSqueeze(0,-h);if(i===t||r===t){if(c(e,n,s))return P?this._getPointFromSqueeze(o,0):this._getPointFromSqueeze(-o,0);if(f(e,n,s))return 0<m?l?this.getPoint(t+a,e+g):this.getPoint(t-a,e-g):l?this.getPoint(t-a,e+g):this.getPoint(t+a,e-g);if(x(e,n,s))return P?this._getPointFromSqueeze(-o,0):this._getPointFromSqueeze(o,0);if(e===n)return i<r?e<s?this.getPoint(t-a,e+g):this.getPoint(t-a,e-g):e<s?this.getPoint(t+a,e+g):this.getPoint(t+a,e-g);if(e===s)return i<r?e<n?this.getPoint(t+a,e+g):this.getPoint(t+a,e-g):e<n?this.getPoint(t-a,e+g):this.getPoint(t-a,e-g)}}return this.vertex},getStartingPosition:function(){return this.greaterThan180?this._getPositionAlongAngleBisector():(this.startCount=0,this._getPositionFromSqueezingLabelIntoAngle())},_getPointFromSqueeze:function(t,e){var i,n,r,s,o=this.vertex.x,h=this.vertex.y,a=this.arm1.x,g=this.arm1.y,m=this.arm2.x,l=this.arm2.y,u=this.offsetWidth,P=this.offsetHeight,d=(g-h)/(a-o),f=h-d*o,c=(l-h)/(m-o),x=h-c*o;return a===o?(r=(i=a)+t,s=(n=c*(i+t)+x-e)+e):m===o?(i=(r=m)-t,n=(s=d*(r-t)+f+e)-e):(r=(i=(f-x+e-c*t)/(c-d))+t,s=(n=(c*f-d*x+d*e-d*c*t)/(c-d))+e),a===o&&(0<m-o?(i++,r++):(i--,r--)),m===o&&(0<a-o?(i++,r++):(i--,r--)),g===h&&(h<l?(n++,s++):(n--,s--)),l===h&&(h<g?(n++,s++):(n--,s--)),0===t?o<a?this.getPoint(i+u/2,(n+s)/2):this.getPoint(i-u/2,(n+s)/2):0===e?h<g?this.getPoint((i+r)/2,n+P/2):this.getPoint((i+r)/2,n-P/2):this.getPoint((i+r)/2,(n+s)/2)}})},"@VERSION@",{requires:["base","node","array-extras","q-DiagramLabel","q-css-CornerLabel","ixl_content_util_math_geo_Intersect","ixl_content_util_math_geo_GeometryUtils"]});
YUI.add("q-GridLabel",function(i){var s=i.namespace("IXL");s.GridLabel=function(t){s.GridLabel.superclass.constructor.call(this,t)},i.extend(s.GridLabel,s.DiagramLabel,{point:null,direction:null,distance:6,applyTransform:function(e){e.transformPoint(this.point),i.Array.each(this.shapesToAvoid,function(t,i,s){t.applyTransform(e)}),i.Array.each(this.shapesToPrefer,function(t,i,s){t.applyTransform(e)})},getLabelElement:function(){var t=i.Node.create("<div>");return"GRID_LABEL"===this.styling.name?t.addClass("gridLabel"):"NUMBER_LINE_LABEL"===this.styling.name?t.addClass("numberLineLabel"):"MEASUREMENT_LABEL"===this.styling.name?t.addClass("measurementLabel"):"POINT_LABEL"===this.styling.name?t.addClass("pointLabel"):"QUADRANT_LABEL"===this.styling.name?t.addClass("quadrantLabel"):"ROTATED_LABEL"===this.styling.name?t.addClass("rotatedLabel"):"GRAPH_TITLE_LABEL"===this.styling.name?t.addClass("graphTitleLabel"):"NUMBER_LINE_SEGMENT_LABEL"===this.styling.name?(t.addClass("numberLineLabel"),t.addClass("numberLineSegmentLabel")):"EXPRESSION_LABEL"===this.styling.name?t.addClass("expressionLabel"):"UNIT_SQUARE_LABEL"===this.styling.name&&t.addClass("unitSquareLabel"),this.whiteBackground&&t.setStyle("backgroundColor","#ffffff"),this.contents._parentNode=t,this.contents.render(this),t},calculateDimensions:function(){if(!this.offsetWidth||!this.offsetHeight){var t=this.labelElement.getDOMNode();"ROTATED_LABEL"===this.styling.name?(this.offsetWidth=t.offsetHeight,this.offsetHeight=t.offsetWidth):(this.offsetWidth=t.offsetWidth,this.offsetHeight=t.offsetHeight)}},populatePositionsAndPenalties:function(t,i){t.length=1,i.length=1,t[0]=this.getPosition(),i[0]=0},getPosition:function(){return this.ensureDimensionsCalculated(),"LEFT"===this.direction.name?this.getPoint(this.point.x-this.distance-this.offsetWidth,this.point.y-this.offsetHeight/2):"RIGHT"===this.direction.name?this.getPoint(this.point.x+this.distance,this.point.y-this.offsetHeight/2):"DOWN"===this.direction.name?"ROTATED_LABEL"===this.styling.name?this.getPoint(this.point.x-this.offsetHeight,this.point.y+this.distance):"NUMBER_LINE_LABEL"===this.styling.name?this.getPoint(this.point.x-this.offsetWidth/2,this.point.y+this.distance+5):this.getPoint(this.point.x-this.offsetWidth/2,this.point.y+this.distance):"UP"===this.direction.name?"NUMBER_LINE_LABEL"===this.styling.name?this.getPoint(this.point.x-this.offsetWidth/2,this.point.y-this.distance-this.offsetHeight-3):this.getPoint(this.point.x-this.offsetWidth/2,this.point.y-this.distance-this.offsetHeight):"CENTER_UP"===this.direction.name?this.getPoint(this.point.x-this.offsetWidth/2,this.point.y-this.distance-this.offsetHeight):"CENTER_RIGHT"===this.direction.name?this.getPoint(this.point.x+this.distance,this.point.y-this.offsetHeight/2):"CENTER_DOWN"===this.direction.name?this.getPoint(this.point.x-this.offsetWidth/2,this.point.y+this.distance+this.offsetHeight):"CENTER_LEFT"===this.direction.name?this.getPoint(this.point.x-this.distance-this.offsetWidth,this.point.y-this.offsetHeight/2):"CENTER"===this.direction.name?this.getPoint(this.point.x-this.offsetWidth/2,this.point.y-this.offsetHeight/2):void 0},getBoundingBox:function(){return this.calculateDimensions(),{x:this.point.x,y:this.point.y,width:this.offsetWidth,height:this.offsetHeight}},getResponsiveBoundingBox:function(){return this.calculateDimensions(),{x:this.point.x-this.offsetWidth/2,y:this.point.y-this.offsetHeight/2,width:this.offsetWidth,height:this.offsetHeight}}})},"@VERSION@",{requires:["base","node","array-extras","q-DiagramLabel","q-css-GridLabel"]});
YUI.add("q-AxisTitleLabel",function(i){var t=i.namespace("IXL");t.AxisTitleLabel=function(){t.AxisTitleLabel.superclass.constructor.call(this)},i.extend(t.AxisTitleLabel,t.GridLabel,{orientation:null,maxXAxisLabelHeight:0,maxYAxisLabelWidth:0,getLabelElement:function(){var t=i.Node.create('<div class="gridLabel axisTitleLabel">');return"VERTICAL"===this.orientation.name?t.addClass("yAxis"):t.addClass("xAxis"),this.contents._parentNode=t,this.contents.render(this),t},calculateDimensions:function(){if(!this.offsetWidth||!this.offsetHeight){var t=this.labelElement.getDOMNode();this.offsetWidth=t.offsetWidth,this.offsetHeight=t.offsetHeight}},_scaleByDiagramSize:function(t){this.distance=Math.max(2,6*t),this.xTitleSpacing=Math.max(4,10*t),this.yTitleSpacing=Math.max(3,5*t);var i=50+50*t;this.labelElement.one(".gridLabel").setStyle("fontSize",i+"%")},getPosition:function(){if(this.ensureDimensionsCalculated(),"VERTICAL"===this.orientation.name)return this.getPoint(this.point.x-this.distance-this.yTitleSpacing,this.point.y);if("HORIZONTAL"===this.orientation.name)return this.getPoint(this.point.x-this.offsetWidth/2,this.point.y+this.distance+this.xTitleSpacing);throw new Error("Cannot get position of an AxisTitleLabel whose orientation is not HORIZONTALor VERTICAL.")}})},"@VERSION@",{requires:["base","node","array-extras","q-DiagramLabel","q-GridLabel"]});
YUI.add("q-BarGroupLabel",function(l){var e=l.namespace("IXL");e.BarGroupLabel=function(t){e.BarGroupLabel.superclass.constructor.call(this,t)},l.extend(e.BarGroupLabel,e.AxisTitleLabel,{orientation:null,maxXAxisLabelHeight:0,maxYAxisLabelWidth:0,getLabelElement:function(){var t=l.Node.create('<div class="gridLabel barGroupLabel">');return"VERTICAL"===this.orientation.name?t.addClass("yAxis"):t.addClass("xAxis"),this.contents._parentNode=t,this.contents.render(this),t},calculateDimensions:function(){if(!this.offsetWidth||!this.offsetHeight){var t=this.labelElement.getDOMNode();this.offsetWidth=t.offsetWidth,this.offsetHeight=t.offsetHeight}},_scaleByDiagramSize:function(t){this.distance=Math.max(2,6*t),this.xTitleSpacing=Math.max(4,10*t),this.yTitleSpacing=Math.max(3,5*t);var e=50+50*t;this.useSmallFontSize&&(e*=.8),this.labelElement.one(".gridLabel").setStyle("fontSize",e+"%")},getPosition:function(){if(this.ensureDimensionsCalculated(),"VERTICAL"===this.orientation.name)return this.getPoint(this.point.x-this.distance-this.yTitleSpacing,this.point.y-this.offsetWidth/2);if("HORIZONTAL"===this.orientation.name)return this.getPoint(this.point.x-this.offsetWidth/2,this.point.y+this.distance+this.xTitleSpacing);throw new Error("Cannot get position of an BarGroupLabel whose orientation is not HORIZONTALor VERTICAL.")},getXAxisGroupLabelShift:function(){var t=this.groupIndex,e=0;if(l.Lang.isValue(t)&&this.labelElement.ancestor(".graphingBaseContainer")){var i=this.labelElement.ancestor(".graphingBaseContainer"),n=null,a=null;if(i.all(".groupIndex"+t).each(function(t){var e=t.getX();(null===n||e<n)&&(n=e);var i=e+t.getDOMNode().getBoundingClientRect().width;(null===a||a<i)&&(a=i)}),null!==n&&null!==a){var s=this.labelElement.ancestor(".diagramLabelContainer");e=(n+a)/2-(this.point.x+s.getX())}}return e},getYAxisGroupLabelShift:function(){var t=this.groupIndex,e=0;if(l.Lang.isValue(t)&&this.labelElement.ancestor(".graphingBaseContainer")){var i=this.labelElement.ancestor(".graphingBaseContainer"),n=null,a=null;if(i.all(".groupIndex"+t).each(function(t){var e=t.getY();(null===n||e<n)&&(n=e);var i=e+t.getDOMNode().getBoundingClientRect().height;(null===a||a<i)&&(a=i)}),null!==n&&null!==a){var s=this.labelElement.ancestor(".diagramLabelContainer");e=(n+a)/2-(this.getPosition().y+s.getY())}}return e}})},"@VERSION@",{requires:["base","node","array-extras","q-AxisTitleLabel"]});
YUI.add("q-ScaleLabel",function(a){var t=a.namespace("IXL");t.ScaleLabel=function(){t.ScaleLabel.superclass.constructor.call(this)},a.extend(t.ScaleLabel,t.GridLabel,{scaleLabelType:null,rotated:!1,negSignWidth:0,degSymbolWidth:0,initializer:function(t){this.negSignWidth=0,this.degSymbolWidth=0},getLabelElement:function(){var t=a.Node.create("<div>");return t.addClass("gridLabel"),"Y_AXIS"===this.scaleLabelType.name&&t.addClass("yAxisScaleLabel"),"X_AXIS"!==this.scaleLabelType.name&&"X_AXIS_ALWAYS_ROTATED"!==this.scaleLabelType.name||t.addClass("xAxisScaleLabel"),"ORIGIN"===this.scaleLabelType.name&&t.addClass("originLabel"),"NUMBER_LINE_LABEL"===this.styling.name&&t.addClass("numberLineLabel"),this.whiteBackground&&t.setStyle("backgroundColor","#ffffff"),this.contents._parentNode=t,this.contents.render(this),t},calculateDimensions:function(){if(!this.offsetWidth||!this.offsetHeight){var t=this.labelElement.getDOMNode();this.offsetWidth=t.offsetWidth,this.offsetHeight=t.offsetHeight;var e=t.getElementsByClassName("negSign"),i=0<e.length?e[0]:void 0;i&&(this.negSignWidth=i.offsetWidth+1,a.UA.android&&Math.min(window.screen.width,window.screen.height)<700&&this.negSignWidth--);for(var s=t.getElementsByClassName("unitPart"),n=0;n<s.length;n++)if(-1<s[n].innerHTML.indexOf("°")){this.degSymbolWidth=s[n].offsetWidth+1;break}}},_scaleByDiagramSize:function(t){this.distance=Math.max(2,6*t);var e=30+45*t;this.labelElement.one(".gridLabel").setStyle("fontSize",e+"%")},getPosition:function(){if(this.ensureDimensionsCalculated(),"Y_AXIS"===this.scaleLabelType.name)return"NUMBER_LINE_LABEL"===this.styling.name?this.getPoint(this.point.x-this.offsetWidth-this.distance-3,this.point.y-this.offsetHeight/2):"RIGHT"===this.direction.name?this.getPoint(this.point.x+this.distance,this.point.y-this.offsetHeight/2):this.getPoint(this.point.x-this.distance-this.offsetWidth,this.point.y-this.offsetHeight/2);if("X_AXIS"!==this.scaleLabelType.name&&"X_AXIS_ALWAYS_ROTATED"!==this.scaleLabelType.name)return"ORIGIN"===this.scaleLabelType.name?this.getPoint(this.point.x-this.distance-this.offsetWidth,this.point.y+this.distance):void 0;var t=this.point.y+this.distance;"NUMBER_LINE_LABEL"===this.styling.name&&(t+=3),"UP"===this.direction.name&&(t=this.point.y-this.offsetHeight-this.distance);var e=this.point.x-this.offsetWidth/2-this.negSignWidth/2+this.degSymbolWidth/2;return this.getPoint(e,t)}})},"@VERSION@",{requires:["base","node","array-extras","q-DiagramLabel","q-GridLabel"]});
YUI.add("q-BarLabel",function(u){var t=u.namespace("IXL");t.BarLabel=function(e){t.BarLabel.superclass.constructor.call(this,e)},u.extend(t.BarLabel,t.ScaleLabel,{orientation:null,maxXAxisLabelHeight:0,maxYAxisLabelWidth:0,scaleLabelType:null,rotated:!1,negSignWidth:0,degSymbolWidth:0,getLabelElement:function(){var e=u.Node.create('<div class="gridLabel barLabel">');return"Y_AXIS"===this.scaleLabelType.name?(e.addClass("yAxis"),e.addClass("yAxisScaleLabel")):(e.addClass("xAxis"),e.addClass("xAxisScaleLabel")),this.contents._parentNode=e,this.contents.render(this),e},_scaleByDiagramSize:function(e){this.distance=Math.max(2,6*e);var t=40+40*e;this.labelElement.one(".gridLabel").setStyle("fontSize",t+"%")},calculateDimensions:function(){if(!this.offsetWidth||!this.offsetHeight){var e=this.labelElement.getDOMNode();this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight}},getPosition:function(){if(this.ensureDimensionsCalculated(),"Y_AXIS"===this.scaleLabelType.name)return this.getPoint(this.point.x-this.distance-this.offsetWidth,this.point.y-this.offsetHeight/2);var e=this.point.y+this.distance,t=this.point.x-this.offsetWidth/2-this.negSignWidth/2+this.degSymbolWidth/2;return this.getPoint(t,e)},getXAxisLabelShift:function(){var e=0,t=this.groupIndex,i=this.indexInGroup;if(u.Lang.isValue(t)&&u.Lang.isValue(i)&&this.labelElement.ancestor(".graphingBaseContainer")){var n=this.labelElement.ancestor(".graphingBaseContainer"),a=this.labelElement.ancestor(".diagramLabelContainer"),s=n.one(".groupIndex"+t+".indexInGroup"+i),o=n.one(".groupIndex"+t+".indexInGroup0"),l=n.one(".groupIndex"+t+".indexInGroup1");if(s)e=s.getX()+s.getDOMNode().getBoundingClientRect().width/2-(this.point.x+a.get("region").left);else if(o&&l){var h=o.getX(),r=o.getDOMNode().getBoundingClientRect().width,d=l.getX()-o.getX();e=h+r/2-(this.point.x+a.get("region").left)+d*i}var g=s||o||l;if(this.diffWidth)e+=this.diffWidth/2;else if(g&&this.shouldWrap){this.labelElement.setStyle("maxWidth",g.getDOMNode().getBoundingClientRect().width+"px");var f=this.offsetWidth-this.labelElement.getDOMNode().offsetWidth;e+=f/2,this.diffWidth=f,this.offsetWidth=this.labelElement.getDOMNode().offsetWidth,this.offsetHeight=this.labelElement.getDOMNode().offsetHeight}}return e},getYAxisLabelShift:function(){var e=0,t=this.groupIndex,i=this.indexInGroup;if(u.Lang.isValue(t)&&u.Lang.isValue(i)&&this.labelElement.ancestor(".graphingBaseContainer")){var n=this.labelElement.ancestor(".graphingBaseContainer"),a=this.labelElement.ancestor(".diagramLabelContainer"),s=n.one(".groupIndex"+t+".indexInGroup"+i),o=n.one(".groupIndex"+t+".indexInGroup0"),l=n.one(".groupIndex"+t+".indexInGroup1");if(s)e=s.getY()+s.getDOMNode().getBoundingClientRect().height/2-(this.point.y+a.get("region").top);else if(o&&l){var h=o.getY(),r=o.getDOMNode().getBoundingClientRect().height,d=l.getY()-o.getY();e=h+r/2-(this.point.y+a.get("region").top)+d*i}}return e}})},"@VERSION@",{requires:["base","node","array-extras","q-ScaleLabel"]});
YUI.add("q-MersenneTwister",function(e){var r=e.namespace("IXL"),n=require("ixl/external/MersenneTwister");r.MersenneTwister=n},"@VERSION@",{requires:["base","node","array-extras","ixl_external_MersenneTwister"]});
YUI.add("q-NodeTransform2DPlugIn",function(x){var t=x.namespace("IXL"),r=require("ixl/content/util/math/geo/transform/ScaleTransform"),c=require("ixl/content/util/math/geo/transform/TranslationTransform"),e=require("ixl/content/util/math/geo/transform/RotationTransform"),o=require("ixl/content/util/math/geo/transform/Matrix2D"),h=require("ixl/content/util/math/geo/GeometryUtils");x.Array;function i(t){this.host=t.host,this.initializer(t)}i.NS="transform",i.prototype={initializer:function(t){var i=t.labelData,r=i?i.box.height:parseInt(this.host.getStyle("height"),10),e=i?i.box.width:parseInt(this.host.getStyle("width"),10);this._height=r,this._width=e,this._originX=0,this._originY=0,this._labelMatrix=o.identity(),this._borders=[{x:-e/2,y:-r/2},{x:e/2,y:-r/2},{x:-e/2,y:r/2},{x:e/2,y:r/2}],this._built=!1,this._needRecomputeBorders=!0},build:function(t){this._built=!0;var i=this.host,r=this._labelMatrix,e=new c(this._originX,this._originY);e.transformAll(this._borders),e.getMatrix().transformMatrix(r),this._needRecomputeBorders=!0;var o=parseFloat(r.m00.toFixed(4)),s=parseFloat(r.m01.toFixed(4)),a=parseFloat(r.m10.toFixed(4)),n=parseFloat(r.m11.toFixed(4)),h=Math.round(parseFloat(r.m02.toFixed(4))),l=Math.round(parseFloat(r.m12.toFixed(4)));if(8===x.UA.ie){var _="progid:DXImageTransform.Microsoft.Matrix(";_+="M11="+o,_+=", M21="+a,_+=", M12="+s,_+=", M22="+n,_+=', SizingMethod="auto expand")',i.setStyle("filter",_),o=Math.abs(o),s=Math.abs(s);var m=(o-1)*this._width/2+s*this._height/2;a=Math.abs(a),n=Math.abs(n);var g=a*this._width/2+(n-1)*this._height/2;if("absolute"===i.getStyle("position"))i.setStyle("left",Math.round(h-m)+"px"),i.setStyle("top",Math.round(l-g)+"px");else{var f=i.getDOMNode().offsetLeft;f<-9e4&&(f+=99999);var u=i.getDOMNode().offsetTop;i.setStyle("position","relative"),i.setStyle("left",Math.round(f+h-m)+"px"),i.setStyle("top",Math.round(u+l-g)+"px")}}else{var d="matrix("+o+", "+a+", "+s+", "+n+", "+h+", "+l+")",p=t?"":"translate3d(0, 0, 0)";i.setStyle("msTransform",d),i.setStyle("MozTransform",d+" "+p),i.setStyle("oTransform",d),i.setStyle("webkitTransform",d+" "+p),i.setStyle("transform",d+" "+p)}},scale:function(t){if(t=parseFloat(t),!isNaN(t)){var i=new r(t);i.getMatrix().transformMatrix(this._labelMatrix),i.transformAll(this._borders),this._needRecomputeBorders=!0}},rotate:function(t){if(t=parseFloat(t),!isNaN(t)){var i=new e(t);i.getMatrix().transformMatrix(this._labelMatrix),i.transformAll(this._borders),this._needRecomputeBorders=!0}},translate:function(t,i){t=this._parseXArgTranslate(t),i=this._parseYArgTranslate(i),void 0!==t&&void 0!==i&&(this._originX+=t,this._originY+=i,this._needRecomputeBorders=!0)},_parseXArgTranslate:function(t){var i=parseFloat(t);return t&&(t+"").match("([\\d]*)%")?i*this.getWidth()/100:isNaN(i)?void 0:i},_parseYArgTranslate:function(t){var i=parseFloat(t);return t&&(t+"").match("([\\d]*)%")?i*this.getHeight()/100:isNaN(i)?void 0:i},transformFromTwoPoints:function(t,i,r,e){var o={x:this._originX,y:this._originY};this.transformOrigin(t.x,t.y);var s=h.angleFromPoints(r.x,r.y,t.x,t.y,e.x,e.y);this.rotate(s);var a=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),n=Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2));this.scale(n/a),this.translate(r.x-t.x,r.y-t.y),this.transformOrigin(o.x,o.y)},transformOrigin:function(t,i){if(t=this._parseXArgTransformOrigin(t),i=this._parseYArgTransformOrigin(i),void 0!==t&&void 0!==i){var r=t-this._originX,e=i-this._originY,o=new c(-r,-e);o.getMatrix().transformMatrix(this._labelMatrix),o.transformAll(this._borders),this._originX=t,this._originY=i,this._needRecomputeBorders=!0}},_parseXArgTransformOrigin:function(t){var i=this.getWidth(),r={left:-i/2,center:0,right:i/2},e=parseFloat(t);return t&&(t+"").match("([\\d]*)%")?e*i/100-i/2:t in r?r[t]:void 0},_parseYArgTransformOrigin:function(t){var i=this.getHeight(),r=parseFloat(t),e={top:-i/2,center:0,bottom:i/2};return t&&(t+"").match("([\\d]*)%")?r*i/100-i/2:t in e?e[t]:void 0},getWidth:function(){return this.getRight()-this.getLeft()},getHeight:function(){return this.getBottom()-this.getTop()},getLeft:function(){return this._needRecomputeBorders&&this._computeTopRightBottomLeft(),this._left},getRight:function(){return this._needRecomputeBorders&&this._computeTopRightBottomLeft(),this._right},getTop:function(){return this._needRecomputeBorders&&this._computeTopRightBottomLeft(),this._top},getBottom:function(){return this._needRecomputeBorders&&this._computeTopRightBottomLeft(),this._bottom},_computeTopRightBottomLeft:function(){for(var t=this._borders,i=1e5,r=-1e5,e=1e5,o=-1e5,s=0;s<4;s++){var a=t[s];a.y>r&&(r=a.y),a.y<i&&(i=a.y),a.x<e&&(e=a.x),a.x>o&&(o=a.x)}this._built||(i+=this._originY,r+=this._originY,e+=this._originX,o+=this._originX),this._top=i+this._height/2,this._bottom=r+this._height/2,this._left=e+this._width/2,this._right=o+this._width/2,this._needRecomputeBorders=!1}},t.NodeTransform2DPlugin=i},"@VERSION@",{requires:["base","node","array-extras","plugin","node","base","q-Point2D","ixl_content_util_math_geo_GeometryUtils","ixl_content_util_math_geo_transform_RotationTransform","ixl_content_util_math_geo_transform_TranslationTransform","ixl_content_util_math_geo_transform_ScaleTransform","ixl_content_util_math_geo_transform_Matrix2D"]});
YUI.add("q-NumberLineMarkerLabel",function(e){var i=e.namespace("IXL");i.NumberLineMarkerLabel=function(t){i.NumberLineMarkerLabel.superclass.constructor.call(this),this.isCounting=t.isCounting,this.isForward=t.isForward,this.markerHeight=this.isCounting?32:35,this.posNegSignWidth=0},e.extend(i.NumberLineMarkerLabel,i.GridLabel,{getLabelElement:function(){var t=e.Node.create('<div class="numberline-marker-label">');this.isCounting?t.addClass("counting"):(t.addClass("addition-subtraction"),this.isForward?t.appendChild('<span class="txt posSymbol">+</span>'):t.appendChild('<div class="negSign"/>').appendChild('<div class="negSymbol">-</div>'));return this.contents._parentNode=this.isForward?t:t.one(".negSign"),this.contents.render(this),t},calculateDimensions:function(){if(!this.offsetWidth||!this.offsetHeight){var t=this.labelElement.getDOMNode();this.offsetWidth=t.offsetWidth,this.offsetHeight=t.offsetHeight;var e=t.getElementsByClassName("negSymbol"),i=0<e.length?e[0]:void 0;i&&(this.posNegSignWidth=i.offsetWidth+1);var s=t.getElementsByClassName("posSymbol"),n=0<s.length?s[0]:void 0;n&&(this.posNegSignWidth=n.offsetWidth+1)}},populatePositionsAndPenalties:function(t,e){t.length=1,e.length=1,t[0]=this.getPosition(),e[0]=0},getPosition:function(){return this.ensureDimensionsCalculated(),this.getPoint(this.point.x-this.offsetWidth/2-this.posNegSignWidth/2,this.point.y-this.markerHeight-this.offsetHeight-5)}})},"@VERSION@",{requires:["base","node","array-extras","graphics","q-GridLabel","q-Point2D","q-css-GridLabel"]});
YUI.add("q-RectangleEdgeLabel",function(s){var e=s.namespace("IXL");e.RectangleEdgeLabel=function(t){e.RectangleEdgeLabel.superclass.constructor.call(this,t)},s.extend(e.RectangleEdgeLabel,e.GridLabel,{rectangle:null,edge:null,distance:25,isHidden:null,isRotated:null,hasArrows:null,getLabelElement:function(){var t=s.Node.create('<div class="rectangleEdgeLabel">'),e=s.Node.create('<div class="rectangleEdgeLabelBackground">');t.appendChild(e);var i=s.Node.create("<div>");return t.appendChild(i),this.isHidden&&t.addClass("hidden"),this.isRotated&&e.addClass("rotated"),this.contents._parentNode=i,this.contents.render(this),this.diagram.once("diagramRenderingComplete",this._setSideStyle.bind(this,i,e,this.edge.name),this),t},_setSideStyle:function(t,e,i){var s=t.get("region").width,h=t.get("region").height,n=this.diagram.wrapper;if("TOP"===i||"BOTTOM"===i)e.addClass("horizontal"),e.setStyle("width",s+20+"px"),e.setStyle("top",h/2-5+"px");else{if("LEFT"!==i&&"RIGHT"!==i)throw new Error("Edge should be TOP, BOTTOM, LEFT, or RIGHT.");e.addClass("vertical"),e.setStyle("height",(this.isRotated?s:h)+20+"px"),e.setStyle("top",(this.isRotated?-s/2:-10)+"px"),e.setStyle("left",s/2-5+"px")}n.setStyle("padding-"+i.toLowerCase(),"10px")},getPosition:function(){if(this.ensureDimensionsCalculated(),"TOP"===this.edge.name)return this.hasArrows?this.getPoint(this.point.x-this.offsetWidth/2,this.point.y-this.distance-this.offsetHeight/2):this.getPoint(this.point.x-this.offsetWidth/2,this.point.y-this.distance-this.offsetHeight+16);if("RIGHT"===this.edge.name)return this.offsetWidth/2<15&&this.hasArrows||this.isRotated?this.getPoint(this.point.x+this.distance-this.offsetWidth/2,this.point.y-this.offsetHeight/2):this.getPoint(this.point.x+this.distance-15,this.point.y-this.offsetHeight/2);if("BOTTOM"===this.edge.name)return this.hasArrows?this.getPoint(this.point.x-this.offsetWidth/2,this.point.y+this.distance-this.offsetHeight/2):this.getPoint(this.point.x-this.offsetWidth/2,this.point.y+this.distance-16);if("LEFT"===this.edge.name)return this.offsetWidth/2<15&&this.hasArrows||this.isRotated?this.getPoint(this.point.x-this.distance-this.offsetWidth/2,this.point.y-this.offsetHeight/2):this.getPoint(this.point.x-this.distance-this.offsetWidth+15,this.point.y-this.offsetHeight/2);throw new Error("Edge should be TOP, BOTTOM, LEFT, or RIGHT.")}})},"@VERSION@",{requires:["base","node","array-extras","q-DiagramLabel","q-GridLabel"]});
YUI.add("q-DiagramLabeler",function(M){var S=M.namespace("IXL"),P=require("ixl/content/util/math/geo/Intersect").twoRectangles,D=Math.PI,p=M.UA.ios||M.UA.android,l=S.DiagramLabeler=function(){},w=22,s=M.UA.ie&&M.UA.ie<9||M.UA.android||M.UA.ios||M.UA.webos,r=[];function m(e,t,a,n){if(r.length){var i=r.pop();return i.x=e,i.y=t,i.width=a,i.height=n,i}return{x:e,y:t,width:a,height:n}}function T(e){r.push(e)}var o=[];function c(){var e=m(0,0,0,0);if(o.length){var t=o.pop();return t.box=e,t}return{labelIndex:0,box:e,halfHeight:0,halfWidth:0,centerX:0,centerY:0,positionIndex:0,positions:[],positionPenalties:[],labelsToCheckIndexes:[],labelOverlaps:[],distances:[],score:0}}var H=[],N=[],L=[],i=[],B=[],R=[],X=[],_=m(0,0,0,0);M.extend(l,Object,{preProcessScaleAndTitleLabels:function(e){for(var t,a,n,i,l,r,o,s,h,f,g=!1,p=[],c=[],d=[],b=[],u=[],x=[],v=this.get("labels"),m=0;m<v.length;m++){var L=v[m];if(L instanceof S.ScaleLabel){var y=L.scaleLabelType.name;"X_AXIS"===y?(p.push(L),L instanceof S.BarLabel&&(L.getXAxisLabelShift(),e[m].box.width=L.offsetWidth,e[m].box.height=L.offsetHeight)):"X_AXIS_ALWAYS_ROTATED"===y?(p.push(L),g=!0):"Y_AXIS"===y?c.push(L):"ORIGIN"===y&&(t=L)}else if(L instanceof S.BarGroupLabel)"HORIZONTAL"===L.orientation.name?u.push(L):"VERTICAL"===L.orientation.name&&x.push(L);else if(L instanceof S.AxisTitleLabel)"HORIZONTAL"===L.orientation.name?d.push(L):"VERTICAL"===L.orientation.name&&b.push(L);else{if(L instanceof S.NumberLineMarkerLabel)continue;L instanceof S.GridLabel&&"GRAPH_TITLE_LABEL"===L.styling.name?a=L:L instanceof S.RectangleEdgeLabel&&(n=L)}if(L.labelElement.plug(S.NodeTransform2DPlugin,{labelData:e?e[m]:null}),L.labelElement.point=L.point,L.calculateDimensions(),n&&n.isRotated){n.labelElement.one(".rectangleEdgeLabelBackground").addClass("rotated");var A=n.labelElement.transform;A.rotate(-D/2),A.build(!0),n=null}}var I=2.5;for(this.sizeFactor<.5&&(I=-1),r={},o={},m=0;m<p.length&&!g;m++){for(i=p[m],r.x=i.point.x-I/2,r.y=i.point.y-I/2,r.width=i.offsetWidth+I,r.height=i.offsetHeight+I,s=m+1;s<p.length&&!g;s++)l=p[s],o.x=l.point.x-I/2,o.y=l.point.y-I/2,o.width=l.offsetWidth+I,o.height=l.offsetHeight+I,P(r,o)&&(g=!0);for(s=0;s<c.length&&!g;s++)(l=c[s])instanceof S.BarLabel||(o.x=l.point.x,o.y=l.point.y,o.width=l.offsetWidth,o.height=l.offsetHeight,P(r,o)&&(g=!0));t&&(o.x=t.point.x,o.y=t.point.y,o.width=t.offsetWidth,o.height=t.offsetHeight,P(r,o)&&(g=!0))}for(m=0;m<p.length;m++)h=p[m].labelElement,f=h.transform,p[m]instanceof S.BarLabel?(f.translate(p[m].getXAxisLabelShift(),0),f.build()):g&&this.canRotateScaleLabels&&(h.one("div.gridLabel.xAxisScaleLabel").addClass("rotated"),f.transformOrigin("right","top"),f.translate("-60%",0),f.rotate(-D/3),f.build());for(m=0;m<c.length;m++)h=c[m].labelElement,f=h.transform,c[m]instanceof S.BarLabel&&(f.translate(0,c[m].getYAxisLabelShift()),f.build());var M=0,T=0,E=S.DiagramLabeler.titleShiftFactor;for(m=0;m<p.length;m++)M=Math.max(M,p[m].labelElement.transform.getHeight());for(m=0;m<c.length;m++)T=Math.max(T,c[m].labelElement.transform.getWidth());var O=0,w=0;u.forEach(function(e){e.maxXAxisLabelHeight=M,f=e.labelElement.transform,O=Math.max(O,f.getHeight()),f.translate(e.getXAxisGroupLabelShift(),0),f.translate(0,M),f.translate(0,100*(E-1)+"%"),f.build()}),d.forEach(function(e){e.maxXAxisLabelHeight=M+O,(f=e.labelElement.transform).translate(0,M+O),f.translate(0,100*(E-1)*2+"%"),f.build()}),x.forEach(function(e){e.maxYAxisLabelWidth=T,f=e.labelElement.transform,w=Math.max(w,f.getHeight()),f.transformOrigin("left","top"),f.rotate(-D/2),f.translate("-100%","50%"),f.translate(0,e.getYAxisGroupLabelShift()),f.translate(-T,0),f.build()}),b.forEach(function(e){(f=e.labelElement.transform).transformOrigin("left","top"),f.rotate(-D/2),f.translate("-100%","50%"),e.maxYAxisLabelWidth=T+w,f.translate(-T-w,0),f.build()}),a&&((f=a.labelElement.transform).translate("0","-"+100*E+"%"),f.build())},positionLabels:function(e,t){var a=i;a.length=0;var n=this.get("context");n?(this.random=new S.MersenneTwister(n.seed),this.positionLabelsHelper(a,0,0,e,t)):t(a)},positionLabelsHelper:function(t,e,a,n,i){for(var l=this.get("labels"),r=e,o=l.length;r<o;r++){var s=l[r];s.labelElement.one(".yAxis")&&p&&s.labelElement.setStyle("maxWidth",this.canvas.get("height")+"px");try{s.calculateDimensions()}catch(e){return void i(t)}var h=s.offsetWidth,f=s.offsetHeight;if(0===h||0===f)return 3<=a?void i(t):void M.later(100,this,this.positionLabelsHelper,[t,r,a+1,n,i]);var g=t[r]=c();g.labelIndex=r,g.box.width=h,g.box.height=f,g.halfWidth=h/2,g.halfHeight=f/2}this.penalizeOverlap&&(w=44),this.populateLabelData(t,n)},populateLabelData:function(e,t){this.populateLabelPositions(e);var a=this.getMaxBBs(e);this.populateShapePenalties(e,a),this.populateLabelsToCheckIndexes(e,a),this.preProcessScaleAndTitleLabels(e),this.chooseInitialPositions(e),this.populateOverlapsAndScores(e),this.populateDistancesAndScores(e),this.placeLabels(.66,e,t)},populateLabelPositions:function(e){for(var t=this.get("labels"),a=0,n=e.length;a<n;a++){var i=e[a];t[a].populatePositionsAndPenalties(i.positions,i.positionPenalties)}},populateShapePenalties:function(e,t){for(var a=this.get("labels"),n=this.get("shapes"),i=this.get("markers"),l=n.length,r=i.length,o=0,s=e.length;o<s;o++){var h=e[o],f=a[o],g=t[o],p=h.positions,c=p.length;if(!(c<2)){var d,b=h.positionPenalties,u=h.box,x=f.shapesToAvoid,v=f.shapesToPrefer,m=x.length,L=v.length,y=B,A=R,I=X,M=X;for(y.length=0,A.length=0,I.length=0,d=M.length=0;d<l;d++)y[d]=n[d].testIntersectionPrep(g,f);for(d=0;d<r;d++)A[d]=i[d].testIntersectionPrep(g,f);for(d=0;d<m;d++)I[d]=x[d].testOverlapPrep(g,f);for(d=0;d<L;d++)M[d]=v[d].testOverlapPrep(g,f);for(var T=0;T<c;T++){var E,O,w=p[T];u.x=w.x,u.y=w.y;var S=0;for(d=0;d<l;d++)null!==(E=y[d])&&n[d].testIntersection(u,E)&&(S+=20);for(d=0;d<r;d++)null!==(E=A[d])&&i[d].testIntersection(u,E)&&(S+=20);for(d=0;d<m;d++)null!==(O=I[d])&&x[d].testOverlap(u,O)&&(S+=4);for(d=0;d<L;d++)null!==(O=M[d])&&v[d].testOverlap(u,O)||(S+=4);b[T]+=S}}}},getMaxBBs:function(e){for(var t=L,a=t.length=0,n=e.length;a<n;a++){for(var i=e[a],l=i.positions,r=i.box,o=r.width,s=r.height,h=l[0],f=h.x,g=h.y,p=f,c=g,d=1,b=l.length;d<b;d++){var u=l[d],x=u.x,v=u.y;x<f?f=x:p<x&&(p=x),v<g?g=v:c<v&&(c=v)}t[a]=m(f,g,p-f+o,c-g+s)}return t},populateLabelsToCheckIndexes:function(e,t){for(var a=P,n=0,i=e.length;n<i;n++)for(var l=e[n].labelsToCheckIndexes,r=t[n],o=n+1;o<i;o++)a(r,t[o])&&(l.push(o),e[o].labelsToCheckIndexes.push(n))},chooseInitialPositions:function(e){for(var t=this.random,a=0,n=e.length;a<n;a++){var i=e[a],l=i.positions,r=t.random()*l.length|0;i.positionIndex=r,i.score=i.positionPenalties[r];var o=l[r],s=o.x,h=o.y,f=i.box;f.x=s,f.y=h,i.centerX=s+i.halfWidth,i.centerY=h+i.halfHeight}},populateOverlapsAndScores:function(e){for(var t=P,a=0,n=e.length;a<n;a++)for(var i=e[a],l=i.box,r=i.labelsToCheckIndexes,o=i.labelOverlaps,s=0,h=r.length;s<h;s++){var f=r[s];if(!(f<=a)){var g=e[f],p=t(l,g.box);p&&(i.score+=w,g.score+=w),o[f]=p,g.labelOverlaps[a]=p}}},populateDistancesAndScores:function(e){for(var t=0,a=e.length;t<a;t++){var n=e[t],i=n.distances;i[t]=0;var l=n.centerX,r=n.centerY;n.score+=1;for(var o=t+1;o<a;o++){var s=e[o],h=l-s.centerX,f=r-s.centerY,g=Math.sqrt(h*h+f*f)/5e3/a;i[o]=g,s.distances[t]=g,n.score-=g,s.score-=g}}},placeLabels:function(t,a,e){var n=this,i=s?this.get("labeledApproximately")?.65:.75:.85,l=.85===i?30:.75===i?8:5;function r(){e(a)}var o=0;!function e(){for(;.01<t;)if(n.placeLabelsRandomly(t,a),t*=i,0===(o=(o+1)%l))return void M.soon(e);n.placeLabelsGreedily(a,2,r)}()},placeLabelsRandomly:function(e,t){for(var a=this.random,n=t.length,i=0;i<30;i++){var l=t[a.random()*n|0],r=l.positions.length;if(1!==r){for(var o,s=l.positionIndex;(o=a.random()*r|0)===s;);this.mutateLabel(o,l,t,e)}}},mutateLabel:function(e,t,a,n){var i=0!==n&&this.random.random()<n,l=t.positionPenalties[e],r=i?1234567890:t.score-l;if(!(r<=0)){var o,s,h=P,f=N,g=H,p=t.positions[e],c=p.x,d=p.y,b=c+t.halfWidth,u=d+t.halfHeight,x=t.box,v=_;v.x=c,v.y=d,v.width=x.width,v.height=x.height;var m=0,L=t.labelsToCheckIndexes;for(o=0,s=L.length;o<s;o++){var y=L[o];if(h(v,a[y].box)){if(f[y]=!0,r<=(m+=w))return m}else f[y]=!1}for(m+=1,o=0,s=a.length;o<s;o++){var A=a[o],I=b-A.centerX,M=u-A.centerY,T=Math.sqrt(I*I+M*M)/5e3/s;m-=g[o]=T}if(m<r){_=x,t.box=v,t.score=l+m,t.positionIndex=e,t.centerX=b,t.centerY=u;var E=t.labelOverlaps,O=t.distances;t.labelOverlaps=f,t.distances=g,N=E,H=O,this.updateDataAfterMutate(t,a,f,g,E,O)}return m}},updateDataAfterMutate:function(e,t,a,n,i,l){var r,o,s,h=e.labelIndex;for(r=0,o=t.length;r<o;r++){s=t[r];var f=l[r],g=n[r];s.score+=g-f,s.distances[h]=g}var p=e.labelsToCheckIndexes;for(r=0,o=p.length;r<o;r++){var c=p[r];s=t[c];var d=i[c],b=a[c];d&&!b?(s.score-=w,s.labelOverlaps[h]=!1):!d&&b&&(s.score+=w,s.labelOverlaps[h]=!0)}},placeLabelsGreedily:function(g,p,c){var d=this,b=0,u=0,x=0;!function e(){var t=d,a=0,n=b,i=u,l=x,r=p,o=g,s=o.length;e:for(;n<r;n++){for(;i<s;i++){for(var h=o[i],f=h.positions.length;l<f;l++){if(256<=a)break e;t.mutateLabel(l,h,o,0),a++}l=0}i=0}n<r?(b=n,u=i,x=l,M.soon(e)):M.soon(c)}()},placeLabelsAndUpdateMargins:function(e,t){for(var a=this.get("labels"),n=0,i=e.length;n<i;n++){var l=e[n],r=a[n].labelElement,o=r.getDOMNode();if(null!==o){var s=l.box,h=parseInt(o.style.top,10),f=parseInt(o.style.left,10);if(o.style.top=isNaN(h)?s.y+"px":s.y+h+"px",o.style.left=isNaN(f)?s.x+"px":s.x+f+"px",r.transform){var g=r.transform;r.one(".yAxis.axisTitleLabel")?(s.width=r.get("region").height,s.height=r.get("region").width,s.x=r.get("region").left-r.ancestor().get("region").left,s.y=r.get("region").top-r.ancestor().get("region").top):(s.width=g.getWidth(),s.height=g.getHeight(),s.x+=g.getLeft(),s.y+=g.getTop())}o.className="diagramLabel"}}var p=this.wrapper.getDOMNode(),c=this.labelContainer.getDOMNode();if(p&&c){var d=this.getMaxBoundingBox(e),b=-d.y,u=-d.x,x=d.y+d.height-this.canvas.get("height"),v=d.x+d.width-this.canvas.get("width");b=Math.ceil(Math.max(0,b)),u=Math.ceil(Math.max(0,u)),x=Math.ceil(Math.max(0,x)),v=Math.ceil(Math.max(0,v));var m=M.one(p.parentNode),L=parseInt(m.getStyle("marginLeft"),10);(!L||isNaN(L)||u<L)&&(L=0);var y=this.canvas,A=y.get("width")+u-L+v+1,I=y.get("height")+b+x+1;c.style.top=b+"px",c.style.left=u-L+"px",p.style.width=A+"px",p.style.height=I+"px",T(d)}t(e)},getMaxBoundingBox:function(e){for(var t,a,n,i,l=e[0].box,r=l.x,o=l.y,s=r+l.width,h=o+l.height,f=1,g=e.length;f<g;f++)t=(l=e[f].box).x,a=l.y,n=t+l.width,i=a+l.height,t<r?r=t:s<n&&(s=n),a<o?o=a:h<i&&(h=i);return m(r,o,s-r,h-o)}},{_diagramQueue:[],delayed:0,titleShiftFactor:1.1,queueLabeling:function(e){var t=l._diagramQueue;t.push(e),1===t.length&&l._handleQueuedDiagram(e)},_handleQueuedDiagram:function(){var t=l._diagramQueue[0];M.soon(function(){t.positionLabels(function(e){t.placeLabelsAndUpdateMargins(e,l._labelingDone)},l._labelingDone)})},_labelingDone:function(e){for(var t=0,a=e.length;t<a;t++)T((n=e[t]).box),n.positions.length=0,n.positionPenalties.length=0,n.labelsToCheckIndexes.length=0,n.labelOverlaps.length=0,n.distances.length=0,o.push(n);var n,i=l._diagramQueue;i[0].fire("diagramRenderingComplete"),i.shift(),0<i.length&&l._handleQueuedDiagram(i[0])}})},"@VERSION@",{requires:["base","node","array-extras","yui-gallery-soon","plugin","q-Rand","q-ScaleLabel","q-AxisTitleLabel","q-NodeTransform2DPlugIn","q-GridLabel","q-NumberLineMarkerLabel","q-BarGroupLabel","q-BarLabel","q-RectangleEdgeLabel","q-MersenneTwister"]});
YUI.add("q-Polygon2D",function(n){var o=n.namespace("IXL"),t=require("ixl/content/util/math/geo/Intersect"),e=require("ixl/content/util/math/geo/GeometryUtils"),u=t.rectangleAndSegment,r=t.rectangleOverlapPolygon,i={};o.Polygon2D=function(){o.Polygon2D.superclass.constructor.call(this),this.objectType="ixl.qgen.util.math.geo._2D.Polygon2D"},n.extend(o.Polygon2D,o.Base2D,{points:null,open:!1,applyTransform:function(t){t.transformAll(this.points)},getBoundingBox:function(){return e.getBoundingBoxForPoints(this.points)},getPathAsPoints:function(t){return this.points},testIntersectionPrep:function(t){for(var n,e=u,o=[],r=this.points,i=r.length,s=r[i-1],l=0;l<i;l++)1&l?s=r[l]:n=r[l],e(t,s,n)&&o.push({p1:s,p2:n});return o.length?o:null},testIntersection:function(t,n){for(var e=u,o=0,r=n.length;o<r;o++){var i=n[o];if(e(t,i.p1,i.p2))return!0}return!1},testOverlapPrep:function(t,n){var e=this.points;return e.length<2?null:r(t,e)?i:null},testOverlap:function(t,n){return r(t,this.points)},copy:function(){var t=new this.constructor;return t.points=n.Array.map(this.points,function(t){return o.Point2D.createFromPoint(t)}),t.open=this.open,t}},{create:function(t,n){var e=new o.Polygon2D;return e.points=t,e.open=n,e}})},"@VERSION@",{requires:["base","node","array-extras","q-Base2D","ixl_content_util_math_geo_Intersect","ixl_content_util_math_geo_GeometryUtils"]});
YUI.add("q-InvisibleBox2D",function(n){var e=n.namespace("IXL");e.InvisibleBox2D=function(){e.InvisibleBox2D.superclass.constructor.call(this)},n.extend(e.InvisibleBox2D,e.Polygon2D,{testIntersectionPrep:function(n){return null},testOverlapPrep:function(n,e){return null}})},"@VERSION@",{requires:["base","node","array-extras","q-Polygon2D"]});
