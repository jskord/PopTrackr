YUI.add("qela-WordSumEquationView",function(t){var e=t.namespace("IXL"),c="word-sum",g={"+":c+"-plus","-":c+"-minus","=":c+"-equals"};e.WordSumEquationView=t.Base.create("wordSumEquationView",t.View,[],{render:function(){var h=this._parentNode,e=this.get("terms");this.hasImageTerm()&&h.addClass("word-sum-with-imgs");window.screen.availWidth;t.Array.each(e,function(e){var t=e.symbol,n=e.term;if("string"==typeof t){if(g.hasOwnProperty(t)){var r=h.appendChild('<span class="'+c+'-operator"/>'),i="-"===t?"âˆ’":t;r.set("text",i),r.on("selectstart",function(e){e.preventDefault()})}}else t.set("container",h),t.render();var a=c+"-term";if("string"==typeof n.get("text")){var s=h.appendChild('<div class="'+a+'"/>');n._parentNode=s,n.render(),s.one("span").on("selectstart",function(e){e.preventDefault()})}else if("string"==typeof n.get("src")){var o=h.appendChild('<div class="'+a+'"/>');n._parentNode=o;var d=n.get("width"),u=n.get("height");if(120<d){var l=120/d;n.set("width",120),n.set("height",l*u)}n.render(),o.all("img").setAttribute("draggable",!1),o.on("dragstart",function(e){e.preventDefault()}),o.on("selectstart",function(e){e.preventDefault()})}else{var m=h.appendChild('<div class="'+a+'"/>');m.appendChild(n.get("container")),n._parentNode=m,n.render()}}),(h=this._parentNode).all(".fill-in").each(function(e){e.setStyle("vertical-align","middle")}),this.updateSmallDeviceEquationWidth(),window.addEventListener("orientationchange",function(e){this.updateSmallDeviceEquationWidth()}.bind(this))},updateSmallDeviceEquationWidth:function(){var t="narrow-equation-image",n="narrow-equation-operator",r=window.innerWidth<window.innerHeight;if(r?window.innerWidth<=600:window.innerHeight<=600){var e=this._parentNode,i=e.all("img"),a=e.all(".word-sum-operator");i.each(function(e){r?e.addClass(t):e.removeClass(t)}),a.each(function(e){r?e.addClass(n):e.removeClass(n)})}},hasImageTerm:function(){return this.get("terms").some(function(e){return"string"==typeof e.term.get("src")})},getNumChildComponents:function(){return this.get("terms").length},getChildComponent:function(e){return this.get("terms")[e].term},setChildComponent:function(e,t){this.get("terms")[e].term=t},getAudioText:function(n){if(this.hasImageTerm()){t.Array.filter(this.get("terms"),function(e){return"string"!=typeof e.term.get("src")});return t.Array.map(this.get("terms"),function(e){return e.term.getAudioText(n)}).join(", ")}return t.Array.map(this.get("terms"),function(e){var t="-"===e.symbol?"minus":e.symbol;return t?", "+t+" "+e.term.getAudioText(n):e.term.getAudioText(n)}).join(" ")}},{ATTRS:{terms:{value:[],writeOnce:"initOnly",validator:t.Lang.isArray}}})},"@VERSION@",{requires:["base","node","array-extras","view","qela-css-WordSumEquationView"]});
